{"version":3,"sources":["Config.js","Geocoder/images/geocoder.png","Geocoder/images/throbber.gif","Util.js","Geocoder.js","TooltipIcon.jsx","AddOverlay.js","ExportLayersToJSONButton.jsx","ManageOverlays.jsx","MapLabelsToggle.js","Settings.js","FullscreenToggle.js","UtilityBar.js","Item.js","AddLayerItem.js","ScrollButton.js","ViewBar.js","Modal.jsx","Tooltip.jsx","EsriTiledMapLayer.js","EsriDynamicMapLayer.js","EsriFeatureLayer.js","EsriImageLayer.js","Leaflet.loading/Control.Loading.js","LeafletLoadingControl.jsx","MapWrapper.js","RowContainer.js","MapsContainer.js","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","findWithAttr","array","attr","value","i","length","moveWithinArray","from","to","splice","Geocoder","props","mapboxToken","that","this","map","L","geocoderObj","Control","Mapbox","geocoderSearchPlaceholderText","addTo","on","e","transmitGeocode","container","getContainer","window","document","getElementById","appendChild","geocode","id","className","Component","TooltipIcon","library","add","faInfoCircle","data-tip","tooltipName","data-for","data-event","icon","AddOverlay","faPlusSquare","onClick","bind","onBlur","handleLayerTypeChange","modalType","state","layerTypeGuess","event","console","log","target","setState","submittedUrl","newType","Object","entries","TileLayer","WMSTileLayer","EsriImageLayer","EsriFeatureLayer","EsriTiledMapLayer","forEach","lyrTypeRE","test","modalContent","htmlFor","name","placeholder","Config","tooltips","Url","type","checked","onChange","openModal","title","size","faCopy","ExportLayersToJSONButton","showLayers","clipboard","ClipboardJS","rows","cols","readOnly","JSON","stringify","layers","data-clipboard-target","ManageOverlays","faLayerGroup","faTimesCircle","currentOverlays","overlays","o","key","display_name","data-overlay-id","deleteOverlay","noSubmit","MapLabelsToggle","toggleLabels","defaultChecked","labelLayerOn","Settings","faCog","viewbarLayers","faExpand","faCompress","FullscreenToggle","toggleFullscreen","isFullscreenEnabled","UtilityBar","numberOfLayersOn","addOverlay","Item","isToggledOn","opacity","resolveThumbnail","getThumbnailByLayerType","guessLayerTypeByUrl","layerType","thumbnail_file","startsWith","thumbnail_path","maxLayers","prevState","onItemClick","vex","dialog","alert","maxLayersWarning","replace","dispName","style","backgroundImage","slice","AddLayerItem","faMap","faPlus","DisplayName","ThumbnailPath","transform","color","faAngleLeft","faAngleRight","ScrollButton","direction","arrow","ViewBar","handleItemClick","handleScrollButtonClick","scrollTo","onWheel","easeInOutQuad","data","newState","cloneDeep","lyr","index","scrollDirection","prevProps","newLayer","push","elem","scrollSize","deltaMode","deltaY","scrollLeft","duration","start","clientWidth","documentElement","moveSize","Math","max","change","currentTime","animateScroll","val","setTimeout","t","b","c","d","items","onScroll","scrollleft","item","closeModal","addLayer","ReactModal","setAppElement","Modal","formatContent","afterOpenModal","gatherValues","handleCloseModal","handleSubmit","ref","React","createRef","getParent","rebuildTooltip","querySelector","querySelectorAll","url","modal","current","node","children","modalSubmit","content","options","modalOptions","closeTimeoutMS","isOpen","onAfterOpen","onRequestClose","parentSelector","contentLabel","Tooltip","resetRebuildTooltip","ReactTooltip","rebuild","effect","place","multiline","globalEventOff","tiledMapLayer","GridLayer","propTypes","PropTypes","string","isRequired","withLeaflet","EsriDynamicMapLayer","el","dynamicMapLayer","contextValue","leaflet","popupContainer","fromProps","toProps","leafletElement","setUrl","MapLayer","featureLayer","imageMapLayer","error","warn","Loading","extend","delayIndicator","position","separate","zoomControl","spinjs","spin","lines","width","radius","rotate","top","initialize","setOptions","_dataLoaders","onAdd","Spinner","_addLayerListeners","_addMapListeners","zoomsliderControl","classes","_container","DomUtil","addClass","_getLastControlButton","create","_indicatorContainer","_indicator","_spinner","onRemove","_removeLayerListeners","_removeMapListeners","removeFrom","removeChild","_map","prototype","call","addLoader","delayIndicatorTimeout","updateIndicator","removeLoader","isLoading","clearTimeout","_showIndicator","_hideIndicator","_countLoaders","hasOwnProperty","Zoom","removeClass","Zoomslider","_ui","zoomOut","button","offsetWidth","offsetHeight","_handleLoading","getEventId","_handleBaseLayerChange","layer","eachLayer","Canvas","_handleLoad","_leaflet_id","_layerAdd","loading","load","exception","_layerRemove","off","baselayerchange","dataloading","dataload","layerremove","Map","addInitHook","loadingControl","addControl","LeafletLoadingControl","opts","MapControl","faGripVertical","Handle","provided","dragHandleProps","MapWrapper","context","labelLayerUrl","DEFAULT_VIEWPORT","center","mapDefaultCenter","zoom","mapDefaultZoom","viewport","invalidateMapSizes","syncMaps","unsyncMaps","moveend","onViewportChanged","passUpRef","onResize","onGeocodeClick","bboxStringToLatLngBoundsArray","checkLayerBounds","mapRef","visibleIndex","ref_id","deleteRef","a","startBounds","split","clearGeocode","layer_components","WMTSTileLayer","Layer","draggableProps","innerRef","minZoom","mapMinZoom","bounds","maxZoom","numberLayers","isDragging","zoomControlAdded","left","fadeColor","shadow","geocodeResult","Marker","pane","zIndex","Overlay","forwardRef","RowContainer","maps","draggableId","snapshot","layerIndex","droppableProps","MapsContainer","onDragEnd","setMapRef","handleGeocode","mapRefs","manageZoomControls","DOMNode","draggedLayer","destination","currentLayerIndex","destinationIndex","allLayers","currentRow","source","droppableId","destRow","filter","row","allTurnedOnLayers","updateLayerDisplayIndexesAndRows","removeControl","invalidateSize","unsync","j","isSynced","sync","syncCursor","randomMap","bbox","_northEast","lat","_southWest","fitBounds","setView","prevLyrs","lyrs","array1","array2","arraysAreEqual","compareArrays","isEqual","toString","numberRows","Set","row1Layers","sort","row2Layers","App","toggleModal","toggleSpinner","calculateDisplayIndexes","calculateRowLayers","defaultOverlays","LayersInfo","shortid","generate","sortVal","current_val","curr","bool","new_layer","isOverlay","obj","currentTarget","dataset","overlayId","display","matchIndex","foundIdx","found","newStateLayers","concat","newNumberOfLayersOn","newLayers","lyrIndex","visibleLayers","enabled","modalIsOpen","siteTitle","welcomeText","mapCenter","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","cssVars","ReactDOM","render","URL","process","origin","addEventListener","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.1a1f5c87.chunk.js","sourcesContent":["module.exports = {\r\n\r\n  \"maxLayers\": 8, //From 1 - 8, though why would you want 1?\r\n  \"maxLayersWarning\": \"Only {maxLayers} layers can be selected at once. Please deselect some in order to select new ones.\",//Can be changed, but leave {maxLayers in there somewhere}\r\n  \"siteTitle\": \"Sideby: for comparing stuff\",\r\n  \"welcomeText\": \"Sideby is an application for comparing spatial data layers side by side (by side by side by side, etc.). Try clicking/tapping the layers below, or try adding your own by clicking the + at the end of the list.\",\r\n  \"geocoderSearchPlaceholderText\": \"Search for a place...\",\r\n  // You can define layers that will be displayed on each map \r\n  // by default using the defaultOverlays option.\r\n\r\n  \"defaultOverlays\": [\r\n    {\r\n      \"url\": \"https://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/USA_States_Generalized/FeatureServer/0\",\r\n      \"type\": \"EsriFeatureLayer\",\r\n      \"style\": function(){ // you can use style options from https://leafletjs.com/reference-1.5.0.html#path-option \r\n        return {\r\n          \"fill\": false, \r\n          \"color\": \"#fafafa\", \r\n          \"weight\": 1\r\n        }\r\n      },\r\n      \"id\": \"stateoutlinesoverlay\",\r\n      \"display_name\": \"USA State Outlines\",\r\n      \"interactive\": false\r\n    },\r\n    {\r\n      \"url\": \"http://ogi.state.ok.us/geoserver/wms?\",\r\n      \"type\": \"WMSTileLayer\",\r\n      \"format\": \"image/png8\",\r\n      \"transparent\": \"true\",\r\n      \"layers\": \"ogi:ok_counties\",\r\n      \"display_name\": \"Oklahoma Counties\",\r\n      \"id\": \"ogi:ok_counties\"\r\n    }\r\n  ],\r\n\r\n  //\"defaultOverlays\":[],\r\n  \"mapboxToken\": \"pk.eyJ1Ijoia3JkeWtlIiwiYSI6Ik15RGcwZGMifQ.IR_NpAqXL1ro8mFeTIdifg\",//replace with your own\r\n  \"labelLayerUrl\": \"https://api.mapbox.com/styles/v1/krdyke/cjf9wgvwg0zlh2rmo4jx9jcec/tiles/256/{z}/{x}/{y}?access_token=\",\r\n  \"mapDefaultZoom\": 3,\r\n  \"mapMinZoom\": 3,\r\n  \"mapDefaultCenter\": [0,0],\r\n  \"tooltips\": {\r\n      \"Url\": \"Enter the URL to the layer you want to add here.\",\r\n      \"TileLayer\": \"An XYZ style layer.<br/>For example https://maps.nyc.gov/xyz/1.0.0/carto/label/{z}/{x}/{y}.png8\",\r\n      \"EsriFeatureLayer\": \"A vector layer coming from ArcGIS Online or ArcGIS Server.<br/>For example, https://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/USA_States_Generalized/FeatureServer/0\",\r\n      \"ThumbnailPath\": \"Enter a path to a thumbnail picture to use for the layer. It can be a full URL or the filename of an image stored in /public/assets/images.\",\r\n      \"DisplayName\": \"The name to use for this layer.\"  \r\n  }\r\n};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAMAAACelLz8AAAAz1BMVEUAAAAkJCQmJiYmJiYlJSUkJCQAAAAqKiokJCQmJiYzMzMlJSUkJCQmJiYlJSUmJiYoKCgmJiYmJiYnJycmJiYAAAAmJiYmJiYlJSUZGRklJSUmJiYmJiYlJSUlJSUmJiYmJiYtLS0mJiYlJSUmJiYnJyccHBwmJiYmJiYlJSUiIiImJiYmJiYmJiYlJSUkJCQlJSUjIyMuLi4mJiYmJiYlJSUlJSUlJSUAAAAmJiYlJSUoKCglJSUlJSUmJiYmJiYlJSUlJSUlJSUlJSUmJiawjvnZAAAARHRSTlMARfbw3jEDBkb+BatNZMu1GfHGDdQBoPjyCsOfFD2C/LQRaqiTVQmMcFkW4uR961pnOQshyWDgnAKuzDP5uPVW+tp5S3AUDfcAAACGSURBVBgZzcFFAoMwAATARQN1d3d3d9n/v6n0SsKdGYROrW7ZUMlWm+SsD1kkw1ZnPnXHkMTZADAxFwP4JdMCnhU1+CVy+NO4hF+02IbnwzX8YuwKwDLeNiQFHo7nG7+Q5UcmX/eH/oTK5oQLjS3Urjp3Amp7cogAPboO1ESl5CBAOYVQ+QEjbg1iCZEUOgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/gif;base64,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\"","/*\r\n*  Takes an array of objects and returns the index \r\n*  of the member with the supplied attribute value.\r\n*  If not found, returns -1.\r\n*/\r\nexport function findWithAttr(array, attr, value) {\r\n    for(var i = 0; i < array.length; i += 1) {\r\n        if(array[i][attr] === value) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n  }\r\n\r\n/*\r\n*\tMoves items within an array. From and to arguments\r\n*   Represent the index numbers. Returns nothing, as \r\n*   it modifies the array in place.\r\n*/\r\nexport function moveWithinArray(array, from, to) {\r\n    array.splice(to, 0, array.splice(from, 1)[0]);\r\n  }\r\n\r\nexport function compareArrays(array1, array2) {\r\n\tvar arraysAreEqual = true;\r\n\tfor (var i = array1.length; i--;){\r\n\t\tif (array1[i] !== array2[i]) {\r\n\t\t\tarraysAreEqual = false;\r\n\t\t}\r\n\t}\r\n\treturn arraysAreEqual;\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport L from 'leaflet';\r\nimport {mapboxToken, geocoderSearchPlaceholderText} from './Config';\r\nimport 'leaflet-control-geocoder';\r\nimport './Geocoder/images/geocoder.png';\r\nimport './Geocoder/images/throbber.gif';\r\nimport './Geocoder/Control.Geocoder.css';\r\nimport './Geocoder.css';\r\n\r\n\r\nclass Geocoder extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.mapboxToken = mapboxToken;\r\n  }\r\n \r\n  componentDidMount(){\r\n    //console.log(\"Geocoder mounted\");\r\n    let that = this;\r\n    this.map = L.map('hidden-geocoder-map');\r\n    this.geocoderObj = new L.Control.Geocoder(\r\n      {\r\n        \"geocoder\": new L.Control.Geocoder.Mapbox(\r\n          this.mapboxToken,\r\n          //By uncommenting geocodingQueryParams below, you can restrict geocoding results\r\n          //to a specific region using country and bbox. By default it is a world-wide geocoder.\r\n          // {\r\n          //   \"geocodingQueryParams\": {\r\n          //     \"country\": \"US\",\r\n          //     \"bbox\":\"-97.35122680664064,35.9357645138553, -96.75178527832033,36.324530335021876\"\r\n          //   }\r\n          // }\r\n        ),\r\n        \"collapsed\": false,\r\n        \"placeholder\": geocoderSearchPlaceholderText,\r\n        \"suggestMinLength\": 3,\r\n        \"queryMinLength\": 1,\r\n        \"defaultMarkGeocode\": false\r\n      });\r\n    this.geocoderObj.addTo(this.map);\r\n    this.geocoderObj.on(\"markgeocode\", e => that.transmitGeocode(e));\r\n    let container = this.geocoderObj.getContainer();\r\n    window.document.getElementById(\"Geocoder\").appendChild(container);\r\n  }\r\n\r\n  transmitGeocode(geocode){\r\n    this.props.transmitGeocode(geocode);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id='Geocoder' className={'Geocoder'}>\r\n        <div id='hidden-geocoder-map'></div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Geocoder;\r\n\r\n","import React, { Component } from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faInfoCircle } from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass TooltipIcon extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    library.add(faInfoCircle);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <FontAwesomeIcon \r\n            data-tip={this.props.tooltipName} \r\n            data-for='modal' \r\n            data-event='click'\r\n            icon='info-circle' />\r\n    );\r\n  }\r\n}\r\n\r\nexport default TooltipIcon;\r\n","import React, { Component } from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlusSquare  } from '@fortawesome/free-solid-svg-icons';\r\nimport TooltipIcon from './TooltipIcon';\r\nimport Config from './Config';\r\n\r\n\r\nclass AddOverlay extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    library.add(faPlusSquare);\r\n    this.onClick = this.onClick.bind(this);\r\n    this.onBlur = this.onBlur.bind(this);\r\n    this.handleLayerTypeChange = this.handleLayerTypeChange.bind(this);\r\n    this.modalType = 'AddOverlay';\r\n    this.state = {layerTypeGuess: null};\r\n  }\r\n  \r\n  handleLayerTypeChange(event) {\r\n    console.log(event.target.value);\r\n    this.setState({\r\n      layerTypeGuess: event.target.value\r\n    });\r\n  }\r\n\r\n  onBlur(e) {\r\n    let typeREs = {\r\n        TileLayer: /.*\\{z\\}.*\\{x\\}.*\\{y\\}.*/,\r\n        WMSTileLayer: /.*wmts.*/i,\r\n        EsriImageLayer: /.*arcgis.*ImageServer.*/,\r\n        EsriFeatureLayer: /.*arcgis.*FeatureServer.*/,\r\n        EsriTiledMapLayer: /.*arcgis.*MapServer.*/,\r\n    };\r\n    let submittedUrl = e.target.value;\r\n    let newType = null;\r\n    \r\n    Object.entries(typeREs).forEach((lyrTypeRE) => {\r\n            if (lyrTypeRE[1].test(submittedUrl)) {\r\n                newType = lyrTypeRE[0];\r\n            }\r\n        }\r\n    )\r\n    \r\n    this.setState({layerTypeGuess: newType})\r\n\r\n  }\r\n\r\n  onClick(e) {\r\n    console.log(this.state);\r\n    let modalContent = \r\n    <>\r\n\r\n        <div className='inputGroup'>\r\n            <label className='textInputLabel' htmlFor='addOverlayUrl'>Url: </label>\r\n            <textarea\r\n                id='addOverlayUrl' \r\n                name='addOverlayUrl' \r\n                placeholder='Enter the URL to your map/data.'\r\n                onBlur={this.onBlur}></textarea>\r\n            <TooltipIcon tooltipName={Config.tooltips.Url} />\r\n        </div>\r\n        <div className=\"radioGroup\">\r\n            <label className=\"radioGroupLabel\" htmlFor=\"overlayType\">Type</label>\r\n                <div className=\"inputGroup\">\r\n                    <input \r\n                        name=\"overlayType\" \r\n                        id=\"overlay-input-TileLayer\" \r\n                        type=\"radio\"\r\n                        checked={this.state.layerTypeGuess === \"TileLayer\"}\r\n                        onChange={this.handleLayerTypeChange}\r\n                        value=\"TileLayer\" />\r\n                    <label htmlFor=\"overlay-input-TileLayer\">TileLayer</label>\r\n                    <TooltipIcon tooltipName={Config.tooltips.TileLayer}/>\r\n                </div>\r\n                \r\n                <div className=\"inputGroup\">\r\n                    <input \r\n                        name=\"overlayType\" \r\n                        id=\"overlay-input-WMSTileLayer\" \r\n                        type=\"radio\" \r\n                        checked={this.state.layerTypeGuess === \"WMSTileLayer\"} \r\n                        onChange={this.handleLayerTypeChange}\r\n                        value=\"WMSTileLayer\" />\r\n                    <label htmlFor=\"overlay-input-WMSTileLayer\">WMSTileLayer</label>\r\n                </div>\r\n                \r\n                <div className=\"inputGroup\">\r\n                    <input \r\n                        name=\"overlayType\" \r\n                        id=\"overlay-input-EsriTiledMapLayer\" \r\n                        type=\"radio\" \r\n                        checked={this.state.layerTypeGuess === \"EsriTiledMapLayer\"} \r\n                        onChange={this.handleLayerTypeChange}\r\n                        value=\"EsriTiledMapLayer\" />\r\n                    <label htmlFor=\"overlay-input-EsriTiledMapLayer\">EsriTiledMapLayer</label>\r\n                </div>\r\n                \r\n                <div className=\"inputGroup\">\r\n                    <input \r\n                        name=\"overlayType\" \r\n                        id=\"overlay-input-EsriDynamicMapLayer\" \r\n                        type=\"radio\" \r\n                        checked={this.state.layerTypeGuess === \"EsriDynamicMapLayer\"} \r\n                        onChange={this.handleLayerTypeChange}\r\n                        value=\"EsriDynamicMapLayer\" />\r\n                    <label htmlFor=\"overlay-input-EsriDynamicMapLayer\">EsriDynamicMapLayer</label>\r\n                </div>\r\n                \r\n                <div className=\"inputGroup\">\r\n                    <input \r\n                        name=\"overlayType\" \r\n                        id=\"overlay-input-EsriFeatureLayer\" \r\n                        type=\"radio\" \r\n                        checked={this.state.layerTypeGuess === \"EsriFeatureLayer\"} \r\n                        onChange={this.handleLayerTypeChange}\r\n                        value=\"EsriFeatureLayer\" />\r\n                    <label htmlFor=\"overlay-input-EsriFeatureLayer\">EsriFeatureLayer</label><br/>\r\n                    <TooltipIcon tooltipName={Config.tooltips.EsriFeatureLayer} />\r\n                </div>\r\n        </div>\r\n        \r\n        <div className=\"inputGroup\">\r\n            <label className=\"textInputLabel\" \r\n                htmlFor=\"overlay-input-displayName\">\r\n                Display Name: \r\n            </label>\r\n\r\n            <input \r\n                name=\"overlayDisplayName\" \r\n                id=\"overlay-input-displayName\" \r\n                type=\"text\"/>\r\n        </div>\r\n        </>\r\n      this.props.openModal(this.modalType, modalContent);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <button className='add-overlay'\r\n            onClick={this.onClick} \r\n            name=\"Add Overlay\"\r\n            title=\"Add Overlay\"\r\n            id='add-overlay'>\r\n            <FontAwesomeIcon icon='plus-square' size=\"2x\"/>\r\n        </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddOverlay;\r\n","import React, { Component } from 'react';\r\nimport ClipboardJS from 'clipboard'; // https://github.com/zenorocha/clipboard.js/issues/535\r\nimport './Textarea.css';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCopy } from '@fortawesome/free-solid-svg-icons';\r\n\r\nlibrary.add(faCopy);\r\n\r\nclass ExportLayersToJSONButton extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onClick = this.onClick.bind(this);\r\n    this.state = {\r\n      showLayers: false\r\n    }\r\n    this.clipboard = new ClipboardJS('.copyButton', {\r\n      container: document.getElementById(\"modalContainer\")\r\n    });\r\n\r\n  }\r\n\r\n  onClick() {\r\n    this.setState({showLayers:!this.state.showLayers});\r\n    \r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"exportLayersGroup\">\r\n          <button name=\"exportLayersButton\" \r\n                 id=\"exportLayersButton\" \r\n                 onClick={this.onClick}>        \r\n                 Export Layers\r\n          </button>\r\n          <br/>\r\n          {this.state.showLayers && \r\n            <>\r\n            <textarea className=\"clipboardText\" id='clipboardText' rows=\"10\" cols=\"50\" readOnly value={JSON.stringify(this.props.layers, null, 2)}></textarea>\r\n            <button className=\"copyButton\" data-clipboard-target=\"#clipboardText\">\r\n              <FontAwesomeIcon icon='copy'/>\r\n            </button>\r\n            </>\r\n          }\r\n          \r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ExportLayersToJSONButton;\r\n","import React, { Component } from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faLayerGroup, faTimesCircle} from '@fortawesome/free-solid-svg-icons';\r\nimport ExportLayersToJSONButton from './ExportLayersToJSONButton';\r\n\r\n\r\nclass ManageOverlays extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    library.add(faLayerGroup);\r\n    library.add(faTimesCircle);\r\n    this.onClick = this.onClick.bind(this);\r\n  }\r\n \r\n  onClick(e) {\r\n    let currentOverlays = this.props.overlays;\r\n    let modalContent =  \r\n      <>\r\n        <table className='table'>\r\n          <caption> Current Overlays</caption>\r\n              <thead>\r\n                  \r\n                  <tr>\r\n                      <th>Name</th>\r\n                      <th>Remove</th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody>\r\n                  {currentOverlays.map((o, i) => \r\n\r\n                  <tr id={o.id} key={o.id}>\r\n                      <td>{o.display_name}</td>\r\n                      <td>\r\n                          <button data-overlay-id={o.id} onClick={this.props.deleteOverlay}>\r\n                              <FontAwesomeIcon icon='times-circle' size=\"2x\" />\r\n                          </button>\r\n                      </td>\r\n                  </tr>\r\n\r\n                      )}\r\n              </tbody>\r\n          </table>\r\n          <ExportLayersToJSONButton layers={currentOverlays} />\r\n      </>\r\n\r\n    this.props.openModal(\"ManageOverlays\", modalContent, {noSubmit: true});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <button className='ManageOverlays-button' \r\n            onClick={this.onClick}\r\n            name='Manage Overlays'\r\n            title='Manage Overlays' \r\n            id='ManageOverlays-button'>\r\n          <div className=\"icon-label\">\r\n             <FontAwesomeIcon icon='layer-group' size=\"2x\"/>\r\n          </div>\r\n\r\n        </button>\r\n      );\r\n  }\r\n}\r\n\r\nexport default ManageOverlays;\r\n","import React, { Component } from 'react';\r\nimport \"./Checkbox.css\";\r\n\r\nclass MapLabelsToggle extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  onChange() {\r\n    this.props.toggleLabels();\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"inputGroup\">\r\n          <input defaultChecked={this.props.labelLayerOn} \r\n                 name=\"labelsCheckbox\" \r\n                 id=\"labelsCheckbox\" \r\n                 type=\"checkbox\" \r\n                 onChange={this.onChange}>        \r\n          </input>\r\n          <label htmlFor=\"labelsCheckbox\">Map&nbsp;Labels</label>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MapLabelsToggle;\r\n","import React, { Component } from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCog } from '@fortawesome/free-solid-svg-icons';\r\nimport MapLabelsToggle from './MapLabelsToggle';\r\nimport ExportLayersToJSONButton from './ExportLayersToJSONButton';\r\n\r\n\r\nclass Settings extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    library.add(faCog);\r\n    this.onClick = this.onClick.bind(this);\r\n  }\r\n \r\n  onClick(e) {\r\n    let modalContent =  \r\n      <>\r\n        <MapLabelsToggle labelLayerOn={this.props.labelLayerOn}\r\n                         toggleLabels={this.props.toggleLabels} />\r\n        <ExportLayersToJSONButton layers={this.props.viewbarLayers} />\r\n\r\n      </>\r\n\r\n    this.props.openModal(\"Settings\", modalContent, {noSubmit: true});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <button className='settings-button' \r\n            onClick={this.onClick}\r\n            name='Settings'\r\n            title='Settings' \r\n            id='settings-button'>\r\n          <div className=\"icon-label\">\r\n             <FontAwesomeIcon icon='cog' size=\"2x\"/>\r\n          </div>\r\n\r\n        </button>\r\n      );\r\n  }\r\n}\r\n\r\nexport default Settings;\r\n","import React, { Component } from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faExpand, faCompress } from '@fortawesome/free-solid-svg-icons';\r\n\r\nlibrary.add(faExpand);\r\nlibrary.add(faCompress);\r\n\r\nclass FullscreenToggle extends Component {\r\n\r\n  render() {\r\n    return (\r\n        <button onClick={() => this.props.toggleFullscreen()}\r\n          name='Toggle Fullscreen Mode'\r\n          title='Toggle Fullscreen Mode'>\r\n          <FontAwesomeIcon \r\n              icon={this.props.isFullscreenEnabled ? 'compress' : 'expand'} \r\n              size='2x'\r\n              />\r\n        </button>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default FullscreenToggle;\r\n","import React, { Component } from 'react';\r\nimport Geocoder from './Geocoder';\r\nimport AddOverlay from './AddOverlay';\r\nimport ManageOverlays from './ManageOverlays';\r\nimport Settings from './Settings';\r\nimport FullscreenToggle from './FullscreenToggle';\r\nimport './UtilityBar.css';\r\nimport './UtilityBarButton.css';\r\n\r\n\r\nclass UtilityBar extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.transmitGeocode = this.transmitGeocode.bind(this);\r\n  }\r\n \r\n  componentDidMount(){\r\n  }\r\n\r\n  transmitGeocode(geocode){\r\n    this.props.transmitGeocode(geocode);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id='UtilityBar' className={'UtilityBar'}>\r\n        <Geocoder transmitGeocode={this.transmitGeocode} />\r\n        <AddOverlay \r\n            numberOfLayersOn={this.props.numberOfLayersOn} \r\n            addOverlay={this.props.addOverlay}\r\n            openModal={this.props.openModal} />\r\n        {this.props.overlays.length > 0 &&\r\n          <ManageOverlays \r\n              overlays={this.props.overlays}\r\n              openModal={this.props.openModal}\r\n              deleteOverlay={this.props.deleteOverlay} />\r\n          }\r\n        <FullscreenToggle toggleFullscreen={this.props.toggleFullscreen} \r\n                          isFullscreenEnabled={this.props.isFullscreenEnabled} />\r\n        <Settings \r\n          openModal={this.props.openModal}\r\n          labelLayerOn={this.props.labelLayerOn}\r\n          toggleLabels={this.props.toggleLabels}\r\n          viewbarLayers={this.props.viewbarLayers}\r\n                                        />\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UtilityBar;\r\n\r\n","import React, { Component } from 'react';\r\nimport Config from './Config';\r\nimport './Item.css';\r\n\r\nclass Item extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onClick = this.onClick.bind(this);\r\n    this.state = {isToggledOn: false,\r\n                  opacity: 1.0};\r\n    this.resolveThumbnail.bind(this);\r\n    this.getThumbnailByLayerType.bind(this);\r\n    this.guessLayerTypeByUrl.bind(this);\r\n    this.resolveThumbnail();\r\n\r\n  }\r\n \r\n  guessLayerTypeByUrl(){\r\n\r\n  }\r\n\r\n  getThumbnailByLayerType(layerType){\r\n\r\n    // switch (layerType) {\r\n\r\n    //   case \"TileLayer\" {\r\n\r\n    //   }\r\n    // }\r\n  }\r\n\r\n\r\n  resolveThumbnail() {\r\n    if (this.props.thumbnail_file){\r\n      if (this.props.thumbnail_file.startsWith(\"http\")){\r\n        this.thumbnail_path = this.props.thumbnail_file;\r\n      }\r\n      else {\r\n        this.thumbnail_path = 'assets/images/' + this.props.thumbnail_file;\r\n      }  \r\n    }\r\n    if (this.props.type){\r\n      this.getThumbnailByLayerType(this.props.type);\r\n    }\r\n  }\r\n\r\n  onClick(e) {\r\n\r\n    let numLyrs = this.props.numberOfLayersOn;\r\n\r\n  \r\n    if (numLyrs === Config.maxLayers) {\r\n      if (!this.state.isToggledOn){\r\n        window.vex.dialog.alert(Config.maxLayersWarning.replace(\"{maxLayers}\", Config.maxLayers));\r\n        return\r\n      }\r\n    }\r\n\r\n    this.setState(prevState => ({\r\n      isToggledOn: !prevState.isToggledOn,\r\n      opacity: 1.0\r\n    }));\r\n\r\n\r\n    let props = {\r\n      \"opacity\": 1.0,\r\n      ...this.props\r\n    };\r\n    delete(props.onItemClick);\r\n    delete(props.isToggledOn);   \r\n    props.isToggledOn = !this.state.isToggledOn;\r\n    \r\n    this.props.onItemClick(props);\r\n\r\n\r\n\r\n    //   \"sortVal\": this.props.sortVal,\r\n    //   \"id\": this.props.id,\r\n    //   \"thumbnail_file\": this.props.thumbnail_file,\r\n    //   \"url\": this.props.url,\r\n    //   \"type\": this.props.type,\r\n    //   \"layers\": this.props.layers,\r\n    //   \"maxZoom\": this.props.maxZoom,\r\n    //   \"display_name\": this.props.display_name\r\n\r\n  }\r\n\r\n  render() {\r\n    let dispName = this.props.display_name;\r\n    return (\r\n      <button className={this.state.isToggledOn ? 'item on' : 'item off'} \r\n          onClick={this.onClick} \r\n          style={{backgroundImage: \"url('\" + this.thumbnail_path + \"')\"}}\r\n          id={this.props.id}>\r\n        <div className={dispName.length >= 10 ? \"label long-title\" : \"label\"}>\r\n          {dispName.length >= 20 ? dispName.slice(0,21)+\"...\" : dispName}\r\n        </div>\r\n\r\n        <div className=\"button\">\r\n\r\n        </div>\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Item;\r\n","import React from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faMap, faPlus} from '@fortawesome/free-solid-svg-icons';\r\nimport TooltipIcon from './TooltipIcon';\r\nimport Config from './Config';\r\nimport Item from './Item';\r\n\r\nclass AddLayerItem extends Item {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    library.add(faMap);\r\n    library.add(faPlus);\r\n    this.onClick = this.onClick.bind(this);\r\n    this.state = {isToggledOn: false,\r\n                  opacity: 1.0};\r\n      this.modalType = 'AddLayerItem';\r\n  }\r\n \r\n  onClick(e) {\r\n    let modalContent = \r\n      <>\r\n        <div className=\"inputGroup\">\r\n          <label className=\"textInputLabel\" htmlFor=\"url\">Url:</label>\r\n          <textarea\r\n                id='addLayerItemUrl' \r\n                name='addLayerItemUrl' \r\n                placeholder='Enter the URL to your map/data.'\r\n                onBlur={this.onBlur}></textarea>\r\n            <TooltipIcon tooltipName={Config.tooltips.Url} />\r\n      \r\n        </div>\r\n\r\n        <div className=\"radioGroup\">\r\n          <label className=\"radioGroupLabel\" htmlFor=\"layerType\">Layer Type</label>\r\n\r\n          <div className=\"inputGroup\">\r\n            <input name=\"layerType\" id=\"input-TileLayer\" type=\"radio\" value=\"TileLayer\" />\r\n            <label htmlFor=\"input-TileLayer\">TileLayer</label>\r\n            <TooltipIcon tooltipName={Config.tooltips.TileLayer}/>\r\n                \r\n          </div>  \r\n          \r\n          <div className=\"inputGroup\">\r\n           <input \r\n              name=\"overlayType\" \r\n              id=\"overlay-input-WMSTileLayer\" \r\n              type=\"radio\" \r\n              value=\"WMSTileLayer\" />\r\n            <label htmlFor=\"input-WMSTileLayer\">WMSTileLayer</label>\r\n          </div>\r\n          \r\n          <div className=\"inputGroup\">         \r\n            <input name=\"layerType\" id=\"input-EsriTiledMapLayer\" type=\"radio\" value=\"EsriTiledMapLayer\" />\r\n            <label htmlFor=\"input-EsriTiledMapLayer\">EsriTiledMapLayer</label>\r\n          </div>\r\n          \r\n          <div className=\"inputGroup\">\r\n            <input name=\"layerType\" id=\"input-EsriDynamicMapLayer\" type=\"radio\" value=\"EsriDynamicMapLayer\" />\r\n            <label htmlFor=\"input-EsriDynamicMapLayer\">EsriDynamicMapLayer</label>\r\n          </div>\r\n\r\n          <div className=\"inputGroup\">\r\n            <input name=\"layerType\" id=\"input-EsriFeatureLayer\" type=\"radio\" value=\"EsriFeatureLayer\" />\r\n            <label htmlFor=\"input-EsriFeatureLayer\">EsriFeatureLayer</label>\r\n            <TooltipIcon tooltipName={Config.tooltips.EsriFeatureLayer} />\r\n          </div>\r\n          <div className=\"inputGroup\">\r\n            <input name=\"layerType\" id=\"input-EsriImageLayer\" type=\"radio\" value=\"EsriImageLayer\" />\r\n            <label htmlFor=\"input-EsriImageLayer\">EsriImageLayer</label>\r\n\r\n          </div>\r\n\r\n        </div>\r\n        \r\n        <div className=\"inputGroup\">\r\n          <label className=\"textInputLabel\" htmlFor=\"input-displayName\">Display Name: </label>\r\n          <input name=\"displayName\" id=\"input-displayName\" type=\"text\" />\r\n          <TooltipIcon tooltipName={Config.tooltips.DisplayName} />\r\n        </div> \r\n\r\n        <div className=\"inputGroup\">\r\n          <label className=\"textInputLabel\" htmlFor=\"input-thumbnailPath\">Thumbnail Path: </label>\r\n          <input name=\"thumbnailPath\" id=\"input-thumbnailPath\" type=\"text\" />\r\n          <TooltipIcon tooltipName={Config.tooltips.ThumbnailPath} />\r\n        </div>\r\n      </>;\r\n\r\n      this.props.openModal(\"AddLayerItem\", modalContent);\r\n\r\n   \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <button className='add-layer item background-black' \r\n          onClick={this.onClick}\r\n          title=\"Add Layer\"\r\n          name=\"Add Layer\"\r\n          id='add-layer'>\r\n        <div className=\"icon-label\">\r\n          <span className=\"fa-layers fa-fw fa-5x\">\r\n            <FontAwesomeIcon icon=\"map\"/>\r\n            <FontAwesomeIcon icon=\"plus\" transform=\"shrink-5\" color=\"white\" />\r\n          </span>\r\n        </div>\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddLayerItem;\r\n","import React, { Component } from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faAngleLeft, faAngleRight } from '@fortawesome/free-solid-svg-icons';\r\nimport './ScrollButton.css';\r\n\r\nlibrary.add(faAngleLeft);\r\nlibrary.add(faAngleRight);\r\n\r\nclass ScrollButton extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onClick = this.onClick.bind(this);\r\n  }\r\n \r\n  onClick(e) {\r\n    this.props.onClick(this.props.direction);\r\n  }\r\n\r\n  render() {\r\n    let arrow = this.props.direction === \"left\" ? \"angle-left\" : \"angle-right\";\r\n    return (\r\n      <div className={'ScrollButton ' + this.props.direction}\r\n           onClick={this.onClick}>  \r\n          <button><FontAwesomeIcon icon={arrow} size=\"lg\"/></button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ScrollButton;\r\n\r\n","import React, { Component } from 'react';\r\nimport { cloneDeep } from 'lodash';\r\nimport Item from './Item';\r\nimport AddLayerItem from './AddLayerItem';\r\nimport ScrollButton from './ScrollButton';\r\n//import LayersInfo from './LayersInfo';\r\nimport './ViewBar.css';\r\n\r\nclass ViewBar extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleItemClick = this.handleItemClick.bind(this);\r\n    this.handleScrollButtonClick = this.handleScrollButtonClick.bind(this);\r\n    //this.addLayer = this.addLayer.bind(this);\r\n    this.scrollTo = this.scrollTo.bind(this);\r\n    this.onWheel = this.onWheel.bind(this);\r\n    this.easeInOutQuad = this.easeInOutQuad.bind(this);\r\n    this.state = {};\r\n  }\r\n\r\n  handleItemClick(data) {\r\n    let id = data.id;\r\n    let newState = cloneDeep(this.state);\r\n\r\n    newState.layers.forEach( (lyr,index) => {\r\n      if (lyr.id === id) {\r\n        newState.layers[index] = data;\r\n      }\r\n    });\r\n\r\n    this.setState(newState);   \r\n    this.props.onItemClick(data);\r\n  }\r\n\r\n  handleScrollButtonClick(scrollDirection) {\r\n    this.scrollTo(scrollDirection, 350);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState){\r\n    if (this.props.newLayer){\r\n\r\n      if (prevProps.newLayer && (prevProps.newLayer.id === this.props.newLayer.id)) {\r\n        return\r\n      }\r\n\r\n      let newLayer = this.props.newLayer;\r\n      let layers = this.state.layers;\r\n    \r\n      layers.push(newLayer);\r\n\r\n      this.setState({\"layers\": layers});\r\n    }\r\n\r\n\r\n    if (this.props.viewbarLayers && this.props.viewbarLayers.length !== this.state.layers.length){\r\n      this.setState({\"layers\": this.props.viewbarLayers});\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount(prevProps, prevState){\r\n    //for the initial app load, set state using LayersInfo\r\n    this.setState({\"layers\": this.props.viewbarLayers});\r\n  }\r\n\r\n  onWheel(e){\r\n    let elem  = document.getElementById(\"viewbarItems\"),\r\n        scrollUnit = 50,\r\n\r\n        // deltaMode indicates if the deltaY value is pixels or lines (0 for pixels, 1 for lines, 2 for page)\r\n        deltaMode = e.deltaMode,\r\n\r\n        //if the deltamode is anything but pixels (0), use scroll unit to calculate scroll amount\r\n        scrollSize = deltaMode === (1 || 2) ? e.deltaY * scrollUnit: e.deltaY;\r\n\r\n    //e.preventDefault();\r\n    \r\n    elem.scrollLeft = elem.scrollLeft + scrollSize;\r\n    //this.setState({\"scrollLeft\": elem.scrollLeft});\r\n  }\r\n\r\n  scrollTo(direction, duration) {\r\n    let elem  = document.getElementById(\"viewbarItems\"),\r\n        start = elem.scrollLeft,\r\n        clientWidth = document.documentElement.clientWidth,\r\n        moveSize = Math.max(clientWidth/2, 300),\r\n        change = direction === \"left\" ? -moveSize : +moveSize,\r\n        currentTime = 0,\r\n        increment = 20,\r\n        that = this;\r\n        \r\n    let animateScroll = function(){        \r\n        currentTime += increment;\r\n        let val = that.easeInOutQuad(currentTime, start, change, duration);\r\n        elem.scrollLeft = val;\r\n        if(currentTime < duration) {\r\n            setTimeout(animateScroll, increment);\r\n        }\r\n    };\r\n    animateScroll();\r\n  }\r\n\r\n  //t = current time\r\n  //b = start value\r\n  //c = change in value\r\n  //d = duration\r\n  easeInOutQuad(t, b, c, d) {\r\n    t /= d/2;\r\n    if (t < 1) return c/2*t*t + b;\r\n    t--;\r\n    return -c/2 * (t*(t-2) - 1) + b;\r\n  }\r\n\r\n  render() {\r\n    const items = this.state.layers || [];\r\n    \r\n    return (\r\n      <footer className='ViewBar-container bottom'>\r\n        <ScrollButton direction=\"left\" onClick={this.handleScrollButtonClick}/>\r\n\r\n         <div onWheel={this.onWheel} onScroll={this.onScroll} scrollleft={this.state.scrollLeft} className='flip-move' id=\"viewbarItems\">\r\n           \r\n           {items.map(item => <Item \r\n                numberOfLayersOn={this.props.numberOfLayersOn}\r\n                key={item.id} \r\n                onItemClick={this.handleItemClick}\r\n                {...item}\r\n              />)}\r\n\r\n            <AddLayerItem \r\n              numberOfLayersOn={this.props.numberOfLayersOn} \r\n              openModal={this.props.openModal}\r\n              closeModal={this.props.closeModal}\r\n              addLayer={this.addLayer} \r\n              />\r\n          </div>\r\n        <ScrollButton direction=\"right\" onClick={this.handleScrollButtonClick}/>\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ViewBar;\r\n","import React, { Component } from 'react';\r\nimport ReactModal from 'react-modal';\r\nimport './Modal.css';\r\nimport './ModalButton.css';\r\nimport './Table.css';\r\n\r\nReactModal.setAppElement('#root');\r\n\r\nclass Modal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.formatContent = this.formatContent.bind(this);\r\n    this.afterOpenModal = this.afterOpenModal.bind(this);\r\n    this.gatherValues = this.gatherValues.bind(this);\r\n    this.handleCloseModal = this.handleCloseModal.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.ref = React.createRef(null);\r\n    this.getParent = this.getParent.bind(this);\r\n    this.state={};\r\n  }\r\n\r\n formatContent(modalType, modalContent) {\r\n    let content = <div id=\"modalContent\">\r\n                    {modalContent}\r\n                  </div>;\r\n    return content;\r\n  }\r\n\r\n  afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    this.props.rebuildTooltip(true);\r\n  }\r\n\r\n  getParent() {\r\n    return document.querySelector(\"#modalRoot\");\r\n  }\r\n\r\n  gatherValues(modalType){\r\n    var data = {};\r\n    switch (modalType) {\r\n\r\n      case \"AddLayerItem\":\r\n        data.type = document.querySelectorAll(\"input:checked[name='layerType']\");\r\n        data.type = data.type.length > 0 ? data.type[0].value : null;\r\n        data.url =  document.getElementById(\"addLayerItemUrl\");\r\n        if (data.url === null){\r\n          return null\r\n        } \r\n        data.url = data.url.value === \"\" ? null : data.url.value; \r\n        data.display_name = document.querySelectorAll(\"input[name='displayName']\");\r\n        data.display_name = data.display_name.length > 0 ? data.display_name[0].value: null;\r\n        data.thumbnail_file = document.querySelectorAll(\"input[name='thumbnailPath']\");\r\n        data.thumbnail_file = data.thumbnail_file.length > 0 ? data.thumbnail_file[0].value : null;\r\n        return data;\r\n\r\n      case \"AddOverlay\":\r\n        data.type = document.querySelectorAll(\"input:checked[name='overlayType']\");\r\n        data.type = data.type.length > 0 ? data.type[0].value : null;\r\n        data.url =  document.getElementById(\"addOverlayUrl\");\r\n        if (data.url === null){\r\n          return null\r\n        }\r\n        data.url = data.url.value === \"\" ? null : data.url.value; \r\n        data.display_name = document.querySelectorAll(\"input[name='overlayDisplayName']\");\r\n        data.display_name = data.display_name.length > 0 ? data.display_name[0].value: null;\r\n        return data;\r\n        \r\n      default:\r\n        return\r\n    }\r\n  }\r\n\r\n  handleCloseModal() {\r\n    let modal = this.ref.current.node.children[0].children[0];\r\n    console.log(modal);\r\n    this.props.closeModal();\r\n  } \r\n\r\n  handleSubmit() {\r\n    let modalType = this.props.modalType;\r\n    let data = this.gatherValues(modalType);\r\n    if (data.url === null) {\r\n      alert(\"Url is required\");\r\n      return;\r\n    }\r\n    if (data.type === null) {\r\n      alert(\"Type is required.\");\r\n      return;\r\n    }\r\n    \r\n\r\n    this.props.modalSubmit(modalType, data);\r\n    this.props.closeModal();\r\n\r\n  }\r\n\r\n  render() {\r\n  \tlet content = this.formatContent(this.props.modalType, this.props.modalContent);\r\n    let options = this.props.modalOptions || {};\r\n  \treturn <ReactModal\r\n          id=\"modalContainer\"\r\n          ref={this.ref}\r\n          closeTimeoutMS={500}\r\n          className=\"Modal-Content\"\r\n          key={\"modal\"}\r\n          isOpen={this.props.isOpen}\r\n          onAfterOpen={this.afterOpenModal}\r\n          onRequestClose={this.handleCloseModal}\r\n          parentSelector={this.getParent}\r\n          contentLabel=\"Modal\">\r\n    \t{content}\r\n \r\n      {!options.noSubmit &&\r\n        <> \r\n          <button onClick={this.handleCloseModal}>Cancel</button>\r\n          <button onClick={this.handleSubmit}>OK</button>  \r\n        </>\r\n      }\r\n\r\n      {options.noSubmit && \r\n        <button onClick={this.handleCloseModal}>OK</button>\r\n      }\r\n\r\n    </ReactModal>\r\n    \r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport './Tooltip.css';\r\n\r\nclass Tooltip extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  resetRebuildTooltip() {\r\n    this.props.resetRebuildTooltip(false);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState){\r\n    if (this.props.rebuildTooltip === true) {\r\n      ReactTooltip.rebuild();\r\n      this.resetRebuildTooltip();\r\n    }\r\n  }\r\n\r\n  onChange() {\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n          <ReactTooltip \r\n              className=\"superHighZIndex\" \r\n              effect=\"solid\" \r\n              id=\"modal\" \r\n              place=\"right\"\r\n              multiline={true}\r\n              globalEventOff='click'/>\r\n          <ReactTooltip effect=\"solid\" id=\"home\" />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tooltip;\r\n","import PropTypes from 'prop-types';\r\nimport {GridLayer, withLeaflet} from 'react-leaflet';\r\nimport {tiledMapLayer} from 'esri-leaflet';\r\n\r\n class EsriTiledMapLayer extends GridLayer {\r\n  static propTypes = {\r\n    url: PropTypes.string.isRequired\r\n  };\r\n\r\n  createLeafletElement(props) {\r\n    return tiledMapLayer(props); \r\n  }\r\n}\r\n\r\nexport default withLeaflet(EsriTiledMapLayer);","import {MapLayer, withLeaflet} from 'react-leaflet';\r\nimport {dynamicMapLayer} from 'esri-leaflet';\r\n\r\ntype Props = {\r\n  url: string \r\n} & MapLayerProps\r\n\r\nclass EsriDynamicMapLayer extends MapLayer<LeafletElement, Props> {\r\n  createLeafletElement(props: Props): LeafletElement {\r\n  \tlet options = {...props, \"f\": \"image\"};\r\n    const el = dynamicMapLayer(\r\n      options\r\n    )\r\n    this.contextValue = { ...props.leaflet, popupContainer: el }\r\n    return el\r\n  }\r\n\r\n  updateLeafletElement(fromProps: Props, toProps: Props) {\r\n    if (toProps.url !== fromProps.url) {\r\n      this.leafletElement.setUrl(toProps.url)\r\n    }\r\n  }\r\n}\r\n\r\nexport default withLeaflet(EsriDynamicMapLayer)\r\n","import {MapLayer, withLeaflet} from 'react-leaflet';\r\nimport {featureLayer} from 'esri-leaflet';\r\n\r\ntype Props = {\r\n  url: string \r\n} & MapLayerProps\r\n\r\nclass EsriFeatureLayer extends MapLayer<LeafletElement, Props> {\r\n  createLeafletElement(props: Props): LeafletElement {\r\n  \tlet options = {...props};\r\n    const el = featureLayer(\r\n      options\r\n    )\r\n    this.contextValue = { ...props.leaflet, popupContainer: el }\r\n    return el\r\n  }\r\n\r\n  updateLeafletElement(fromProps: Props, toProps: Props) {\r\n    if (toProps.url !== fromProps.url) {\r\n      this.leafletElement.setUrl(toProps.url)\r\n    }\r\n  }\r\n}\r\n\r\nexport default withLeaflet(EsriFeatureLayer)\r\n","import {MapLayer, withLeaflet} from 'react-leaflet';\r\nimport {imageMapLayer} from 'esri-leaflet';\r\n\r\ntype Props = {\r\n  url: string \r\n} & MapLayerProps\r\n\r\nclass EsriImageLayer extends MapLayer<LeafletElement, Props> {\r\n  createLeafletElement(props: Props): LeafletElement {\r\n  \tlet options = {...props};\r\n    const el = imageMapLayer(\r\n      options\r\n    )\r\n    this.contextValue = { ...props.leaflet, popupContainer: el }\r\n    return el\r\n  }\r\n\r\n  updateLeafletElement(fromProps: Props, toProps: Props) {\r\n    if (toProps.url !== fromProps.url) {\r\n      this.leafletElement.setUrl(toProps.url)\r\n    }\r\n  }\r\n}\r\n\r\nexport default withLeaflet(EsriImageLayer)\r\n","/*\n * L.Control.Loading is a control that shows a loading indicator when tiles are\n * loading or when map-related AJAX requests are taking place.\n */\nimport {Spinner} from 'spin.js';\nimport '../../node_modules/spin.js/spin.css';\nimport L from 'leaflet';\n\n(function () {\n\n    var console = window.console || {\n        error: function () {},\n        warn: function () {}\n    };\n\n    function defineLeafletLoading(L) {\n        L.Control.Loading = L.Control.extend({\n            options: {\n                delayIndicator: null,\n                position: 'topleft',\n                separate: false,\n                zoomControl: null,\n                spinjs: false,\n                spin: { \n                    lines: 7, \n                    length: 3, \n                    width: 3, \n                    radius: 5, \n                    rotate: 13, \n                    top: \"83%\"\n                }\n            },\n\n            initialize: function(options) {\n                L.setOptions(this, options);\n                this._dataLoaders = {};\n\n                // Try to set the zoom control this control is attached to from the \n                // options\n                if (this.options.zoomControl !== null) {\n                    this.zoomControl = this.options.zoomControl;\n                }\n            },\n\n            onAdd: function(map) {\n                if (this.options.spinjs && (typeof Spinner !== 'function')) {\n                    return console.error(\"Leaflet.loading cannot load because you didn't load spin.js (http://fgnass.github.io/spin.js/), even though you set it in options.\");\n                }\n                this._addLayerListeners(map);\n                this._addMapListeners(map);\n\n                // Try to set the zoom control this control is attached to from the map\n                // the control is being added to\n                if (!this.options.separate && !this.zoomControl) {\n                    if (map.zoomControl) {\n                        this.zoomControl = map.zoomControl;\n                    } else if (map.zoomsliderControl) {\n                        this.zoomControl = map.zoomsliderControl;\n                    }\n                }\n\n                // Create the loading indicator\n                var classes = 'leaflet-control-loading';\n                var container;\n                if (this.zoomControl && !this.options.separate) {\n                    // If there is a zoom control, hook into the bottom of it\n                    container = this.zoomControl._container;\n                    // These classes are no longer used as of Leaflet 0.6\n                    classes += ' leaflet-bar-part-bottom leaflet-bar-part last';\n\n                    // Loading control will be added to the zoom control. So the visible last element is not the\n                    // last dom element anymore. So add the part-bottom class.\n                    L.DomUtil.addClass(this._getLastControlButton(), 'leaflet-bar-part-bottom');\n                }\n                else {\n                    // Otherwise, create a container for the indicator\n                    container = L.DomUtil.create('div', 'leaflet-control-zoom leaflet-control-layer-container leaflet-bar');\n                }\n                this._indicatorContainer = container;\n                this._indicator = L.DomUtil.create('a', classes, container);\n                if (this.options.spinjs) {\n                    this._spinner = new Spinner(this.options.spin).spin();\n                    this._indicator.appendChild(this._spinner.el);\n                }\n                return container;\n            },\n\n            onRemove: function(map) {\n                this._removeLayerListeners(map);\n                this._removeMapListeners(map);\n            },\n\n            removeFrom: function (map) {\n                if (this.zoomControl && !this.options.separate) {\n                    // Override Control.removeFrom() to avoid clobbering the entire\n                    // _container, which is the same as zoomControl's\n                    this._container.removeChild(this._indicator);\n                    this._map = null;\n                    this.onRemove(map);\n                    return this;\n                }\n                else {\n                    // If this control is separate from the zoomControl, call the\n                    // parent method so we don't leave behind an empty container\n                    return L.Control.prototype.removeFrom.call(this, map);\n                }\n            },\n\n            addLoader: function(id) {\n                this._dataLoaders[id] = true;\n                if (this.options.delayIndicator && !this.delayIndicatorTimeout) {\n                    // If we are delaying showing the indicator and we're not\n                    // already waiting for that delay, set up a timeout.\n                    var that = this;\n                    this.delayIndicatorTimeout = setTimeout(function () {\n                        that.updateIndicator();\n                        that.delayIndicatorTimeout = null;\n                    }, this.options.delayIndicator);\n                }\n                else {\n                    // Otherwise show the indicator immediately\n                    this.updateIndicator();\n                }\n            },\n\n            removeLoader: function(id) {\n                delete this._dataLoaders[id];\n                this.updateIndicator();\n\n                // If removing this loader means we're in no danger of loading,\n                // clear the timeout. This prevents old delays from instantly \n                // triggering the indicator.\n                if (this.options.delayIndicator && this.delayIndicatorTimeout && !this.isLoading()) {\n                    clearTimeout(this.delayIndicatorTimeout);\n                    this.delayIndicatorTimeout = null;\n                }\n            },\n\n            updateIndicator: function() {\n                if (this.isLoading()) {\n                    this._showIndicator();\n                }\n                else {\n                    this._hideIndicator();\n                }\n            },\n\n            isLoading: function() {\n                return this._countLoaders() > 0;\n            },\n\n            _countLoaders: function() {\n                var size = 0, key;\n                for (key in this._dataLoaders) {\n                    if (this._dataLoaders.hasOwnProperty(key)) size++;\n                }\n                return size;\n            },\n\n            _showIndicator: function() {\n                // Show loading indicator\n                L.DomUtil.addClass(this._indicator, 'is-loading');\n                L.DomUtil.addClass(this._indicatorContainer, 'is-loading');\n\n                // If zoomControl exists, make the zoom-out button not last\n                if (!this.options.separate) {\n                    if (this.zoomControl instanceof L.Control.Zoom) {\n                        L.DomUtil.removeClass(this._getLastControlButton(), 'leaflet-bar-part-bottom');\n                    }\n                    else if (typeof L.Control.Zoomslider === 'function' && this.zoomControl instanceof L.Control.Zoomslider) {\n                        L.DomUtil.removeClass(this.zoomControl._ui.zoomOut, 'leaflet-bar-part-bottom');\n                    }\n                }\n            },\n\n            _hideIndicator: function() {\n                // Hide loading indicator\n                L.DomUtil.removeClass(this._indicator, 'is-loading');\n                L.DomUtil.removeClass(this._indicatorContainer, 'is-loading');\n\n                // If zoomControl exists, make the zoom-out button last\n                if (!this.options.separate) {\n                    if (this.zoomControl instanceof L.Control.Zoom) {\n                        L.DomUtil.addClass(this._getLastControlButton(), 'leaflet-bar-part-bottom');\n                    }\n                    else if (typeof L.Control.Zoomslider === 'function' && this.zoomControl instanceof L.Control.Zoomslider) {\n                        L.DomUtil.addClass(this.zoomControl._ui.zoomOut, 'leaflet-bar-part-bottom');\n                    }\n                }\n            },\n\n            _getLastControlButton: function() {\n                var container = this.zoomControl._container,\n                    index = container.children.length - 1;\n\n                // Find the last visible control button that is not our loading\n                // indicator\n                while (index > 0) {\n                    var button = container.children[index];\n                    if (!(this._indicator === button || button.offsetWidth === 0 || button.offsetHeight === 0)) {\n                        break;\n                    }\n                    index--;\n                }\n\n                return container.children[index];\n            },\n\n            _handleLoading: function(e) {\n                this.addLoader(this.getEventId(e));\n            },\n\n            _handleBaseLayerChange: function (e) {\n                var that = this;\n\n                // Check for a target 'layer' that contains multiple layers, such as\n                // L.LayerGroup. This will happen if you have an L.LayerGroup in an\n                // L.Control.Layers.\n                if (e.layer && e.layer.eachLayer && typeof e.layer.eachLayer === 'function') {\n                    e.layer.eachLayer(function (layer) {\n                        that._handleBaseLayerChange({ layer: layer });\n                    });\n                }\n                else {\n                    // If we're changing to a canvas layer, don't handle loading\n                    // as canvas layers will not fire load events.\n                    if (!(L.TileLayer.Canvas && e.layer instanceof L.TileLayer.Canvas)) {\n                        that._handleLoading(e);\n                    }\n                }\n            },\n\n            _handleLoad: function(e) {\n                this.removeLoader(this.getEventId(e));\n            },\n\n            getEventId: function(e) {\n                if (e.id) {\n                    return e.id;\n                }\n                else if (e.layer) {\n                    return e.layer._leaflet_id;\n                }\n                return e.target._leaflet_id;\n            },\n\n            _layerAdd: function(e) {\n                if (!e.layer || !e.layer.on) return\n                try {\n                    e.layer.on({\n                        loading: this._handleLoading,\n                        load: this._handleLoad\n                    }, this);\n                }\n                catch (exception) {\n                    console.warn('L.Control.Loading: Tried and failed to add ' +\n                                 ' event handlers to layer', e.layer);\n                    console.warn('L.Control.Loading: Full details', exception);\n                }\n            },\n\n            _layerRemove: function(e) {\n                if (!e.layer || !e.layer.off) return;\n                try {\n                    e.layer.off({\n                        loading: this._handleLoading,\n                        load: this._handleLoad\n                    }, this);\n                }\n                catch (exception) {\n                    console.warn('L.Control.Loading: Tried and failed to remove ' +\n                                 'event handlers from layer', e.layer);\n                    console.warn('L.Control.Loading: Full details', exception);\n                }\n            },\n\n            _addLayerListeners: function(map) {\n                // Add listeners for begin and end of load to any layers already on the \n                // map\n                map.eachLayer(function(layer) {\n                    if (!layer.on) return;\n                    layer.on({\n                        loading: this._handleLoading,\n                        load: this._handleLoad\n                    }, this);\n                }, this);\n\n                // When a layer is added to the map, add listeners for begin and end\n                // of load\n                map.on('layeradd', this._layerAdd, this);\n                map.on('layerremove', this._layerRemove, this);\n            },\n\n            _removeLayerListeners: function(map) {\n                // Remove listeners for begin and end of load from all layers\n                map.eachLayer(function(layer) {\n                    if (!layer.off) return;\n                    layer.off({\n                        loading: this._handleLoading,\n                        load: this._handleLoad\n                    }, this);\n                }, this);\n\n                // Remove layeradd/layerremove listener from map\n                map.off('layeradd', this._layerAdd, this);\n                map.off('layerremove', this._layerRemove, this);\n            },\n\n            _addMapListeners: function(map) {\n                // Add listeners to the map for (custom) dataloading and dataload\n                // events, eg, for AJAX calls that affect the map but will not be\n                // reflected in the above layer events.\n                map.on({\n                    baselayerchange: this._handleBaseLayerChange,\n                    dataloading: this._handleLoading,\n                    dataload: this._handleLoad,\n                    layerremove: this._handleLoad\n                }, this);\n            },\n\n            _removeMapListeners: function(map) {\n                map.off({\n                    baselayerchange: this._handleBaseLayerChange,\n                    dataloading: this._handleLoading,\n                    dataload: this._handleLoad,\n                    layerremove: this._handleLoad\n                }, this);\n            }\n        });\n\n        L.Map.addInitHook(function () {\n            if (this.options.loadingControl) {\n                this.loadingControl = new L.Control.Loading();\n                this.addControl(this.loadingControl);\n            }\n        });\n\n        L.Control.loading = function(options) {\n            return new L.Control.Loading(options);\n        };\n    }\n\n        defineLeafletLoading(L);\n    \n\n})();\n","import { MapControl, withLeaflet } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport './Leaflet.loading/Control.Loading.js';\r\nimport './Leaflet.loading/Control.Loading.css';\r\nimport './LeafletLoadingControl.css';\r\n\r\n\r\nclass LeafletLoadingControl extends MapControl {\r\n\r\n  createLeafletElement(props) {\r\n  \tlet opts = props.opts;\r\n    return new L.Control.Loading(opts); \r\n  }\r\n}\r\n\r\nexport default withLeaflet(LeafletLoadingControl);","import React, { Component } from 'react';\r\nimport { Map, TileLayer, WMSTileLayer, Marker } from 'react-leaflet';\r\nimport WMTSTileLayer from 'react-leaflet-wmts';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faGripVertical } from '@fortawesome/free-solid-svg-icons';\r\nimport EsriTiledMapLayer from './EsriTiledMapLayer';\r\nimport EsriDynamicMapLayer from './EsriDynamicMapLayer';\r\nimport EsriFeatureLayer from './EsriFeatureLayer';\r\nimport EsriImageLayer from './EsriImageLayer';\r\nimport LeafletLoadingControl from './LeafletLoadingControl';\r\nimport {mapboxToken, \r\n        labelLayerUrl, \r\n        mapMinZoom, \r\n        mapDefaultZoom, \r\n        mapDefaultCenter} from './Config';\r\nimport 'leaflet.sync';\r\nimport './MapWrapper.css'\r\nimport './Handle.css';\r\n\r\nlibrary.add(faGripVertical);\r\n\r\nclass Handle extends React.Component {\r\n  render() {\r\n    const { provided, display_name } = this.props;\r\n    return (\r\n      <div className={display_name.length >= 10 ? \"Handle map-title long-title\" : \"Handle map-title\"}>\r\n         <span className=\"Handle-span\" {...provided.dragHandleProps}>\r\n          <FontAwesomeIcon className=\"Handle-drag-icon\" icon=\"grip-vertical\" size=\"1x\"/>\r\n        </span>\r\n         &nbsp;{display_name}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nclass MapWrapper extends Component {\r\n  \r\n  constructor(props, context) {\r\n    super(props)\r\n    this.mapboxToken = mapboxToken;\r\n    this.labelLayerUrl = labelLayerUrl + this.mapboxToken;\r\n\r\n    const DEFAULT_VIEWPORT = {\r\n      center: mapDefaultCenter,\r\n      zoom: mapDefaultZoom\r\n    }\r\n    this.viewport = DEFAULT_VIEWPORT;\r\n    //this.props.mapCenter(this.viewport.center);\r\n    this.invalidateMapSizes = this.invalidateMapSizes.bind(this);\r\n    this.syncMaps = this.syncMaps.bind(this);\r\n    this.unsyncMaps = this.unsyncMaps.bind(this);\r\n    this.moveend = this.moveend.bind(this);\r\n    this.onViewportChanged = this.onViewportChanged.bind(this);\r\n    this.passUpRef = this.passUpRef.bind(this);\r\n    this.onResize = this.onResize.bind(this);\r\n    this.onGeocodeClick = this.onGeocodeClick.bind(this);\r\n    this.bboxStringToLatLngBoundsArray = this.bboxStringToLatLngBoundsArray.bind(this);\r\n    this.checkLayerBounds = this.checkLayerBounds.bind(this);\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this.passUpRef(this.props.layer.id, this.props.mapRef, true);\r\n  }\r\n\r\n  componentDidMount(prevProps, prevState){\r\n    this.passUpRef(this.props.layer.id, this.props.mapRef);\r\n  }\r\n  \r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.layer.visibleIndex !== \r\n          this.props.layer.visibleIndex) {\r\n\r\n    }\r\n  }\r\n\r\n  onResize(e) {\r\n  }\r\n\r\n  moveend(e) {\r\n\r\n  }\r\n  \r\n  invalidateMapSizes() {\r\n    this.props.invalidateMapSizes();\r\n  }\r\n  \r\n\r\n  unsyncMaps(ref_id) {\r\n     this.props.unsyncMaps(ref_id);\r\n  }\r\n\r\n  syncMaps() {\r\n    this.props.syncMaps();\r\n  }\r\n\r\n  passUpRef(id, ref, deleteRef=false) {\r\n    this.props.passUpRef(id, ref, deleteRef);\r\n  }\r\n\r\n  bboxStringToLatLngBoundsArray(){\r\n      var a = this.props.layer.startBounds.split(\",\");\r\n      return [[a[1],a[0]], [a[3],a[2]]];\r\n  }; \r\n\r\n  checkLayerBounds(){\r\n    let layer = this.props.layer;\r\n    \r\n    if (layer.startBounds) {\r\n      return this.bboxStringToLatLngBoundsArray()\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n\r\n  clearGeocode() {\r\n    this.props.clearGeocode();\r\n  }\r\n\r\n  onGeocodeClick() {\r\n    this.clearGeocode();\r\n  }\r\n\r\n  onViewportChanged(viewport) { \r\n    //putting viewport into state results in (near) infinite loop of componentdidupdates\r\n    //probably because L.sync is not react-ified\r\n    //so just use good ole generic this.viewport instead\r\n    this.viewport = viewport;\r\n  }\r\n\r\n  render() {\r\n    const layer_components = {\r\n      \"EsriFeatureLayer\": EsriFeatureLayer,\r\n      \"EsriTiledMapLayer\": EsriTiledMapLayer,\r\n      \"EsriImageLayer\": EsriImageLayer,\r\n      \"EsriDynamicMapLayer\": EsriDynamicMapLayer,\r\n      \"WMSTileLayer\": WMSTileLayer,\r\n      \"TileLayer\": TileLayer,\r\n      \"WMTSTileLayer\": WMTSTileLayer\r\n    }\r\n\r\n    const overlays = this.props.overlays;\r\n    const Overlays = () => {return (\r\n      <>\r\n        {overlays.map(layer => {\r\n          let Overlay = layer_components[layer.type];\r\n          return  (\r\n            <Overlay  \r\n                url={layer.url}\r\n                key={layer.id} \r\n                zIndex={100000}\r\n                pane=\"overlayPane\"\r\n                {...layer}\r\n                />\r\n          )\r\n        })}\r\n      </>)\r\n    };\r\n    const layer = this.props.layer;\r\n    let that = this;\r\n    let Layer = layer_components[layer.type];\r\n    const { provided } = this.props;\r\n\r\n    // Use ids from layers array to create list of urls\r\n    return (<div \r\n              {...provided.draggableProps}\r\n              ref={provided.innerRef}>\r\n              <Handle provided={provided} display_name={layer.display_name} />\r\n              <Map ref={this.props.mapRef}\r\n                 minZoom={mapMinZoom}\r\n                 bounds={this.checkLayerBounds()}\r\n                 onResize={this.onResize}\r\n                 maxZoom={layer.maxZoom}\r\n                 onViewportChanged={that.onViewportChanged}\r\n                 className ={'map'+ this.props.numberLayers + (this.props.isDragging ? \"dragging\": \"nope\")}  \r\n                 id={layer.id}\r\n                 key={layer.id} \r\n                 viewport={that.viewport}\r\n                 zoomControlAdded={true}\r\n                 loadingControl={true}\r\n                >\r\n                <LeafletLoadingControl opts={{\r\n                    position: 'bottomleft',\r\n                    spinjs: true,\r\n                    separate: true,\r\n                    delayIndicator: 400,\r\n                    spin:{\r\n                      lines: 15,\r\n                      length: 10,\r\n                      width: 3,\r\n                      radius: 15,\r\n                      color: '#ffffff',\r\n                      left:'100%',\r\n                      top:'-25%', \r\n                      fadeColor: 'black',\r\n                      shadow: '0 0 5px black'\r\n                    }\r\n                  }}/>\r\n\r\n                {this.props.geocodeResult &&\r\n                  <Marker position={this.props.geocodeResult}\r\n                          onClick={this.onGeocodeClick}/>\r\n                }\r\n\r\n                {this.props.labelLayerOn &&\r\n                  <TileLayer \r\n                    key={\"labels-\" + layer.id}\r\n                    url={this.labelLayerUrl}\r\n                    pane=\"shadowPane\"\r\n                    zIndex={1000000} />\r\n                }\r\n                  \r\n                {this.props.overlays.length > 0 && <Overlays />}\r\n\r\n                <Layer \r\n                  key={layer.id} \r\n                  {...layer}\r\n                />\r\n\r\n            </Map>\r\n          </div>\r\n    )\r\n  }\r\n}  \r\n\r\n\r\nexport default React.forwardRef((props, ref) => <MapWrapper mapRef={ref} {...props} />);\r\n\r\n","import React from 'react';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport MapWrapper from './MapWrapper';\r\nimport \"./RowContainer.css\";\r\n\r\nclass RowContainer extends React.Component {\r\n\r\n  render() {\r\n    const { provided, layers } = this.props;\r\n\r\n  \tlet maps = layers.map((layer, index) => (\r\n\t\t<Draggable draggableId={\"draggable-\"+layer.id} \r\n\t\t\t\t   key={\"draggable-\"+layer.id} \r\n\t\t\t\t   index={index}>\r\n\t\t \t{(provided, snapshot) => (\r\n\t\t  \t<MapWrapper\r\n\t\t        layer={layer}\r\n\t\t        overlays={this.props.overlays}\r\n\t\t        numberLayers={layers.length}\r\n\t\t        innerRef={provided.innerRef}\r\n\t\t        key={layer.id}\r\n\t\t        layerIndex={index}\r\n\t\t        provided={provided}\r\n\t\t        isDragging={snapshot.isDragging}\r\n\t\t        passUpRef={this.props.passUpRef}\r\n\t\t        mapRef={this.props.mapRef}\r\n\t\t        syncMaps={this.props.syncMaps}\r\n\t\t        geocodeResult={this.props.geocodeResult}\r\n\t\t        clearGeocode={this.props.clearGeocode}\r\n\t\t        unsyncMaps={this.props.unsyncMaps}\r\n\t\t        labelLayerOn={this.props.labelLayerOn}\r\n\t\t        invalidateMapSizes={this.props.invalidateMapSizes}\r\n\t\t        />\r\n\t\t \t)}\r\n\t  </Draggable>\r\n    ));\r\n\r\n\r\n    return (\r\n    \t//<div><h1>poop</h1></div>\r\n      <div className={this.props.className} \r\n      \t   ref={provided.innerRef}\r\n      \t   {...provided.droppableProps}>\r\n      \t{maps}\r\n        {provided.placeholder}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default React.forwardRef((props, ref) => <RowContainer mapRef={ref} {...props} />);;","import React, { Component } from 'react';\r\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\r\n// import * as L from 'leaflet';\r\nimport { isEqual } from 'lodash';\r\nimport RowContainer from './RowContainer';\r\nimport { findWithAttr, moveWithinArray, compareArrays } from './Util';\r\n\r\nclass MapsContainer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onDragEnd = this.onDragEnd.bind(this);\r\n    this.setMapRef = this.setMapRef.bind(this);\r\n    this.syncMaps = this.syncMaps.bind(this);\r\n    this.unsyncMaps = this.unsyncMaps.bind(this);\r\n    this.invalidateMapSizes = this.invalidateMapSizes.bind(this);\r\n    this.handleGeocode = this.handleGeocode.bind(this);\r\n    this.clearGeocode = this.clearGeocode.bind(this);\r\n    this.state = {\"mapRefs\": {}}\r\n    this.passUpRef = this.passUpRef.bind(this);\r\n  }\r\n\r\n  passUpRef(id, ref, deleteRef) {\r\n    let mapRefs = {\"mapRefs\": this.state.mapRefs};\r\n\r\n    if (deleteRef) {\r\n      this.unsyncMaps(id);\r\n      delete(mapRefs.mapRefs[id]);\r\n      this.setState(mapRefs);\r\n    }\r\n    else {\r\n      this.manageZoomControls();\r\n      this.syncMaps();\r\n    }\r\n    this.invalidateMapSizes();\r\n  }\r\n\r\n setMapRef(DOMNode) {\r\n    let mapRefs = {\"mapRefs\": this.state.mapRefs};\r\n\r\n    if (DOMNode) {\r\n      mapRefs.mapRefs[DOMNode.container.id] = DOMNode;\r\n      this.setState(mapRefs);\r\n    }\r\n  }\r\n\r\n\r\n onDragEnd(draggedLayer) {\r\n\r\n    if (draggedLayer.destination === null) {\r\n      return;\r\n    }\r\n\r\n    let allLayers = this.props.layers;\r\n    let currentRow = draggedLayer.source.droppableId;  \r\n    let destRow = draggedLayer.destination.droppableId; \r\n    let currentLayerIndex, destinationIndex;\r\n    \r\n    if (currentRow === \"row2\") {\r\n      currentLayerIndex = allLayers.filter(i => i.row === \"row1\").length + draggedLayer.source.index;\r\n    }\r\n    else {\r\n      currentLayerIndex = draggedLayer.source.index;\r\n    }\r\n\r\n    \r\n    if (destRow === \"row2\") {\r\n      destinationIndex = allLayers.filter(i => i.row === \"row1\").length + draggedLayer.destination.index;\r\n    }\r\n    else {\r\n      destinationIndex = draggedLayer.destination.index;\r\n    }\r\n\r\n    let allTurnedOnLayers = allLayers.filter(i => i.isToggledOn);\r\n    \r\n    moveWithinArray(allTurnedOnLayers, currentLayerIndex, destinationIndex);\r\n \t  \r\n    this.props.updateLayerDisplayIndexesAndRows(allTurnedOnLayers);\r\n  \r\n  }\r\n\r\n\r\n  manageZoomControls() { \r\n    let mapRefs = this.state.mapRefs;\r\n    let layers = this.props.layers;\r\n    var map, lyr, zoomControlNeeded;\r\n\r\n    for (let i in mapRefs){ \r\n    \r\n      map = mapRefs[i].leafletElement;\r\n      lyr = layers[findWithAttr(layers, \"id\", i)];\r\n      zoomControlNeeded = lyr.visibleIndex === 0 ? true : false;\r\n      \r\n      if (zoomControlNeeded){\r\n          \r\n          map.removeControl(map.zoomControl);\r\n          map.addControl(map.zoomControl);\r\n          \r\n      }\r\n\r\n      else {\r\n        map.removeControl(map.zoomControl);\r\n        //map.zoomControlAdded = false;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  invalidateMapSizes() {\r\n    let mapRefs = this.state.mapRefs;\r\n    for (let i in mapRefs){ \r\n      mapRefs[i].leafletElement.invalidateSize();\r\n    }\r\n  }\r\n\r\n  unsyncMaps(ref_id) {\r\n    let mapRefs = this.state.mapRefs;\r\n    for (var i in mapRefs){\r\n      if (i !== ref_id && mapRefs[ref_id]){\r\n          mapRefs[ref_id].leafletElement.unsync(mapRefs[i].leafletElement);\r\n          mapRefs[i].leafletElement.unsync(mapRefs[ref_id].leafletElement);\r\n      }\r\n    }\r\n  }\r\n\r\n  syncMaps() {\r\n    let mapRefs = this.state.mapRefs;\r\n    for (var i in mapRefs){\r\n      for (var j in mapRefs){\r\n        if (i !== j && !mapRefs[i].leafletElement.isSynced(mapRefs[j].leafletElement)){\r\n          mapRefs[i].leafletElement.sync(\r\n            mapRefs[j].leafletElement, {syncCursor: true}\r\n          );           \r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  clearGeocode() {\r\n  \tthis.setState({\"geocodeResult\": false});\r\n  }\r\n\r\n  handleGeocode(geocodeResult){\r\n  \t//maybe move this to mapwrapper? other than setting state w/ center that is\r\n  \tlet randomMap = Object.entries(this.state.mapRefs)[0][1];\r\n    let bbox = this.props.geocodeResult.geocode.bbox;\r\n    let center = this.props.geocodeResult.geocode.center;\r\n\r\n    if (bbox._northEast.lat !== bbox._southWest.lat){\r\n      randomMap.leafletElement.fitBounds(bbox);\r\n    }\r\n\r\n    else {\r\n      randomMap.leafletElement.setView(center, 15);\r\n    }\r\n    this.setState({\"geocodeResult\": center});\r\n    setTimeout(this.clearGeocode, 2000);\r\n\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState){\r\n    let prevLyrs = prevProps.layers;\r\n    let lyrs = this.props.layers;\r\n\r\n    if (prevLyrs.filter(i => i.isToggledOn).length !== \r\n         lyrs.filter(i => i.isToggledOn).length) \r\n    {\r\n      this.invalidateMapSizes();\r\n    }\r\n\r\n    else if (!compareArrays(prevLyrs, lyrs))\r\n    {\r\n      setTimeout(this.invalidateMapSizes, 400);\r\n    }\r\n    if (prevLyrs.length === lyrs.length && !isEqual(prevLyrs.map(lyr => lyr.display_name+lyr.visibleIndex.toString()),\r\n          lyrs.map(lyr => lyr.display_name+lyr.visibleIndex.toString()))){\r\n            this.manageZoomControls();\r\n          }\r\n\r\n    if (prevProps.geocodeResult !== this.props.geocodeResult) {\r\n      this.handleGeocode(this.props.geocodeResult);\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n  \tlet layers = this.props.layers.filter(lyr => lyr.isToggledOn);\r\n  \tlet numberRows = [];\r\n    layers.forEach(lyr => {\r\n    \tnumberRows.push(lyr.row);\r\n    });\r\n    numberRows = new Set(numberRows);\r\n    numberRows = [...numberRows];\r\n\r\n    let row1Layers = layers.filter(i => i.row === \"row1\");\r\n    row1Layers.sort((a, b) => a.visibleIndex - b.visibleIndex);\r\n    let row2Layers = layers.filter(i => i.row === \"row2\");\r\n    row2Layers.sort((a, b) => a.visibleIndex - b.visibleIndex);\r\n    \r\n\r\n    let rows = numberRows.map( (val, index) => { \r\n      return (\r\n        <Droppable droppableId={val} key={val} direction=\"horizontal\">\r\n          {(provided, snapshot) => (\r\n            <RowContainer className={\"Row \" + val + (numberRows.length === 2 ? \" two-rows\" : \"\" )} \r\n                  provided={provided}\r\n                  snapshot={snapshot}\r\n                  passUpRef={this.passUpRef}\r\n\t\t\t\t          geocodeResult={this.state.geocodeResult}\r\n\t\t\t\t          clearGeocode={this.clearGeocode}\r\n                  mapRef={this.setMapRef} \r\n                  innerRef={provided.innerRef}\r\n                  syncMaps={this.syncMaps}\r\n                  labelLayerOn={this.props.labelLayerOn}\r\n                  unsyncMaps={this.unsyncMaps}\r\n                  invalidateMapSizes={this.invalidateMapSizes}\r\n                  overlays={this.props.overlays}\r\n                  layers={val === \"row1\" ? row1Layers : row2Layers}>\r\n            </RowContainer>\r\n          )}  \r\n        </Droppable>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <div id='maps'>\r\n            <DragDropContext onDragEnd={this.onDragEnd}>\r\n              {rows}\r\n            </DragDropContext>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default React.forwardRef((props, ref) => <MapsContainer mapRef={ref} {...props} />);;\r\n","import React, { Component } from 'react';\r\nimport Fullscreen from 'react-fullscreen-crossbrowser';\r\nimport { cloneDeep } from 'lodash';\r\nimport shortid from 'shortid';\r\nimport { findWithAttr, moveWithinArray } from './Util';\r\nimport UtilityBar from './UtilityBar';\r\nimport ViewBar from './ViewBar';\r\nimport Modal from './Modal';\r\nimport Tooltip from './Tooltip';\r\nimport MapsContainer from './MapsContainer';\r\nimport Config, { welcomeText, siteTitle } from './Config';\r\n//import LayersInfo from './LayersInfo';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleItemClick = this.handleItemClick.bind(this);\r\n    this.transmitGeocode = this.transmitGeocode.bind(this);\r\n    this.toggleFullscreen = this.toggleFullscreen.bind(this);\r\n    this.toggleLabels = this.toggleLabels.bind(this);\r\n    this.toggleModal = this.toggleModal.bind(this);\r\n    this.toggleSpinner = this.toggleSpinner.bind(this);\r\n    this.rebuildTooltip = this.rebuildTooltip.bind(this);\r\n    this.openModal = this.openModal.bind(this);\r\n    this.closeModal = this.closeModal.bind(this);\r\n    this.modalSubmit = this.modalSubmit.bind(this);\r\n    this.calculateDisplayIndexes = this.calculateDisplayIndexes.bind(this);\r\n    this.calculateRowLayers = this.calculateRowLayers.bind(this);\r\n    this.updateLayerDisplayIndexesAndRows = this.updateLayerDisplayIndexesAndRows.bind(this);\r\n    this.addOverlay = this.addOverlay.bind(this);\r\n    this.deleteOverlay = this.deleteOverlay.bind(this);\r\n    this.addLayer = this.addLayer.bind(this);\r\n\r\n\r\n    this.state = {\"layers\":[],\r\n                  \"overlays\": Config.defaultOverlays || [],\r\n                  \"numberOfLayersOn\": 0, \r\n                  \"geocodeResult\": {},\r\n                  \"labelLayerOn\": true,\r\n                  \"showSpinner\": false,\r\n                  \"rebuildTooltip\": false,\r\n                  \"modalIsOpen\": false,\r\n                  \"modalContent\": \"\"};\r\n    \r\n    //for the initial app load, set state using LayersInfo\r\n    let viewbarLayers = window.LayersInfo.map(item => ({...item, isToggledOn: false, id: shortid.generate()}));\r\n    this.state.viewbarLayers =  viewbarLayers.sort( (a, b) => {\r\n      return b.sortVal - a.sortVal\r\n    });\r\n\r\n  }\r\n\r\n  transmitGeocode(geocode) {\r\n    this.setState({\"geocode\": geocode});\r\n  }\r\n\r\n  toggleFullscreen() {\r\n    let current_val = this.state.isFullscreenEnabled;\r\n    this.setState({isFullscreenEnabled: !current_val});\r\n  }\r\n\r\n  toggleLabels() {\r\n    console.log(\"toggleLabels\");\r\n    let curr = this.state.labelLayerOn;\r\n    this.setState({\"labelLayerOn\": !curr});\r\n  }\r\n\r\n  toggleSpinner(bool) {\r\n    this.setState({\"showSpinner\": bool});\r\n  }\r\n\r\n  toggleModal(bool) {\r\n    this.setState({\"modalIsOpen\": bool});\r\n  }\r\n\r\n  modalSubmit(modalType, data){\r\n    console.log(modalType);\r\n    console.log(data);\r\n    switch (modalType){\r\n      case \"AddLayerItem\":\r\n        this.addLayer(data);\r\n        break;\r\n      case \"AddOverlay\":\r\n        this.addOverlay(data);\r\n        break;\r\n      default:\r\n        console.log(\"mooooo\");\r\n    }\r\n\r\n  }\r\n\r\n  renderModal(){\r\n\r\n  }\r\n  openModal(modalType, modalContent, modalOptions){\r\n    \r\n    this.setState({\r\n      modalType: modalType,\r\n      modalContent: modalContent,\r\n      modalOptions: modalOptions\r\n    });\r\n    this.toggleModal(true);\r\n\r\n  }\r\n  \r\n  closeModal() {\r\n    this.toggleModal(false);\r\n  }\r\n\r\n  rebuildTooltip(bool) {\r\n    console.log(\"rebuildTooltip\", bool);\r\n    this.setState({\"rebuildTooltip\": bool});\r\n  }\r\n\r\n  addOverlay(data) {\r\n    //console.log(\"------ ADD OVERLAY ------\");\r\n    let overlays = cloneDeep(this.state.overlays);\r\n      \r\n    var new_layer = data;\r\n    new_layer.isOverlay = true;\r\n    new_layer.id = shortid.generate();\r\n    overlays.push(new_layer);\r\n    this.setState({\"overlays\":overlays});\r\n  }\r\n\r\n  deleteOverlay(obj) {\r\n    let id = obj.currentTarget.dataset.overlayId;\r\n    document.getElementById(id).style.display = \"none\";\r\n    let overlays = cloneDeep(this.state.overlays);\r\n    let matchIndex = findWithAttr(overlays, \"id\", id);\r\n    overlays.splice(matchIndex, 1);\r\n    this.setState({\"overlays\":overlays});\r\n\r\n  }\r\n\r\n  addLayer(data) {\r\n    console.log(data);\r\n    let new_layer = data,\r\n      id = shortid.generate(), \r\n      maxZoom = 20;\r\n\r\n    new_layer.id = id;\r\n    new_layer.maxZoom = maxZoom;\r\n    \r\n    let state = {\"viewbarLayers\": this.state.viewbarLayers};\r\n    state.viewbarLayers.push(new_layer);\r\n    this.setState(state);\r\n  }\r\n\r\n  handleItemClick(data) {\r\n    let found = false;\r\n    let foundIdx;\r\n    let newStateLayers = cloneDeep(this.state.layers);  \r\n\r\n    newStateLayers.forEach((lyr, index) => {\r\n      if (data.id === lyr.id){\r\n        found = true;\r\n        foundIdx = index;\r\n      }\r\n    });\r\n\r\n    if (!found){\r\n      newStateLayers = newStateLayers.concat([data]);\r\n    }\r\n\r\n    else {\r\n\r\n      newStateLayers[foundIdx].isToggledOn = !this.state.layers[foundIdx].isToggledOn;\r\n\r\n      //rearrange the layers array so display order matches clicked order\r\n      moveWithinArray(newStateLayers, foundIdx, newStateLayers.length - 1);\r\n    }\r\n\r\n    newStateLayers = this.calculateDisplayIndexes(newStateLayers);\r\n    newStateLayers = this.calculateRowLayers(newStateLayers);\r\n\r\n    let newNumberOfLayersOn = newStateLayers.filter(i => i.isToggledOn).length;\r\n\r\n    let newState = {\"layers\": newStateLayers,\r\n                  \"numberOfLayersOn\": newNumberOfLayersOn};\r\n\r\n    this.setState(newState);\r\n  }\r\n\r\n\r\n updateLayerDisplayIndexesAndRows(layers) {\r\n  let newLayers = cloneDeep(this.state.layers);\r\n  layers.forEach((lyr, index) => {\r\n    var lyrIndex = findWithAttr(newLayers, \"id\", lyr.id);\r\n    newLayers[lyrIndex].visibleIndex = index;\r\n  });\r\n  newLayers = this.calculateRowLayers(newLayers);\r\n\r\n  this.setState({\"layers\": newLayers});\r\n }\r\n\r\n calculateDisplayIndexes(layers) {\r\n    var visibleIndex = 0;\r\n    let newLayers = layers.map(function(lyr){\r\n      if (lyr.isToggledOn) {\r\n        lyr.visibleIndex = visibleIndex;\r\n        visibleIndex ++;\r\n      }\r\n\r\n      return lyr;\r\n    });\r\n    return newLayers;\r\n  }\r\n  \r\ncalculateRowLayers(layers) {\r\n  let visibleLayers = layers.filter(i => i.isToggledOn);\r\n  let numberOfLayersOn = visibleLayers.length;\r\n  visibleLayers.sort(function(a,b){\r\n    return a.visibleIndex - b.visibleIndex;\r\n  })\r\n\r\n  switch(numberOfLayersOn){\r\n    case 1:\r\n    case 2:\r\n    case 3:\r\n      visibleLayers.forEach(i => i.row = \"row1\");\r\n      break;\r\n    case 4:\r\n      visibleLayers.slice(0,2).forEach(i => i.row = \"row1\");\r\n      visibleLayers.slice(2).forEach(i => i.row = \"row2\");\r\n      break;\r\n    case 5:\r\n    case 6:\r\n      visibleLayers.slice(0,3).forEach(i => i.row = \"row1\");\r\n      visibleLayers.slice(3).forEach(i => i.row = \"row2\");\r\n      break;\r\n    case 7:\r\n    case 8:\r\n      visibleLayers.slice(0,4).forEach(i => i.row = \"row1\");\r\n      visibleLayers.slice(4).forEach(i => i.row = \"row2\");\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return visibleLayers;\r\n}\r\n\r\n  render() {\r\n\r\n    return (\r\n\r\n      <Fullscreen\r\n          enabled={this.state.isFullscreenEnabled}\r\n          onChange={isFullscreenEnabled => this.setState({isFullscreenEnabled})}>\r\n\r\n        <div id=\"modalRoot\"></div>\r\n        <div id=\"spinna\"></div>\r\n        <div className=\"App\">\r\n          <Modal isOpen={this.state.modalIsOpen} \r\n              toggleSpinner={this.toggleSpinner} \r\n              openModal={this.openModal}\r\n              closeModal={this.closeModal}\r\n              modalSubmit={this.modalSubmit}\r\n              modalContent={this.state.modalContent}\r\n              modalType={this.state.modalType}\r\n              modalOptions={this.state.modalOptions}\r\n              rebuildTooltip={this.rebuildTooltip}\r\n             \r\n              />\r\n          <header className=\"App-header\">\r\n            {siteTitle}\r\n          </header>\r\n\r\n         \r\n\r\n          <Tooltip rebuildTooltip={this.state.rebuildTooltip}\r\n                   resetRebuildTooltip={this.rebuildTooltip} />\r\n         \r\n          {this.state.numberOfLayersOn === 0 && \r\n            <div className='no-maps'>\r\n              <p>\r\n                {welcomeText}\r\n              </p>\r\n            </div>\r\n          }\r\n\r\n          {this.state.numberOfLayersOn > 0 && \r\n            <MapsContainer layers={this.state.layers} \r\n                           overlays={this.state.overlays}\r\n                           mapCenter={this.mapCenter}\r\n                           geocodeResult={this.state.geocode}\r\n                           labelLayerOn={this.state.labelLayerOn}\r\n                           numberOfLayersOn={this.state.numberOfLayersOn}\r\n                           updateLayerDisplayIndexesAndRows={this.updateLayerDisplayIndexesAndRows}\r\n                           >\r\n        \r\n            </MapsContainer>\r\n          }\r\n\r\n          {this.state.numberOfLayersOn > 0 && \r\n            <UtilityBar transmitGeocode={this.transmitGeocode} \r\n                        toggleFullscreen={this.toggleFullscreen}\r\n                        toggleLabels={this.toggleLabels}\r\n                        labelLayerOn={this.state.labelLayerOn}\r\n                        isFullscreenEnabled={this.state.isFullscreenEnabled}\r\n                        overlays={this.state.overlays}\r\n                        viewbarLayers={this.state.viewbarLayers}\r\n                        addOverlay={this.addOverlay}\r\n                        deleteOverlay={this.deleteOverlay}\r\n                        openModal={this.openModal}\r\n                        closeModal={this.closeModal}\r\n                         />\r\n          }\r\n\r\n          <ViewBar onItemClick={this.handleItemClick}\r\n                   numberOfLayersOn={this.state.numberOfLayersOn}\r\n                   toggleModal={this.toggleModal}\r\n                   openModal={this.openModal}\r\n                   closeModal={this.closeModal}\r\n                   viewbarLayers={this.state.viewbarLayers}\r\n                   newLayer={this.state.newLayer} />\r\n\r\n        </div>\r\n      </Fullscreen>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import 'react-app-polyfill/ie9';\r\nimport 'react-app-polyfill/stable';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport './theme.css';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nimport cssVars from 'css-vars-ponyfill';\r\ncssVars({\r\n  // Options...\r\n});\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}