{"version":3,"sources":["Geocoder/images/geocoder.png","Geocoder/images/throbber.gif","Util.js","Geocoder.js","TooltipText.jsx","TooltipIcon.jsx","Textarea.jsx","AddOverlayForm.jsx","AddOverlay.js","ExportLayersToJSONButton.jsx","ManageOverlays.jsx","MapLabelsToggle.js","SettingsForm.jsx","Settings.js","FullscreenToggle.js","HideViewbarToggle.js","UtilityBar.js","Item.js","AddLayerItemForm.jsx","AddLayerItem.js","ScrollButton.js","ViewBar.js","Modal.jsx","Tooltip.jsx","WFSLayer.jsx","EsriTiledMapLayer.js","EsriDynamicMapLayer.js","EsriFeatureLayer.js","EsriImageLayer.js","Leaflet.loading/Control.Loading.js","LeafletLoadingControl.jsx","MapWrapper.js","RowContainer.js","MapsContainer.js","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","findWithAttr","array","attr","value","i","length","deleteArrayofKeys","object","moveWithinArray","from","to","splice","Geocoder","Component","constructor","props","super","library","add","faSearch","this","Config","window","sideby","mapboxToken","componentDidMount","that","map","L","geocoderObj","Control","Mapbox","geocoderSearchPlaceholderText","addTo","on","e","transmitGeocode","container","getContainer","document","getElementById","appendChild","geocode","render","id","className","viewbarVisible","TooltipText","TooltipIcon","faInfoCircle","data-tip","tooltipName","data-for","data-event","icon","Textarea","label","useField","field","meta","htmlFor","name","touched","error","AddOverlayForm","initialValues","url","type","display_name","validationSchema","Yup","required","onSubmit","values","setSubmitting","addOverlay","closeModal","component","onClick","AddOverlay","faPlusSquare","bind","onBlur","handleLayerTypeChange","modalType","state","layerTypeGuess","event","console","log","target","setState","submittedUrl","newType","Object","entries","TileLayer","WMSTileLayer","EsriImageLayer","EsriFeatureLayer","EsriTiledMapLayer","forEach","lyrTypeRE","test","modalContent","openModal","title","size","ExportLayersToJSONButton","faCopy","showLayers","clipboard","ClipboardJS","rows","cols","readOnly","JSON","stringify","layers","data-clipboard-target","ManageOverlays","faLayerGroup","faTimesCircle","currentOverlays","overlays","o","key","data-overlay-id","deleteOverlay","noSubmit","MapLabelsToggle","onChange","toggleLabels","defaultChecked","labelLayerOn","SettingsForm","formik","useFormik","mapLabels","v","alert","handleSubmit","viewbarLayers","Settings","faCog","faExpand","faCompress","FullscreenToggle","toggleFullscreen","isFullscreenEnabled","faArrowDown","faArrowUp","HideViewbarToggle","toggleViewbarVisibility","UtilityBar","numberOfLayersOn","faCircle","Item","resolveThumbnail","getThumbnailByLayerType","guessLayerTypeByUrl","rebuildTooltip","layerType","thumbnail_file","startsWith","thumbnail_path","process","maxLayers","isToggledOn","maxLayersWarning","replace","data","onItemClick","dispName","style","backgroundImage","data-delay-show","data-event-off","slice","AddLayerItemForm","addLayer","AddLayerItem","faMap","faPlus","transform","color","faAngleLeft","faAngleRight","ScrollButton","direction","arrow","ViewBar","handleItemClick","handleScrollButtonClick","scrollTo","onWheel","easeInOutQuad","newState","cloneDeep","lyr","index","scrollDirection","componentDidUpdate","prevProps","prevState","newLayer","push","elem","scrollSize","deltaMode","deltaY","scrollLeft","duration","start","clientWidth","documentElement","moveSize","Math","max","change","currentTime","animateScroll","val","setTimeout","t","b","c","d","items","onScroll","scrollleft","item","ReactModal","setAppElement","Modal","formatContent","afterOpenModal","gatherValues","handleCloseModal","ref","React","createRef","getParent","querySelector","querySelectorAll","modalSubmit","content","closeTimeoutMS","isOpen","onAfterOpen","onRequestClose","parentSelector","contentLabel","Tooltip","resetRebuildTooltip","ReactTooltip","rebuild","effect","place","multiline","WFSLayer","Path","createLeafletElement","el","WFS","getOptions","contextValue","leaflet","layerContainer","popupContainer","updateLeafletElement","fromProps","toProps","leafletElement","setUrl","withLeaflet","GridLayer","tiledMapLayer","propTypes","PropTypes","string","isRequired","EsriDynamicMapLayer","MapLayer","options","dynamicMapLayer","featureLayer","imageMapLayer","warn","Loading","extend","delayIndicator","position","separate","zoomControl","spinjs","spin","lines","width","radius","rotate","top","initialize","setOptions","_dataLoaders","onAdd","Spinner","_addLayerListeners","_addMapListeners","zoomsliderControl","classes","_container","DomUtil","addClass","_getLastControlButton","create","_indicatorContainer","_indicator","_spinner","onRemove","_removeLayerListeners","_removeMapListeners","removeFrom","removeChild","_map","prototype","call","addLoader","delayIndicatorTimeout","updateIndicator","removeLoader","isLoading","clearTimeout","_showIndicator","_hideIndicator","_countLoaders","hasOwnProperty","Zoom","removeClass","Zoomslider","_ui","zoomOut","children","button","offsetWidth","offsetHeight","_handleLoading","getEventId","_handleBaseLayerChange","layer","eachLayer","Canvas","_handleLoad","_leaflet_id","_layerAdd","loading","load","exception","_layerRemove","off","baselayerchange","dataloading","dataload","layerremove","Map","addInitHook","loadingControl","addControl","LeafletLoadingControl","MapControl","opts","faGripVertical","Handle","provided","dragHandleProps","MapWrapper","context","labelLayerUrl","DEFAULT_VIEWPORT","center","mapDefaultCenter","zoom","mapDefaultZoom","viewport","invalidateMapSizes","syncMaps","unsyncMaps","moveend","onViewportChanged","passUpRef","onResize","onGeocodeClick","bboxStringToLatLngBoundsArray","checkLayerBounds","layerOptionBlacklist","componentWillUnmount","mapRef","visibleIndex","ref_id","deleteRef","a","startBounds","split","clearGeocode","layer_components","WMTSTileLayer","Overlays","Overlay","zIndex","pane","Layer","draggableProps","innerRef","minZoom","mapMinZoom","bounds","maxZoom","numberLayers","isDragging","zoomControlAdded","preferCanvas","left","fadeColor","shadow","geocodeResult","Marker","forwardRef","RowContainer","maps","draggableId","snapshot","layerIndex","droppableProps","placeholder","MapsContainer","onDragEnd","setMapRef","handleGeocode","mapRefs","manageZoomControls","DOMNode","draggedLayer","destination","currentLayerIndex","destinationIndex","allLayers","currentRow","source","droppableId","destRow","filter","row","allTurnedOnLayers","updateLayerDisplayIndexesAndRows","removeControl","invalidateSize","unsync","j","isSynced","sync","syncCursor","randomMap","bbox","_northEast","lat","_southWest","fitBounds","setView","prevLyrs","lyrs","array1","array2","arraysAreEqual","compareArrays","isEqual","toString","numberRows","Set","row1Layers","sort","row2Layers","row3Layers","App","toggleModal","calculateDisplayIndexes","calculateRowLayers","defaultOverlays","LayersInfo","shortid","generate","sortVal","current_val","curr","bool","renderModal","modalOptions","new_layer","isOverlay","obj","currentTarget","dataset","overlayId","display","matchIndex","foundIdx","found","newStateLayers","newViewbarLayers","concat","newNumberOfLayersOn","newLayers","lyrIndex","visibleLayers","enabled","modalIsOpen","siteTitle","welcomeText","mapCenter","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","cssVars","ReactDOM","URL","origin","addEventListener","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.c52927e9.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAMAAACelLz8AAAAz1BMVEUAAAAkJCQmJiYmJiYlJSUkJCQAAAAqKiokJCQmJiYzMzMlJSUkJCQmJiYlJSUmJiYoKCgmJiYmJiYnJycmJiYAAAAmJiYmJiYlJSUZGRklJSUmJiYmJiYlJSUlJSUmJiYmJiYtLS0mJiYlJSUmJiYnJyccHBwmJiYmJiYlJSUiIiImJiYmJiYmJiYlJSUkJCQlJSUjIyMuLi4mJiYmJiYlJSUlJSUlJSUAAAAmJiYlJSUoKCglJSUlJSUmJiYmJiYlJSUlJSUlJSUlJSUmJiawjvnZAAAARHRSTlMARfbw3jEDBkb+BatNZMu1GfHGDdQBoPjyCsOfFD2C/LQRaqiTVQmMcFkW4uR961pnOQshyWDgnAKuzDP5uPVW+tp5S3AUDfcAAACGSURBVBgZzcFFAoMwAATARQN1d3d3d9n/v6n0SsKdGYROrW7ZUMlWm+SsD1kkw1ZnPnXHkMTZADAxFwP4JdMCnhU1+CVy+NO4hF+02IbnwzX8YuwKwDLeNiQFHo7nG7+Q5UcmX/eH/oTK5oQLjS3Urjp3Amp7cogAPboO1ESl5CBAOYVQ+QEjbg1iCZEUOgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/gif;base64,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\"","/*\r\n*  Takes an array of objects and returns the index \r\n*  of the member with the supplied attribute value.\r\n*  If not found, returns -1.\r\n*/\r\nexport function findWithAttr(array, attr, value) {\r\n    for(var i = 0; i < array.length; i += 1) {\r\n        if(array[i][attr] === value) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n  }\r\n\r\n/*\r\n  Takes an object and an array of strings representing \r\n  keys in the object. Deletes the keys and returns the\r\n  modified object.\r\n*/\r\nexport function deleteArrayofKeys(object, array) {\r\n  for(var i = 0; i < array.length; i += 1) {\r\n    delete object[array[i]]\r\n  }\r\n  return object\r\n}\r\n\r\n/*\r\n*\tMoves items within an array. From and to arguments\r\n*   Represent the index numbers. Returns nothing, as \r\n*   it modifies the array in place.\r\n*/\r\nexport function moveWithinArray(array, from, to) {\r\n    array.splice(to, 0, array.splice(from, 1)[0]);\r\n  }\r\n\r\nexport function compareArrays(array1, array2) {\r\n\tvar arraysAreEqual = true;\r\n\tfor (var i = array1.length; i--;){\r\n\t\tif (array1[i] !== array2[i]) {\r\n\t\t\tarraysAreEqual = false;\r\n\t\t}\r\n\t}\r\n\treturn arraysAreEqual;\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { faSearch  } from '@fortawesome/free-solid-svg-icons';\r\nimport L from 'leaflet';\r\nimport 'leaflet-control-geocoder';\r\nimport './Geocoder/images/geocoder.png';\r\nimport './Geocoder/images/throbber.gif';\r\nimport './Geocoder/Control.Geocoder.css';\r\nimport './Geocoder.css';\r\n\r\n\r\nclass Geocoder extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    library.add(faSearch);\r\n    this.Config = window.sideby.Config;\r\n\r\n    this.mapboxToken = this.Config.mapboxToken;\r\n  }\r\n \r\n  componentDidMount(){\r\n    //console.log(\"Geocoder mounted\");\r\n    let that = this;\r\n    this.map = L.map('hidden-geocoder-map');\r\n    this.geocoderObj = new L.Control.Geocoder(\r\n      {\r\n        \"geocoder\": new L.Control.Geocoder.Mapbox(\r\n          this.mapboxToken,\r\n          //By uncommenting geocodingQueryParams below, you can restrict geocoding results\r\n          //to a specific region using country and bbox. By default it is a world-wide geocoder.\r\n          // {\r\n          //   \"geocodingQueryParams\": {\r\n          //     \"country\": \"US\",\r\n          //     \"bbox\":\"-97.35122680664064,35.9357645138553, -96.75178527832033,36.324530335021876\"\r\n          //   }\r\n          // }\r\n        ),\r\n        \"collapsed\": true,\r\n        \"placeholder\": this.Config.geocoderSearchPlaceholderText,\r\n        \"suggestMinLength\": 3,\r\n        \"queryMinLength\": 1,\r\n        \"defaultMarkGeocode\": false\r\n      });\r\n    this.geocoderObj.addTo(this.map);\r\n    this.geocoderObj.on(\"markgeocode\", e => that.transmitGeocode(e));\r\n    let container = this.geocoderObj.getContainer();\r\n    window.document.getElementById(\"Geocoder\").appendChild(container);\r\n  }\r\n\r\n  transmitGeocode(geocode){\r\n    this.props.transmitGeocode(geocode);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id='Geocoder' className={this.props.viewbarVisible ? 'Geocoder' : 'Geocoder Viewbar-hidden'}>\r\n        <div id='hidden-geocoder-map'>\r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Geocoder;\r\n\r\n","export const TooltipText = {\r\n      \"AddNewLayer\": \"Beep boop boop\",\r\n      \"LayerUrl\": \"Enter the URL to the layer you want to add here. See the help for more guidance.\",\r\n      \"TileLayer\": \"An XYZ style layer.<br/>For example https://maps.nyc.gov/xyz/1.0.0/carto/label/{z}/{x}/{y}.png8\",\r\n      \"WMSTileLayer\": \"A link to an OGC WMS server. You will need to specify an extra layers parameter. See the help for more information\",\r\n      \"WMTSTileLayer\": \"A link to an OGC WMTS layer. Very similar to WMS, except that it is pre-tiled.\",\r\n      \"EsriDynamicMapLayer\": \"An Esri map service that is drawn dynamically on the server.\",\r\n      \"EsriFeatureLayer\": \"A vector layer coming from ArcGIS Online or ArcGIS Server.<br/>For example, https://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/USA_States_Generalized/FeatureServer/0\",\r\n      \"EsriImageLayer\": \"An Esri image service.\",\r\n      \"EsriTiledMapLayer\": \"An Esri map service consisting of a static tile cache.\",\r\n      \"ThumbnailPath\": \"Enter a path to a thumbnail picture to use for the layer. It can be a full URL or the filename of an image stored in /public/assets/images.\",\r\n      \"DisplayName\": \"The name to use for this layer.\",\r\n      \"ExportLayers\": \"Use this option to extract the JSON representation of the layers in your current view. You can use that text in the application's LayersInfo.js file.\"\r\n  }\r\n\r\nexport { TooltipText as default};","import React, { Component } from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faInfoCircle } from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass TooltipIcon extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    library.add(faInfoCircle);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <FontAwesomeIcon \r\n            data-tip={this.props.tooltipName} \r\n            data-for='modal' \r\n            data-event='click'\r\n            icon='info-circle' />\r\n    );\r\n  }\r\n}\r\n\r\nexport default TooltipIcon;\r\n","import React from 'react';\r\nimport { useField } from 'formik';\r\n\r\nexport const Textarea = ({ label, ...props }) => {\r\n  // useField() returns [formik.getFieldProps(), formik.getFieldMeta()]\r\n  // which we can spread on <input> and also replace ErrorMessage entirely.\r\n  const [field, meta] = useField(props);\r\n  return (\r\n    <>\r\n     <div className=\"inputGroup\">\r\n      <label htmlFor={props.id || props.name}>{label}</label>\r\n      <textarea className=\"textarea\" {...field} {...props} />\r\n      {meta.touched && meta.error ? (\r\n        <div className=\"error\">{meta.error}</div>\r\n      ) : null}\r\n     </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Textarea;","import React from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport TooltipText from './TooltipText';\r\nimport TooltipIcon from './TooltipIcon';\r\nimport Textarea from './Textarea';\r\nimport './Textarea.css';\r\n\r\n\r\nexport const AddOverlayForm = (props) => {\r\n  return (\r\n    <Formik\r\n      initialValues={\r\n        {\r\n          url: '',\r\n          type: '',\r\n          display_name: ''\r\n        }}\r\n      \r\n      validationSchema={Yup.object({\r\n        url: Yup.string()\r\n          .url('Needs to be a valid URL.')\r\n          .required('Required'),\r\n        type: Yup.string(),\r\n        display_name: Yup.string()\r\n          .required('Required')\r\n      })}\r\n\r\n      onSubmit={(values, { setSubmitting  }) => {\r\n        props.addOverlay(values);\r\n        props.closeModal();\r\n      }}\r\n\r\n    >\r\n\r\n      <Form>\r\n      <h3 className=\"modalHeader\">Add New Overlay</h3>\r\n        <label className='textInputLabel' htmlFor='url'>Url&nbsp;</label>\r\n        <TooltipIcon tooltipName={TooltipText.LayerUrl}/>\r\n        <Textarea name='url' />\r\n\r\n        <div className='radioGroup'>\r\n          <label className='radioGroupLabel'>Type of Layer</label>\r\n          <div className='inputGroup'>\r\n            <Field id='typeTileLayer' name='type' type='radio' value=\"TileLayer\"/>\r\n            <label className='radioGroupLabel' htmlFor='typeTileLayer'>TileLayer</label>\r\n            <TooltipIcon tooltipName={TooltipText.TileLayer}/>\r\n          </div>\r\n          <div className='inputGroup'>\r\n            <Field id='typeWMSTileLayer' name='type' type='radio' value=\"WMSTileLayer\"/>\r\n            <label className='radioGroupLabel' htmlFor='typeWMSTileLayer'>WMSTileLayer</label>\r\n            <TooltipIcon tooltipName={TooltipText.WMSTileLayer}/>\r\n          </div>\r\n          <div className='inputGroup'>\r\n            <Field id='typeEsriTiledMapLayer' name='type' type='radio' value=\"EsriTiledMapLayer\"/>\r\n            <label className='radioGroupLabel' htmlFor='typeEsriTiledMapLayer'>EsriTiledMapLayer</label>\r\n            <TooltipIcon tooltipName={TooltipText.EsriTiledMapLayer}/>\r\n          </div>\r\n          <div className='inputGroup'>\r\n            <Field id='typeEsriDynamicMapLayer' name='type' type='radio' value=\"EsriDynamicMapLayer\"/>\r\n            <label className='radioGroupLabel' htmlFor='typeEsriDynamicMapLayer'>EsriDynamicMapLayer</label>\r\n            <TooltipIcon tooltipName={TooltipText.EsriDynamicMapLayer}/>\r\n          </div>\r\n          <div className='inputGroup'>\r\n            <Field id='typeEsriFeatureLayer' name='type' type='radio' value=\"EsriFeatureLayer\"/>\r\n            <label className='radioGroupLabel' htmlFor='typeEsriFeatureLayer'>EsriFeatureLayer</label>\r\n            <TooltipIcon tooltipName={TooltipText.EsriFeatureLayer}/>\r\n          </div>\r\n          \r\n\r\n        </div>\r\n\r\n        <div className='inputGroup'>\r\n            <label className='textInputLabel' htmlFor='display_name'>Display Name</label>\r\n            <Field name='display_name' type='text' />\r\n            <ErrorMessage className='error' component='div' name='display_name' />\r\n        </div>\r\n\r\n        <br/>\r\n        <button type=\"submit\">OK</button>\r\n        <button type=\"button\" onClick={props.closeModal}>Cancel</button>\r\n      </Form>\r\n\r\n    </Formik>\r\n\r\n  );\r\n};\r\n\r\n\r\nexport default AddOverlayForm;","import React, { Component } from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlusSquare  } from '@fortawesome/free-solid-svg-icons';\r\nimport AddOverlayForm from './AddOverlayForm';\r\n\r\nclass AddOverlay extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.Config = window.sideby.Config;\r\n    library.add(faPlusSquare);\r\n    this.onClick = this.onClick.bind(this);\r\n    this.onBlur = this.onBlur.bind(this);\r\n    this.handleLayerTypeChange = this.handleLayerTypeChange.bind(this);\r\n    this.modalType = 'AddOverlay';\r\n    this.state = {layerTypeGuess: null};\r\n  }\r\n  \r\n  handleLayerTypeChange(event) {\r\n    console.log(event.target.value);\r\n    this.setState({\r\n      layerTypeGuess: event.target.value\r\n    });\r\n  }\r\n\r\n  onBlur(e) {\r\n    let typeREs = {\r\n        TileLayer: /.*\\{z\\}.*\\{x\\}.*\\{y\\}.*/,\r\n        WMSTileLayer: /.*wmts.*/i,\r\n        EsriImageLayer: /.*arcgis.*ImageServer.*/,\r\n        EsriFeatureLayer: /.*arcgis.*FeatureServer.*/, //though an individ layer from esri dynam map service can also act as a feature layer...\r\n        EsriTiledMapLayer: /.*arcgis.*MapServer.*/, \r\n    };\r\n    let submittedUrl = e.target.value;\r\n    let newType = null;\r\n    \r\n    Object.entries(typeREs).forEach((lyrTypeRE) => {\r\n            if (lyrTypeRE[1].test(submittedUrl)) {\r\n                newType = lyrTypeRE[0];\r\n            }\r\n        }\r\n    )\r\n    \r\n    this.setState({layerTypeGuess: newType})\r\n\r\n  }\r\n\r\n  onClick(e) {\r\n    console.log(this.props);\r\n    let modalContent = <AddOverlayForm {...this.props} />\r\n\r\n    /*\r\n    <>\r\n\r\n        <div className='inputGroup'>\r\n            <label className='textInputLabel' htmlFor='addOverlayUrl'>Url: </label>\r\n            <textarea\r\n                id='addOverlayUrl' \r\n                name='addOverlayUrl' \r\n                placeholder='Enter the URL to your map/data.'\r\n                onBlur={this.onBlur}></textarea>\r\n            <TooltipIcon tooltipName={this.Config.tooltips.Url} />\r\n        </div>\r\n        <div className=\"radioGroup\">\r\n            <label className=\"radioGroupLabel\" htmlFor=\"overlayType\">Type</label>\r\n                <div className=\"inputGroup\">\r\n                    <input \r\n                        name=\"overlayType\" \r\n                        id=\"overlay-input-TileLayer\" \r\n                        type=\"radio\"\r\n                        checked={this.state.layerTypeGuess === \"TileLayer\"}\r\n                        onChange={this.handleLayerTypeChange}\r\n                        value=\"TileLayer\" />\r\n                    <label htmlFor=\"overlay-input-TileLayer\">TileLayer</label>\r\n                    <TooltipIcon tooltipName={this.Config.tooltips.TileLayer}/>\r\n                </div>\r\n                \r\n                <div className=\"inputGroup\">\r\n                    <input \r\n                        name=\"overlayType\" \r\n                        id=\"overlay-input-WMSTileLayer\" \r\n                        type=\"radio\" \r\n                        checked={this.state.layerTypeGuess === \"WMSTileLayer\"} \r\n                        onChange={this.handleLayerTypeChange}\r\n                        value=\"WMSTileLayer\" />\r\n                    <label htmlFor=\"overlay-input-WMSTileLayer\">WMSTileLayer</label>\r\n                </div>\r\n                \r\n                <div className=\"inputGroup\">\r\n                    <input \r\n                        name=\"overlayType\" \r\n                        id=\"overlay-input-EsriTiledMapLayer\" \r\n                        type=\"radio\" \r\n                        checked={this.state.layerTypeGuess === \"EsriTiledMapLayer\"} \r\n                        onChange={this.handleLayerTypeChange}\r\n                        value=\"EsriTiledMapLayer\" />\r\n                    <label htmlFor=\"overlay-input-EsriTiledMapLayer\">EsriTiledMapLayer</label>\r\n                </div>\r\n                \r\n                <div className=\"inputGroup\">\r\n                    <input \r\n                        name=\"overlayType\" \r\n                        id=\"overlay-input-EsriDynamicMapLayer\" \r\n                        type=\"radio\" \r\n                        checked={this.state.layerTypeGuess === \"EsriDynamicMapLayer\"} \r\n                        onChange={this.handleLayerTypeChange}\r\n                        value=\"EsriDynamicMapLayer\" />\r\n                    <label htmlFor=\"overlay-input-EsriDynamicMapLayer\">EsriDynamicMapLayer</label>\r\n                </div>\r\n                \r\n                <div className=\"inputGroup\">\r\n                    <input \r\n                        name=\"overlayType\" \r\n                        id=\"overlay-input-EsriFeatureLayer\" \r\n                        type=\"radio\" \r\n                        checked={this.state.layerTypeGuess === \"EsriFeatureLayer\"} \r\n                        onChange={this.handleLayerTypeChange}\r\n                        value=\"EsriFeatureLayer\" />\r\n                    <label htmlFor=\"overlay-input-EsriFeatureLayer\">EsriFeatureLayer</label><br/>\r\n                    <TooltipIcon tooltipName={this.Config.tooltips.EsriFeatureLayer} />\r\n                </div>\r\n        </div>\r\n        \r\n        <div className=\"inputGroup\">\r\n            <label className=\"textInputLabel\" \r\n                htmlFor=\"overlay-input-displayName\">\r\n                Display Name: \r\n            </label>\r\n\r\n            <input \r\n                name=\"overlayDisplayName\" \r\n                id=\"overlay-input-displayName\" \r\n                type=\"text\"/>\r\n        </div>\r\n        </>\r\n    */\r\n      this.props.openModal(this.modalType, modalContent);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <button className='add-overlay'\r\n            onClick={this.onClick} \r\n            name=\"Add Overlay\"\r\n            title=\"Add Overlay\"\r\n            id='add-overlay'>\r\n            <FontAwesomeIcon icon='plus-square' size=\"2x\"/>\r\n        </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddOverlay;\r\n","import React, { Component } from 'react';\r\nimport ClipboardJS from 'clipboard'; // https://github.com/zenorocha/clipboard.js/issues/535\r\nimport './Textarea.css';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCopy } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nclass ExportLayersToJSONButton extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    library.add(faCopy);\r\n    this.onClick = this.onClick.bind(this);\r\n    this.state = {\r\n      showLayers: false\r\n    }\r\n    this.clipboard = new ClipboardJS('.copyButton', {\r\n      container: document.getElementById(\"modalContainer\")\r\n    });\r\n\r\n  }\r\n\r\n  onClick() {\r\n    this.setState({showLayers:!this.state.showLayers});\r\n    \r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"exportLayersGroup\">\r\n          <button name=\"exportLayersButton\" \r\n                 type=\"button\"\r\n                 id=\"exportLayersButton\" \r\n                 onClick={this.onClick}>        \r\n                 Export Layers\r\n          </button>\r\n          <br/>\r\n          {this.state.showLayers && \r\n            <>\r\n            <textarea className=\"clipboardText\" \r\n              id='clipboardText' \r\n              rows=\"10\" \r\n              cols=\"50\" \r\n              readOnly \r\n              value={JSON.stringify(this.props.layers, null, 2)}></textarea>\r\n            <button className=\"copyButton\" \r\n              data-clipboard-target=\"#clipboardText\"\r\n              type=\"button\">\r\n              <FontAwesomeIcon icon='copy'/>\r\n            </button>\r\n            </>\r\n          }\r\n          \r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ExportLayersToJSONButton;\r\n","import React, { Component } from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faLayerGroup, faTimesCircle} from '@fortawesome/free-solid-svg-icons';\r\nimport ExportLayersToJSONButton from './ExportLayersToJSONButton';\r\n\r\n\r\nclass ManageOverlays extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    library.add(faLayerGroup);\r\n    library.add(faTimesCircle);\r\n    this.onClick = this.onClick.bind(this);\r\n  }\r\n \r\n  onClick(e) {\r\n    let currentOverlays = this.props.overlays;\r\n    let modalContent =  \r\n      <>\r\n        <table className='table'>\r\n          <caption> Current Overlays</caption>\r\n              <thead>\r\n                  \r\n                  <tr>\r\n                      <th>Name</th>\r\n                      <th>Remove</th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody>\r\n                  {currentOverlays.map((o, i) => \r\n\r\n                  <tr id={o.id} key={o.id}>\r\n                      <td>{o.display_name}</td>\r\n                      <td>\r\n                          <button data-overlay-id={o.id} onClick={this.props.deleteOverlay}>\r\n                              <FontAwesomeIcon icon='times-circle' size=\"2x\" />\r\n                          </button>\r\n                      </td>\r\n                  </tr>\r\n\r\n                      )}\r\n              </tbody>\r\n          </table>\r\n          <ExportLayersToJSONButton layers={currentOverlays} />\r\n      </>\r\n\r\n    this.props.openModal(\"ManageOverlays\", modalContent, {noSubmit: true});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <button className='ManageOverlays-button' \r\n            onClick={this.onClick}\r\n            name='Manage Overlays'\r\n            title='Manage Overlays' \r\n            id='ManageOverlays-button'>\r\n          <div className=\"icon-label\">\r\n             <FontAwesomeIcon icon='layer-group' size=\"2x\"/>\r\n          </div>\r\n\r\n        </button>\r\n      );\r\n  }\r\n}\r\n\r\nexport default ManageOverlays;\r\n","import React, { Component } from 'react';\r\nimport \"./Checkbox.css\";\r\n\r\nclass MapLabelsToggle extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  onChange() {\r\n    this.props.toggleLabels();\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"inputGroup\">\r\n          <input defaultChecked={this.props.labelLayerOn} \r\n                 name=\"labelsCheckbox\" \r\n                 id=\"labelsCheckbox\" \r\n                 type=\"checkbox\" \r\n                 onChange={this.onChange}>        \r\n          </input>\r\n          <label htmlFor=\"labelsCheckbox\">Map&nbsp;Labels</label>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MapLabelsToggle;\r\n","import React from 'react';\r\nimport ExportLayersToJSONButton from './ExportLayersToJSONButton';\r\nimport MapLabelsToggle from './MapLabelsToggle';\r\nimport TooltipText from './TooltipText';\r\nimport TooltipIcon from './TooltipIcon';\r\nimport { useFormik } from 'formik';\r\n\r\nexport const SettingsForm = (props) => {\r\n  // Pass the useFormik() hook initial form values and a submit function that will\r\n  // be called when the form is submitted\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      mapLabels: true\r\n    },\r\n    onSubmit: values => {\r\n        props.closeModal();\r\n    },\r\n    onChange: v => {alert(v)}\r\n  });\r\n  return (\r\n    <form onSubmit={formik.handleSubmit}>\r\n      <MapLabelsToggle labelLayerOn={props.labelLayerOn}\r\n          toggleLabels={props.toggleLabels} />\r\n      <div className='inputGroup'>\r\n        <ExportLayersToJSONButton layers={props.viewbarLayers} />\r\n        <TooltipIcon tooltipName={TooltipText.ExportLayers}/>\r\n      </div>\r\n      <button type=\"submit\">OK</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SettingsForm","import React, { Component } from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCog } from '@fortawesome/free-solid-svg-icons';\r\nimport SettingsForm from './SettingsForm';\r\n\r\n\r\nclass Settings extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    library.add(faCog);\r\n    this.onClick = this.onClick.bind(this);\r\n  }\r\n \r\n  onClick(e) {\r\n    let modalContent = <SettingsForm {...this.props} />\r\n    this.props.openModal(\"Settings\", modalContent, {noSubmit: true});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <button className='settings-button' \r\n            onClick={this.onClick}\r\n            name='Settings'\r\n            title='Settings' \r\n            id='settings-button'>\r\n          <div className=\"icon-label\">\r\n             <FontAwesomeIcon icon='cog' size=\"2x\"/>\r\n          </div>\r\n        </button>\r\n      );\r\n  }\r\n}\r\n\r\nexport default Settings;\r\n","import React, { Component } from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faExpand, faCompress } from '@fortawesome/free-solid-svg-icons';\r\n\r\nlibrary.add(faExpand);\r\nlibrary.add(faCompress);\r\n\r\nclass FullscreenToggle extends Component {\r\n\r\n  render() {\r\n    return (\r\n        <button onClick={() => this.props.toggleFullscreen()}\r\n          name='Toggle Fullscreen Mode'\r\n          title={this.props.isFullscreenEnabled ? 'Exit Fullscreen Mode' : 'Enter Fullscreen Mode'}>\r\n          <FontAwesomeIcon \r\n              icon={this.props.isFullscreenEnabled ? 'compress' : 'expand'} \r\n              size='2x'\r\n              />\r\n        </button>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default FullscreenToggle;\r\n","import React, { Component } from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowDown, faArrowUp } from '@fortawesome/free-solid-svg-icons';\r\n\r\nlibrary.add(faArrowDown);\r\nlibrary.add(faArrowUp);\r\n\r\nclass HideViewbarToggle extends Component {\r\n\r\n  render() {\r\n    return (\r\n        <button onClick={() => this.props.toggleViewbarVisibility()}\r\n          name='Hide view bar'\r\n          title={this.props.viewbarVisible ? 'Hide Layer Selector' : \"Show Layer Selector\"}>\r\n          <FontAwesomeIcon \r\n              icon={this.props.viewbarVisible ? 'arrow-down' : 'arrow-up'}\r\n              size='2x'\r\n              />\r\n        </button>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default HideViewbarToggle;\r\n","import React, { Component } from 'react';\r\nimport Geocoder from './Geocoder';\r\nimport AddOverlay from './AddOverlay';\r\nimport ManageOverlays from './ManageOverlays';\r\nimport Settings from './Settings';\r\nimport FullscreenToggle from './FullscreenToggle';\r\nimport HideViewbarToggle from './HideViewbarToggle';\r\nimport './UtilityBar.css';\r\nimport './UtilityBarButton.css';\r\n\r\n\r\nclass UtilityBar extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.transmitGeocode = this.transmitGeocode.bind(this);\r\n  }\r\n \r\n  componentDidMount(){\r\n  }\r\n\r\n  transmitGeocode(geocode){\r\n    this.props.transmitGeocode(geocode);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id='UtilityBar' className={'UtilityBar'}>\r\n        <Geocoder transmitGeocode={this.transmitGeocode}\r\n                  viewbarVisible={this.props.viewbarVisible} />\r\n        <AddOverlay \r\n            numberOfLayersOn={this.props.numberOfLayersOn} \r\n            addOverlay={this.props.addOverlay}\r\n            openModal={this.props.openModal} \r\n            closeModal={this.props.closeModal} \r\n            />\r\n        {this.props.overlays.length > 0 &&\r\n          <ManageOverlays \r\n              overlays={this.props.overlays}\r\n              openModal={this.props.openModal}\r\n              deleteOverlay={this.props.deleteOverlay} />\r\n          }\r\n        <FullscreenToggle toggleFullscreen={this.props.toggleFullscreen} \r\n                          isFullscreenEnabled={this.props.isFullscreenEnabled} />\r\n        <Settings \r\n          openModal={this.props.openModal}\r\n          closeModal={this.props.closeModal}\r\n          labelLayerOn={this.props.labelLayerOn}\r\n          toggleLabels={this.props.toggleLabels}\r\n          viewbarLayers={this.props.viewbarLayers}\r\n                                        />\r\n        <HideViewbarToggle toggleViewbarVisibility={this.props.toggleViewbarVisibility}\r\n                           viewbarVisible={this.props.viewbarVisible} />\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UtilityBar;\r\n\r\n","import React, { Component } from 'react';\r\n//import Config from './Config';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { faInfoCircle, faCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport './Item.css';\r\n\r\nlibrary.add(faInfoCircle);\r\nlibrary.add(faCircle);\r\n\r\nclass Item extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.Config = window.sideby.Config;\r\n    this.onClick = this.onClick.bind(this);\r\n    this.resolveThumbnail.bind(this);\r\n    this.getThumbnailByLayerType.bind(this);\r\n    this.guessLayerTypeByUrl.bind(this);\r\n    this.resolveThumbnail();\r\n\r\n  }\r\n \r\n  componentDidMount(state,props){\r\n    this.props.rebuildTooltip();\r\n  }\r\n  guessLayerTypeByUrl(){\r\n\r\n  }\r\n\r\n  getThumbnailByLayerType(layerType){\r\n\r\n    // switch (layerType) {\r\n\r\n    //   case \"TileLayer\" {\r\n\r\n    //   }\r\n    // }\r\n  }\r\n\r\n\r\n  resolveThumbnail() {\r\n    if (this.props.thumbnail_file){\r\n      if (this.props.thumbnail_file.startsWith(\"http\")){\r\n        this.thumbnail_path = this.props.thumbnail_file;\r\n      }\r\n      else {\r\n        this.thumbnail_path = process.env.PUBLIC_URL + '/assets/images/' + this.props.thumbnail_file;\r\n      }  \r\n    }\r\n    if (this.props.type){\r\n      this.getThumbnailByLayerType(this.props.type);\r\n    }\r\n  }\r\n\r\n  onClick(e) {\r\n\r\n    let numLyrs = this.props.numberOfLayersOn;\r\n  \r\n    if (numLyrs === this.Config.maxLayers) {\r\n      if (!this.props.isToggledOn){\r\n        this.props.openModal(\"maxLayers\", \r\n          this.Config.maxLayersWarning.replace(\"{maxLayers}\", \r\n          this.Config.maxLayers), \r\n          {noSubmit: true}\r\n        );\r\n        return\r\n      }\r\n    }\r\n\r\n    let data = {...this.props};\r\n    data.isToggledOn = !this.props.isToggledOn;\r\n       \r\n    delete(data.onItemClick);\r\n    \r\n    this.props.onItemClick(data);\r\n\r\n\r\n\r\n    //   \"sortVal\": this.props.sortVal,\r\n    //   \"id\": this.props.id,\r\n    //   \"thumbnail_file\": this.props.thumbnail_file,\r\n    //   \"url\": this.props.url,\r\n    //   \"type\": this.props.type,\r\n    //   \"layers\": this.props.layers,\r\n    //   \"maxZoom\": this.props.maxZoom,\r\n    //   \"display_name\": this.props.display_name\r\n\r\n  }\r\n\r\n  render() {\r\n    let dispName = this.props.display_name;\r\n     // All of the data- attribs in the button element are for ReactTooltip purposes \r\n    return (\r\n\r\n      <button className={this.props.isToggledOn ? 'item on' : 'item off'} \r\n          onClick={this.onClick} \r\n          style={{backgroundImage: \"url('\" + this.thumbnail_path + \"')\"}}\r\n          id={this.props.id}\r\n          data-tip={this.props.display_name} \r\n          data-for='modal' \r\n          data-event='mouseover'\r\n          data-delay-show='1000'\r\n          data-event-off='mouseout'\r\n          >\r\n        <div className={dispName.length >= 10 ? \"label long-title\" : \"label\"}\r\n\r\n        >\r\n          {dispName.length > 20 ? dispName.slice(0, 20)+\"...\" : dispName}\r\n        </div>\r\n\r\n       {/* \r\n        <span className='layerInfoButton fa-layers fa-fw'>\r\n          <FontAwesomeIcon icon='circle' color='var(--label-color)' transform='grow-6'  />\r\n          <FontAwesomeIcon \r\n              icon='info-circle'\r\n              color='#2b2b2b'\r\n              transform='grow-6'\r\n              />\r\n          </span>\r\n      */}\r\n\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Item;\r\n","import React from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport TooltipText from './TooltipText';\r\nimport TooltipIcon from './TooltipIcon';\r\nimport Textarea from './Textarea';\r\nimport './Textarea.css';\r\n\r\n\r\nexport const AddLayerItemForm = (props) => {\r\n  return (\r\n    <Formik\r\n      initialValues={\r\n        {\r\n          url: '',\r\n          type: '',\r\n          display_name: '',\r\n          thumbnail_path: ''\r\n        }}\r\n      \r\n      validationSchema={Yup.object({\r\n        url: Yup.string()\r\n          .url('Needs to be a valid URL.')\r\n          .required('Required'),\r\n        type: Yup.string(),\r\n        display_name: Yup.string()\r\n          .required('Required'),\r\n        thumbnail_path: Yup.string()\r\n      })}\r\n\r\n      onSubmit={(values, { setSubmitting  }) => {\r\n        props.addLayer(values);\r\n        props.closeModal();\r\n      }}\r\n\r\n    >\r\n\r\n      <Form>\r\n        <h3 className=\"modalHeader\">Add New Layer <TooltipIcon tooltipName={TooltipText.AddNewLayer}/></h3>\r\n        <label className='textInputLabel' htmlFor='url'>Url&nbsp;</label>\r\n        <TooltipIcon tooltipName={TooltipText.LayerUrl}/>\r\n        <Textarea name='url' />\r\n\r\n        <div className='radioGroup'>\r\n          <label className='radioGroupLabel'>Type of Layer</label>\r\n\r\n          <div className='inputGroup'>\r\n            <Field id='typeTileLayer' name='type' type='radio' value=\"TileLayer\"/>\r\n            <label className='radioGroupLabel' htmlFor='typeTileLayer'>TileLayer</label>\r\n            <TooltipIcon tooltipName={TooltipText.TileLayer}/>\r\n          </div>\r\n\r\n          <div className='inputGroup'>\r\n            <Field id='typeWMSTileLayer' name='type' type='radio' value=\"WMSTileLayer\"/>\r\n            <label className='radioGroupLabel' htmlFor='typeWMSTileLayer'>WMSTileLayer</label>\r\n            <TooltipIcon tooltipName={TooltipText.WMSTileLayer}/>\r\n          </div>\r\n\r\n          <div className='inputGroup'>\r\n            <Field id='typeWMTSTileLayer' name='type' type='radio' value=\"WMTSTileLayer\"/>\r\n            <label className='radioGroupLabel' htmlFor='typeWMTSTileLayer'>WMTSTileLayer</label>\r\n            <TooltipIcon tooltipName={TooltipText.WMTSTileLayer}/>\r\n          </div>\r\n\r\n          <div className='inputGroup'>\r\n            <Field id='typeEsriTiledMapLayer' name='type' type='radio' value=\"EsriTiledMapLayer\"/>\r\n            <label className='radioGroupLabel' htmlFor='typeEsriTiledMapLayer'>EsriTiledMapLayer</label>\r\n            <TooltipIcon tooltipName={TooltipText.EsriTiledMapLayer}/>\r\n          </div>\r\n\r\n          <div className='inputGroup'>\r\n            <Field id='typeEsriDynamicMapLayer' name='type' type='radio' value=\"EsriDynamicMapLayer\"/>\r\n            <label className='radioGroupLabel' htmlFor='typeEsriDynamicMapLayer'>EsriDynamicMapLayer</label>\r\n            <TooltipIcon tooltipName={TooltipText.EsriDynamicMapLayer}/>\r\n          </div>\r\n\r\n          <div className='inputGroup'>\r\n            <Field id='typeEsriFeatureLayer' name='type' type='radio' value=\"EsriFeatureLayer\"/>\r\n            <label className='radioGroupLabel' htmlFor='typeEsriFeatureLayer'>EsriFeatureLayer</label>\r\n            <TooltipIcon tooltipName={TooltipText.EsriFeatureLayer}/>\r\n          </div>\r\n          \r\n\r\n          <div className='inputGroup'>\r\n            <Field id='typeEsriImageLayer' name='type' type='radio' value=\"EsriImageLayer\"/>\r\n            <label className='radioGroupLabel' htmlFor='typeEsriImageLayer'>EsriImageLayer</label>\r\n            <TooltipIcon tooltipName={TooltipText.EsriImageLayer}/>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div className='inputGroup'>\r\n            <label className='textInputLabel' htmlFor='display_name'>Display Name</label>\r\n            <Field name='display_name' type='text' />\r\n            <ErrorMessage className='error' component='div' name='display_name' />\r\n        </div>\r\n\r\n        <div className='inputGroup'>\r\n            <label className='textInputLabel' htmlFor='thumbnail_path'>Thumbnail location (optional)</label>\r\n            <Field name='thumbnail_path' type='text' />\r\n            <ErrorMessage className='error' component='div' name='thumbnail_path' />\r\n        </div>\r\n\r\n\r\n        <br/>\r\n        <button type=\"submit\">OK</button>\r\n        <button type=\"button\" onClick={props.closeModal}>Cancel</button>\r\n      </Form>\r\n\r\n    </Formik>\r\n\r\n  );\r\n};\r\n\r\n\r\nexport default AddLayerItemForm;","import React from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faMap, faPlus} from '@fortawesome/free-solid-svg-icons';\r\nimport AddLayerItemForm from './AddLayerItemForm';\r\nimport Item from './Item';\r\n\r\nclass AddLayerItem extends Item {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.Config = window.sideby.Config;\r\n    library.add(faMap);\r\n    library.add(faPlus);\r\n    this.onClick = this.onClick.bind(this);\r\n    this.state = {isToggledOn: false};\r\n    this.modalType = 'AddLayerItem';\r\n  }\r\n \r\n  onClick(e) {\r\n    let modalContent = <AddLayerItemForm {...this.props} />\r\n    this.props.openModal(\"AddLayerItem\", modalContent);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <button className='add-layer item background-black' \r\n          onClick={this.onClick}\r\n          data-tip=\"Add Layer\"\r\n          title=\"Add Layer\"\r\n          name=\"Add Layer\"\r\n          id='add-layer'>\r\n        <div className=\"icon-label\">\r\n          <span className=\"fa-layers fa-fw fa-5x\">\r\n            <FontAwesomeIcon icon=\"map\"/>\r\n            <FontAwesomeIcon icon=\"plus\" transform=\"shrink-5\" color=\"white\" />\r\n          </span>\r\n        </div>\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddLayerItem;\r\n","import React, { Component } from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faAngleLeft, faAngleRight } from '@fortawesome/free-solid-svg-icons';\r\nimport './ScrollButton.css';\r\n\r\nlibrary.add(faAngleLeft);\r\nlibrary.add(faAngleRight);\r\n\r\nclass ScrollButton extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onClick = this.onClick.bind(this);\r\n  }\r\n \r\n  onClick(e) {\r\n    this.props.onClick(this.props.direction);\r\n  }\r\n\r\n  render() {\r\n    let arrow = this.props.direction === \"left\" ? \"angle-left\" : \"angle-right\";\r\n    return (\r\n      <div className={'ScrollButton ' + this.props.direction}\r\n           onClick={this.onClick}>  \r\n          <button><FontAwesomeIcon icon={arrow} size=\"lg\"/></button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ScrollButton;\r\n\r\n","import React, { Component } from 'react';\r\nimport { cloneDeep } from 'lodash';\r\nimport Item from './Item';\r\nimport AddLayerItem from './AddLayerItem';\r\nimport ScrollButton from './ScrollButton';\r\n//import LayersInfo from './LayersInfo';\r\nimport './ViewBar.css';\r\n\r\nclass ViewBar extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleItemClick = this.handleItemClick.bind(this);\r\n    this.handleScrollButtonClick = this.handleScrollButtonClick.bind(this);\r\n    //this.addLayer = this.addLayer.bind(this);\r\n    this.scrollTo = this.scrollTo.bind(this);\r\n    this.onWheel = this.onWheel.bind(this);\r\n    this.easeInOutQuad = this.easeInOutQuad.bind(this);\r\n    this.state = {};\r\n  }\r\n\r\n  handleItemClick(data) {\r\n    let id = data.id;\r\n    let newState = cloneDeep(this.state);\r\n\r\n    newState.layers.forEach( (lyr,index) => {\r\n      if (lyr.id === id) {\r\n        newState.layers[index] = data;\r\n      }\r\n    });\r\n\r\n    this.setState(newState);   \r\n    this.props.onItemClick(data);\r\n  }\r\n\r\n  handleScrollButtonClick(scrollDirection) {\r\n    this.scrollTo(scrollDirection, 350);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState){\r\n    if (this.props.newLayer){\r\n\r\n      if (prevProps.newLayer && (prevProps.newLayer.id === this.props.newLayer.id)) {\r\n        return\r\n      }\r\n\r\n      let newLayer = this.props.newLayer;\r\n      let layers = this.state.layers;\r\n    \r\n      layers.push(newLayer);\r\n\r\n      this.setState({\"layers\": layers});\r\n    }\r\n\r\n\r\n    if (this.props.viewbarLayers && this.props.viewbarLayers.length !== this.state.layers.length){\r\n      this.setState({\"layers\": this.props.viewbarLayers});\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount(prevProps, prevState){\r\n    //for the initial app load, set state using LayersInfo\r\n    this.setState({\"layers\": this.props.viewbarLayers});\r\n  }\r\n\r\n  onWheel(e){\r\n    let elem  = document.getElementById(\"viewbarItems\"),\r\n        scrollUnit = 50,\r\n\r\n        // deltaMode indicates if the deltaY value is pixels or lines (0 for pixels, 1 for lines, 2 for page)\r\n        deltaMode = e.deltaMode,\r\n\r\n        //if the deltamode is anything but pixels (0), use scroll unit to calculate scroll amount\r\n        scrollSize = deltaMode === (1 || 2) ? e.deltaY * scrollUnit: e.deltaY;\r\n\r\n    //e.preventDefault();\r\n    \r\n    elem.scrollLeft = elem.scrollLeft + scrollSize;\r\n    //this.setState({\"scrollLeft\": elem.scrollLeft});\r\n  }\r\n\r\n  scrollTo(direction, duration) {\r\n    let elem  = document.getElementById(\"viewbarItems\"),\r\n        start = elem.scrollLeft,\r\n        clientWidth = document.documentElement.clientWidth,\r\n        moveSize = Math.max(clientWidth/2, 300),\r\n        change = direction === \"left\" ? -moveSize : +moveSize,\r\n        currentTime = 0,\r\n        increment = 20,\r\n        that = this;\r\n        \r\n    let animateScroll = function(){        \r\n        currentTime += increment;\r\n        let val = that.easeInOutQuad(currentTime, start, change, duration);\r\n        elem.scrollLeft = val;\r\n        if(currentTime < duration) {\r\n            setTimeout(animateScroll, increment);\r\n        }\r\n    };\r\n    animateScroll();\r\n  }\r\n\r\n  //t = current time\r\n  //b = start value\r\n  //c = change in value\r\n  //d = duration\r\n  easeInOutQuad(t, b, c, d) {\r\n    t /= d/2;\r\n    if (t < 1) return c/2*t*t + b;\r\n    t--;\r\n    return -c/2 * (t*(t-2) - 1) + b;\r\n  }\r\n\r\n  render() {\r\n    const items = this.state.layers || [];\r\n    \r\n    return (\r\n      <footer id='Viewbar' className='ViewBar-container bottom'>\r\n        <ScrollButton direction=\"left\" onClick={this.handleScrollButtonClick}/>\r\n\r\n         <div onWheel={this.onWheel} onScroll={this.onScroll} scrollleft={this.state.scrollLeft} className='flip-move' id=\"viewbarItems\">\r\n           \r\n           {items.map(item => <Item \r\n                numberOfLayersOn={this.props.numberOfLayersOn}\r\n                key={item.id} \r\n                onItemClick={this.handleItemClick}\r\n                openModal={this.props.openModal}\r\n                closeModal={this.props.closeModal}\r\n                rebuildTooltip={this.props.rebuildTooltip}\r\n                {...item}\r\n              />)}\r\n\r\n            <AddLayerItem \r\n              rebuildTooltip={this.props.rebuildTooltip}\r\n              numberOfLayersOn={this.props.numberOfLayersOn} \r\n              openModal={this.props.openModal}\r\n              closeModal={this.props.closeModal}\r\n              addLayer={this.props.addLayer} \r\n              />\r\n          </div>\r\n        <ScrollButton direction=\"right\" onClick={this.handleScrollButtonClick}/>\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ViewBar;\r\n","import React, { Component } from 'react';\r\nimport ReactModal from 'react-modal';\r\nimport './Modal.css';\r\nimport './ModalButton.css';\r\nimport './Table.css';\r\n\r\nReactModal.setAppElement('#root');\r\n\r\nclass Modal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.formatContent = this.formatContent.bind(this);\r\n    this.afterOpenModal = this.afterOpenModal.bind(this);\r\n    this.gatherValues = this.gatherValues.bind(this);\r\n    this.handleCloseModal = this.handleCloseModal.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.ref = React.createRef(null);\r\n    this.getParent = this.getParent.bind(this);\r\n    this.state={};\r\n  }\r\n\r\n formatContent(modalType, modalContent) {\r\n    let content = <div id=\"modalContent\">\r\n                    {modalContent}\r\n                  </div>;\r\n    return content;\r\n  }\r\n\r\n  afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    this.props.rebuildTooltip(true);\r\n  }\r\n\r\n  getParent() {\r\n    return document.querySelector(\"#modalRoot\");\r\n  }\r\n\r\n  gatherValues(modalType){\r\n    var data = {};\r\n    switch (modalType) {\r\n\r\n      case \"AddLayerItem\":\r\n        data.type = document.querySelectorAll(\"input:checked[name='layerType']\");\r\n        data.type = data.type.length > 0 ? data.type[0].value : null;\r\n        data.url =  document.getElementById(\"addLayerItemUrl\");\r\n        if (data.url === null){\r\n          return null\r\n        } \r\n        data.url = data.url.value === \"\" ? null : data.url.value; \r\n        data.display_name = document.querySelectorAll(\"input[name='displayName']\");\r\n        data.display_name = data.display_name.length > 0 ? data.display_name[0].value: null;\r\n        data.thumbnail_file = document.querySelectorAll(\"input[name='thumbnailPath']\");\r\n        data.thumbnail_file = data.thumbnail_file.length > 0 ? data.thumbnail_file[0].value : null;\r\n        return data;\r\n\r\n      case \"AddOverlay\":\r\n        data.type = document.querySelectorAll(\"input:checked[name='overlayType']\");\r\n        data.type = data.type.length > 0 ? data.type[0].value : null;\r\n        data.url =  document.getElementById(\"addOverlayUrl\");\r\n        if (data.url === null){\r\n          return null\r\n        }\r\n        data.url = data.url.value === \"\" ? null : data.url.value; \r\n        data.display_name = document.querySelectorAll(\"input[name='overlayDisplayName']\");\r\n        data.display_name = data.display_name.length > 0 ? data.display_name[0].value: null;\r\n        return data;\r\n        \r\n      default:\r\n        return\r\n    }\r\n  }\r\n\r\n  handleCloseModal() {\r\n    this.props.closeModal();\r\n  } \r\n\r\n  handleSubmit() {\r\n    let modalType = this.props.modalType;\r\n    let data = this.gatherValues(modalType);\r\n    if (data.url === null) {\r\n      alert(\"Url is required\");\r\n      return;\r\n    }\r\n    if (data.type === null) {\r\n      alert(\"Type is required.\");\r\n      return;\r\n    }\r\n    \r\n\r\n    this.props.modalSubmit(modalType, data);\r\n    this.props.closeModal();\r\n\r\n  }\r\n\r\n  render() {\r\n  \tlet content = this.formatContent(this.props.modalType, this.props.modalContent);\r\n    //let options = this.props.modalOptions || {};\r\n  \treturn <ReactModal\r\n          id=\"modalContainer\"\r\n          ref={this.ref}\r\n          closeTimeoutMS={500}\r\n          className=\"Modal-Content\"\r\n          key={\"modal\"}\r\n          isOpen={this.props.isOpen}\r\n          onAfterOpen={this.afterOpenModal}\r\n          onRequestClose={this.handleCloseModal}\r\n          parentSelector={this.getParent}\r\n          contentLabel=\"Modal\">\r\n    \t{content}\r\n \r\n      {/*   \r\n      {!options.noSubmit &&\r\n        <> \r\n          <button onClick={this.handleCloseModal}>Cancel</button>\r\n          <button onClick={this.handleSubmit}>OK</button>  \r\n        </>\r\n      }\r\n\r\n      {options.noSubmit && \r\n        <button onClick={this.handleCloseModal}>OK</button>\r\n      }\r\n      */}\r\n\r\n    </ReactModal>\r\n    \r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport './Tooltip.css';\r\n\r\n\r\nclass Tooltip extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  resetRebuildTooltip() {\r\n    this.props.resetRebuildTooltip(false);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState){\r\n    if (this.props.rebuildTooltip === true) {\r\n      this.resetRebuildTooltip();\r\n    }\r\n      ReactTooltip.rebuild();\r\n  }\r\n\r\n  onChange() {\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n          <ReactTooltip \r\n              className=\"superHighZIndex\" \r\n              effect=\"solid\" \r\n              id=\"modal\" \r\n              place=\"right\"\r\n              multiline={true}\r\n              />\r\n          <ReactTooltip effect=\"solid\" id=\"home\" />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tooltip;\r\n","import {Path, withLeaflet} from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport 'leaflet-wfst';\r\n\r\ntype Props = {\r\n  url: string \r\n} & WFSLayerProps\r\n\r\nclass WFSLayer extends Path<LeafletElement, Props> {\r\n  createLeafletElement(props: Props): LeafletElement {\r\n    const el = new L.WFS(this.getOptions(props))\r\n  \t\r\n    this.contextValue = {\r\n      ...props.leaflet,\r\n      layerContainer: el,\r\n      popupContainer: el,\r\n    }\r\n    return el\r\n  }\r\n\r\n  updateLeafletElement(fromProps: Props, toProps: Props) {\r\n    if (toProps.url !== fromProps.url) {\r\n      this.leafletElement.setUrl(toProps.url)\r\n    }\r\n  }\r\n}\r\n\r\nexport default withLeaflet(WFSLayer)\r\n","import PropTypes from 'prop-types';\r\nimport {GridLayer, withLeaflet} from 'react-leaflet';\r\nimport {tiledMapLayer} from 'esri-leaflet';\r\n\r\n class EsriTiledMapLayer extends GridLayer {\r\n  static propTypes = {\r\n    url: PropTypes.string.isRequired\r\n  };\r\n\r\n  createLeafletElement(props) {\r\n    return tiledMapLayer(props); \r\n  }\r\n}\r\n\r\nexport default withLeaflet(EsriTiledMapLayer);","import {MapLayer, withLeaflet} from 'react-leaflet';\r\nimport {dynamicMapLayer} from 'esri-leaflet';\r\n\r\ntype Props = {\r\n  url: string \r\n} & MapLayerProps\r\n\r\nclass EsriDynamicMapLayer extends MapLayer<LeafletElement, Props> {\r\n  createLeafletElement(props: Props): LeafletElement {\r\n  \tlet options = {...props, \"f\": \"image\"};\r\n    const el = dynamicMapLayer(\r\n      options\r\n    )\r\n    this.contextValue = { ...props.leaflet, popupContainer: el }\r\n    return el\r\n  }\r\n\r\n  updateLeafletElement(fromProps: Props, toProps: Props) {\r\n    if (toProps.url !== fromProps.url) {\r\n      this.leafletElement.setUrl(toProps.url)\r\n    }\r\n  }\r\n}\r\n\r\nexport default withLeaflet(EsriDynamicMapLayer)\r\n","import {MapLayer, withLeaflet} from 'react-leaflet';\r\nimport {featureLayer} from 'esri-leaflet';\r\n\r\ntype Props = {\r\n  url: string \r\n} & MapLayerProps\r\n\r\nclass EsriFeatureLayer extends MapLayer<LeafletElement, Props> {\r\n  createLeafletElement(props: Props): LeafletElement {\r\n  \tlet options = {...props};\r\n    const el = featureLayer(\r\n      options\r\n    )\r\n    this.contextValue = { ...props.leaflet, popupContainer: el }\r\n    return el\r\n  }\r\n\r\n  updateLeafletElement(fromProps: Props, toProps: Props) {\r\n    if (toProps.url !== fromProps.url) {\r\n      this.leafletElement.setUrl(toProps.url)\r\n    }\r\n  }\r\n}\r\n\r\nexport default withLeaflet(EsriFeatureLayer)\r\n","import {MapLayer, withLeaflet} from 'react-leaflet';\r\nimport {imageMapLayer} from 'esri-leaflet';\r\n\r\ntype Props = {\r\n  url: string \r\n} & MapLayerProps\r\n\r\nclass EsriImageLayer extends MapLayer<LeafletElement, Props> {\r\n  createLeafletElement(props: Props): LeafletElement {\r\n  \tlet options = {...props};\r\n    const el = imageMapLayer(\r\n      options\r\n    )\r\n    this.contextValue = { ...props.leaflet, popupContainer: el }\r\n    return el\r\n  }\r\n\r\n  updateLeafletElement(fromProps: Props, toProps: Props) {\r\n    if (toProps.url !== fromProps.url) {\r\n      this.leafletElement.setUrl(toProps.url)\r\n    }\r\n  }\r\n}\r\n\r\nexport default withLeaflet(EsriImageLayer)\r\n","/*\r\n * L.Control.Loading is a control that shows a loading indicator when tiles are\r\n * loading or when map-related AJAX requests are taking place.\r\n */\r\nimport {Spinner} from 'spin.js';\r\nimport '../../node_modules/spin.js/spin.css';\r\nimport L from 'leaflet';\r\n\r\n(function () {\r\n\r\n    var console = window.console || {\r\n        error: function () {},\r\n        warn: function () {}\r\n    };\r\n\r\n    function defineLeafletLoading(L) {\r\n        L.Control.Loading = L.Control.extend({\r\n            options: {\r\n                delayIndicator: null,\r\n                position: 'topleft',\r\n                separate: false,\r\n                zoomControl: null,\r\n                spinjs: false,\r\n                spin: { \r\n                    lines: 7, \r\n                    length: 3, \r\n                    width: 3, \r\n                    radius: 5, \r\n                    rotate: 13, \r\n                    top: \"83%\"\r\n                }\r\n            },\r\n\r\n            initialize: function(options) {\r\n                L.setOptions(this, options);\r\n                this._dataLoaders = {};\r\n\r\n                // Try to set the zoom control this control is attached to from the \r\n                // options\r\n                if (this.options.zoomControl !== null) {\r\n                    this.zoomControl = this.options.zoomControl;\r\n                }\r\n            },\r\n\r\n            onAdd: function(map) {\r\n                if (this.options.spinjs && (typeof Spinner !== 'function')) {\r\n                    return console.error(\"Leaflet.loading cannot load because you didn't load spin.js (http://fgnass.github.io/spin.js/), even though you set it in options.\");\r\n                }\r\n                this._addLayerListeners(map);\r\n                this._addMapListeners(map);\r\n\r\n                // Try to set the zoom control this control is attached to from the map\r\n                // the control is being added to\r\n                if (!this.options.separate && !this.zoomControl) {\r\n                    if (map.zoomControl) {\r\n                        this.zoomControl = map.zoomControl;\r\n                    } else if (map.zoomsliderControl) {\r\n                        this.zoomControl = map.zoomsliderControl;\r\n                    }\r\n                }\r\n\r\n                // Create the loading indicator\r\n                var classes = 'leaflet-control-loading';\r\n                var container;\r\n                if (this.zoomControl && !this.options.separate) {\r\n                    // If there is a zoom control, hook into the bottom of it\r\n                    container = this.zoomControl._container;\r\n                    // These classes are no longer used as of Leaflet 0.6\r\n                    classes += ' leaflet-bar-part-bottom leaflet-bar-part last';\r\n\r\n                    // Loading control will be added to the zoom control. So the visible last element is not the\r\n                    // last dom element anymore. So add the part-bottom class.\r\n                    L.DomUtil.addClass(this._getLastControlButton(), 'leaflet-bar-part-bottom');\r\n                }\r\n                else {\r\n                    // Otherwise, create a container for the indicator\r\n                    container = L.DomUtil.create('div', 'leaflet-control-zoom leaflet-control-layer-container leaflet-bar');\r\n                }\r\n                this._indicatorContainer = container;\r\n                this._indicator = L.DomUtil.create('a', classes, container);\r\n                if (this.options.spinjs) {\r\n                    this._spinner = new Spinner(this.options.spin).spin();\r\n                    this._indicator.appendChild(this._spinner.el);\r\n                }\r\n                return container;\r\n            },\r\n\r\n            onRemove: function(map) {\r\n                this._removeLayerListeners(map);\r\n                this._removeMapListeners(map);\r\n            },\r\n\r\n            removeFrom: function (map) {\r\n                if (this.zoomControl && !this.options.separate) {\r\n                    // Override Control.removeFrom() to avoid clobbering the entire\r\n                    // _container, which is the same as zoomControl's\r\n                    this._container.removeChild(this._indicator);\r\n                    this._map = null;\r\n                    this.onRemove(map);\r\n                    return this;\r\n                }\r\n                else {\r\n                    // If this control is separate from the zoomControl, call the\r\n                    // parent method so we don't leave behind an empty container\r\n                    return L.Control.prototype.removeFrom.call(this, map);\r\n                }\r\n            },\r\n\r\n            addLoader: function(id) {\r\n                this._dataLoaders[id] = true;\r\n                if (this.options.delayIndicator && !this.delayIndicatorTimeout) {\r\n                    // If we are delaying showing the indicator and we're not\r\n                    // already waiting for that delay, set up a timeout.\r\n                    var that = this;\r\n                    this.delayIndicatorTimeout = setTimeout(function () {\r\n                        console.log(\"delayed.\");\r\n                        that.updateIndicator();\r\n                        that.delayIndicatorTimeout = null;\r\n                    }, this.options.delayIndicator);\r\n                }\r\n                else {\r\n                    // Otherwise show the indicator immediately\r\n                    this.updateIndicator();\r\n                }\r\n            },\r\n\r\n            removeLoader: function(id) {\r\n                delete this._dataLoaders[id];\r\n                this.updateIndicator();\r\n\r\n                // If removing this loader means we're in no danger of loading,\r\n                // clear the timeout. This prevents old delays from instantly \r\n                // triggering the indicator.\r\n                if (this.options.delayIndicator && this.delayIndicatorTimeout && !this.isLoading()) {\r\n                    clearTimeout(this.delayIndicatorTimeout);\r\n                    this.delayIndicatorTimeout = null;\r\n                }\r\n            },\r\n\r\n            updateIndicator: function() {\r\n                if (this.isLoading()) {\r\n                    this._showIndicator();\r\n                }\r\n                else {\r\n                    this._hideIndicator();\r\n                }\r\n            },\r\n\r\n            isLoading: function() {\r\n                return this._countLoaders() > 0;\r\n            },\r\n\r\n            _countLoaders: function() {\r\n                var size = 0, key;\r\n                for (key in this._dataLoaders) {\r\n                    if (this._dataLoaders.hasOwnProperty(key)) size++;\r\n                }\r\n                return size;\r\n            },\r\n\r\n            _showIndicator: function() {\r\n                // Show loading indicator\r\n                L.DomUtil.addClass(this._indicator, 'is-loading');\r\n                L.DomUtil.addClass(this._indicatorContainer, 'is-loading');\r\n\r\n                // If zoomControl exists, make the zoom-out button not last\r\n                if (!this.options.separate) {\r\n                    if (this.zoomControl instanceof L.Control.Zoom) {\r\n                        L.DomUtil.removeClass(this._getLastControlButton(), 'leaflet-bar-part-bottom');\r\n                    }\r\n                    else if (typeof L.Control.Zoomslider === 'function' && this.zoomControl instanceof L.Control.Zoomslider) {\r\n                        L.DomUtil.removeClass(this.zoomControl._ui.zoomOut, 'leaflet-bar-part-bottom');\r\n                    }\r\n                }\r\n            },\r\n\r\n            _hideIndicator: function() {\r\n                // Hide loading indicator\r\n                L.DomUtil.removeClass(this._indicator, 'is-loading');\r\n                L.DomUtil.removeClass(this._indicatorContainer, 'is-loading');\r\n\r\n                // If zoomControl exists, make the zoom-out button last\r\n                if (!this.options.separate) {\r\n                    if (this.zoomControl instanceof L.Control.Zoom) {\r\n                        L.DomUtil.addClass(this._getLastControlButton(), 'leaflet-bar-part-bottom');\r\n                    }\r\n                    else if (typeof L.Control.Zoomslider === 'function' && this.zoomControl instanceof L.Control.Zoomslider) {\r\n                        L.DomUtil.addClass(this.zoomControl._ui.zoomOut, 'leaflet-bar-part-bottom');\r\n                    }\r\n                }\r\n            },\r\n\r\n            _getLastControlButton: function() {\r\n                var container = this.zoomControl._container,\r\n                    index = container.children.length - 1;\r\n\r\n                // Find the last visible control button that is not our loading\r\n                // indicator\r\n                while (index > 0) {\r\n                    var button = container.children[index];\r\n                    if (!(this._indicator === button || button.offsetWidth === 0 || button.offsetHeight === 0)) {\r\n                        break;\r\n                    }\r\n                    index--;\r\n                }\r\n\r\n                return container.children[index];\r\n            },\r\n\r\n            _handleLoading: function(e) {\r\n                this.addLoader(this.getEventId(e));\r\n            },\r\n\r\n            _handleBaseLayerChange: function (e) {\r\n                var that = this;\r\n\r\n                // Check for a target 'layer' that contains multiple layers, such as\r\n                // L.LayerGroup. This will happen if you have an L.LayerGroup in an\r\n                // L.Control.Layers.\r\n                if (e.layer && e.layer.eachLayer && typeof e.layer.eachLayer === 'function') {\r\n                    e.layer.eachLayer(function (layer) {\r\n                        that._handleBaseLayerChange({ layer: layer });\r\n                    });\r\n                }\r\n                else {\r\n                    // If we're changing to a canvas layer, don't handle loading\r\n                    // as canvas layers will not fire load events.\r\n                    if (!(L.TileLayer.Canvas && e.layer instanceof L.TileLayer.Canvas)) {\r\n                        that._handleLoading(e);\r\n                    }\r\n                }\r\n            },\r\n\r\n            _handleLoad: function(e) {\r\n                this.removeLoader(this.getEventId(e));\r\n            },\r\n\r\n            getEventId: function(e) {\r\n                if (e.id) {\r\n                    return e.id;\r\n                }\r\n                else if (e.layer) {\r\n                    return e.layer._leaflet_id;\r\n                }\r\n                return e.target._leaflet_id;\r\n            },\r\n\r\n            _layerAdd: function(e) {\r\n                if (!e.layer || !e.layer.on) return\r\n                try {\r\n                    e.layer.on({\r\n                        loading: this._handleLoading,\r\n                        load: this._handleLoad\r\n                    }, this);\r\n                }\r\n                catch (exception) {\r\n                    console.warn('L.Control.Loading: Tried and failed to add ' +\r\n                                 ' event handlers to layer', e.layer);\r\n                    console.warn('L.Control.Loading: Full details', exception);\r\n                }\r\n            },\r\n\r\n            _layerRemove: function(e) {\r\n                if (!e.layer || !e.layer.off) return;\r\n                try {\r\n                    e.layer.off({\r\n                        loading: this._handleLoading,\r\n                        load: this._handleLoad\r\n                    }, this);\r\n                }\r\n                catch (exception) {\r\n                    console.warn('L.Control.Loading: Tried and failed to remove ' +\r\n                                 'event handlers from layer', e.layer);\r\n                    console.warn('L.Control.Loading: Full details', exception);\r\n                }\r\n            },\r\n\r\n            _addLayerListeners: function(map) {\r\n                // Add listeners for begin and end of load to any layers already on the \r\n                // map\r\n                map.eachLayer(function(layer) {\r\n                    if (!layer.on) return;\r\n                    layer.on({\r\n                        loading: this._handleLoading,\r\n                        load: this._handleLoad\r\n                    }, this);\r\n                }, this);\r\n\r\n                // When a layer is added to the map, add listeners for begin and end\r\n                // of load\r\n                map.on('layeradd', this._layerAdd, this);\r\n                map.on('layerremove', this._layerRemove, this);\r\n            },\r\n\r\n            _removeLayerListeners: function(map) {\r\n                // Remove listeners for begin and end of load from all layers\r\n                map.eachLayer(function(layer) {\r\n                    if (!layer.off) return;\r\n                    layer.off({\r\n                        loading: this._handleLoading,\r\n                        load: this._handleLoad\r\n                    }, this);\r\n                }, this);\r\n\r\n                // Remove layeradd/layerremove listener from map\r\n                map.off('layeradd', this._layerAdd, this);\r\n                map.off('layerremove', this._layerRemove, this);\r\n            },\r\n\r\n            _addMapListeners: function(map) {\r\n                // Add listeners to the map for (custom) dataloading and dataload\r\n                // events, eg, for AJAX calls that affect the map but will not be\r\n                // reflected in the above layer events.\r\n                map.on({\r\n                    baselayerchange: this._handleBaseLayerChange,\r\n                    dataloading: this._handleLoading,\r\n                    dataload: this._handleLoad,\r\n                    layerremove: this._handleLoad\r\n                }, this);\r\n            },\r\n\r\n            _removeMapListeners: function(map) {\r\n                map.off({\r\n                    baselayerchange: this._handleBaseLayerChange,\r\n                    dataloading: this._handleLoading,\r\n                    dataload: this._handleLoad,\r\n                    layerremove: this._handleLoad\r\n                }, this);\r\n            }\r\n        });\r\n\r\n        L.Map.addInitHook(function () {\r\n            if (this.options.loadingControl) {\r\n                this.loadingControl = new L.Control.Loading();\r\n                this.addControl(this.loadingControl);\r\n            }\r\n        });\r\n\r\n        L.Control.loading = function(options) {\r\n            return new L.Control.Loading(options);\r\n        };\r\n    }\r\n\r\n        defineLeafletLoading(L);\r\n    \r\n\r\n})();\r\n","import { MapControl, withLeaflet } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport './Leaflet.loading/Control.Loading.js';\r\nimport './Leaflet.loading/Control.Loading.css';\r\nimport './LeafletLoadingControl.css';\r\n\r\n\r\nclass LeafletLoadingControl extends MapControl {\r\n\r\n  createLeafletElement(props) {\r\n  \tlet opts = props.opts;\r\n    return new L.Control.Loading(opts); \r\n  }\r\n}\r\n\r\nexport default withLeaflet(LeafletLoadingControl);","import React, { Component } from 'react';\r\nimport { cloneDeep } from 'lodash';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faGripVertical } from '@fortawesome/free-solid-svg-icons';\r\nimport { Map, TileLayer, WMSTileLayer, Marker } from 'react-leaflet';\r\nimport WMTSTileLayer from 'react-leaflet-wmts';\r\nimport WFSLayer from './WFSLayer';\r\nimport EsriTiledMapLayer from './EsriTiledMapLayer';\r\nimport EsriDynamicMapLayer from './EsriDynamicMapLayer';\r\nimport EsriFeatureLayer from './EsriFeatureLayer';\r\nimport EsriImageLayer from './EsriImageLayer';\r\nimport LeafletLoadingControl from './LeafletLoadingControl';\r\nimport 'leaflet.sync';\r\nimport { deleteArrayofKeys } from './Util';\r\n// import {mapboxToken, \r\n//         labelLayerUrl, \r\n//         mapMinZoom, \r\n//         mapDefaultZoom, \r\n//         mapDefaultCenter} from './Config';\r\nimport './MapWrapper.css'\r\nimport './Handle.css';\r\n\r\nlibrary.add(faGripVertical);\r\n\r\nclass Handle extends React.Component {\r\n  render() {\r\n    const { provided, display_name } = this.props;\r\n    return (\r\n      <div className={display_name.length >= 10 ? \"Handle map-title long-title\" : \"Handle map-title\"}>\r\n         <span className=\"Handle-span\" {...provided.dragHandleProps}>\r\n          <FontAwesomeIcon className=\"Handle-drag-icon\" icon=\"grip-vertical\" size=\"1x\"/>\r\n        </span>\r\n         &nbsp;{display_name}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nclass MapWrapper extends Component {\r\n  \r\n  constructor(props, context) {\r\n    super(props)\r\n    this.Config = window.sideby.Config;\r\n    this.mapboxToken = this.Config.mapboxToken;\r\n    this.labelLayerUrl = this.Config.labelLayerUrl + this.mapboxToken;\r\n\r\n    const DEFAULT_VIEWPORT = {\r\n      center: this.Config.mapDefaultCenter,\r\n      zoom: this.Config.mapDefaultZoom\r\n    }\r\n    this.viewport = DEFAULT_VIEWPORT;\r\n    //this.props.mapCenter(this.viewport.center);\r\n    this.invalidateMapSizes = this.invalidateMapSizes.bind(this);\r\n    this.syncMaps = this.syncMaps.bind(this);\r\n    this.unsyncMaps = this.unsyncMaps.bind(this);\r\n    this.moveend = this.moveend.bind(this);\r\n    this.onViewportChanged = this.onViewportChanged.bind(this);\r\n    this.passUpRef = this.passUpRef.bind(this);\r\n    this.onResize = this.onResize.bind(this);\r\n    this.onGeocodeClick = this.onGeocodeClick.bind(this);\r\n    this.bboxStringToLatLngBoundsArray = this.bboxStringToLatLngBoundsArray.bind(this);\r\n    this.checkLayerBounds = this.checkLayerBounds.bind(this);\r\n\r\n    // The following parameters are not passed on to the map layer. This\r\n    // was originally implemented to avoid confusing WMS servers, and\r\n    // there may be unintended consequences.\r\n    // this.layerOptionBlacklist = [\"minZoom\", \"maxZoom\", \"isToggledOn\",\r\n    //     \"visibleIndex\",\"id\",\"startBounds\",\"thumbnail_file\",\r\n    //     \"display_name\",\"numberOfLayersOn\"];\r\n        this.layerOptionBlacklist = [];\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this.passUpRef(this.props.layer.id, this.props.mapRef, true);\r\n  }\r\n\r\n  componentDidMount(prevProps, prevState){\r\n    this.passUpRef(this.props.layer.id, this.props.mapRef);\r\n  }\r\n  \r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.layer.visibleIndex !== \r\n          this.props.layer.visibleIndex) {\r\n\r\n    }\r\n  }\r\n\r\n  onResize(e) {\r\n\r\n  }\r\n\r\n  moveend(e) {\r\n\r\n  }\r\n  \r\n  invalidateMapSizes() {\r\n    this.props.invalidateMapSizes();\r\n  }\r\n  \r\n\r\n  unsyncMaps(ref_id) {\r\n     this.props.unsyncMaps(ref_id);\r\n  }\r\n\r\n  syncMaps() {\r\n    this.props.syncMaps();\r\n  }\r\n\r\n  passUpRef(id, ref, deleteRef=false) {\r\n    this.props.passUpRef(id, ref, deleteRef);\r\n  }\r\n\r\n  bboxStringToLatLngBoundsArray(){\r\n      var a = this.props.layer.startBounds.split(\",\");\r\n      return [[a[1],a[0]], [a[3],a[2]]];\r\n  }; \r\n\r\n  checkLayerBounds(){\r\n    let layer = this.props.layer;\r\n    \r\n    if (layer.startBounds) {\r\n      return this.bboxStringToLatLngBoundsArray()\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n\r\n  clearGeocode() {\r\n    this.props.clearGeocode();\r\n  }\r\n\r\n  onGeocodeClick() {\r\n    this.clearGeocode();\r\n  }\r\n\r\n  onViewportChanged(viewport) { \r\n    //putting viewport into state results in (near) infinite loop of componentdidupdates\r\n    //probably because L.sync is not react-ified\r\n    //so just use good ole generic this.viewport instead\r\n    this.viewport = viewport;\r\n  }\r\n\r\n  render() {\r\n    const layer_components = {\r\n      \"EsriFeatureLayer\": EsriFeatureLayer,\r\n      \"EsriTiledMapLayer\": EsriTiledMapLayer,\r\n      \"EsriImageLayer\": EsriImageLayer,\r\n      \"EsriDynamicMapLayer\": EsriDynamicMapLayer,\r\n      \"WMSTileLayer\": WMSTileLayer,\r\n      \"TileLayer\": TileLayer,\r\n      \"WMTSTileLayer\": WMTSTileLayer,\r\n      \"WFSLayer\": WFSLayer\r\n    }\r\n\r\n    const overlays = this.props.overlays;\r\n    const Overlays = () => {return (\r\n      <>\r\n        {overlays.map(layer => {\r\n          let Overlay = layer_components[layer.type];\r\n          return  (\r\n            <Overlay  \r\n                url={layer.url}\r\n                key={layer.id} \r\n                zIndex={100000}\r\n                pane=\"overlayPane\"\r\n                {...deleteArrayofKeys(cloneDeep(layer), this.layerOptionBlacklist)}\r\n                />\r\n          )\r\n        })}\r\n      </>)\r\n    };\r\n    const layer = cloneDeep(this.props.layer);\r\n    let that = this;\r\n    let Layer = layer_components[layer.type];\r\n    const { provided } = this.props;\r\n\r\n    // Use ids from layers array to create list of urls\r\n    return (<div\r\n              {...provided.draggableProps}\r\n              ref={provided.innerRef}>\r\n              <Handle provided={provided} display_name={layer.display_name} />\r\n              <Map ref={this.props.mapRef}\r\n                 minZoom={this.Config.mapMinZoom}\r\n                 bounds={this.checkLayerBounds()}\r\n                 onResize={this.onResize}\r\n                 maxZoom={layer.maxZoom}\r\n                 onViewportChanged={that.onViewportChanged}\r\n                 className ={'map'+ this.props.numberLayers + (this.props.isDragging ? \"dragging\": \"nope\")}  \r\n                 id={layer.id}\r\n                 key={layer.id} \r\n                 viewport={that.viewport}\r\n                 zoomControlAdded={true}\r\n                 loadingControl={true}\r\n                 preferCanvas={true} //fixes window resizing bug, for now...\r\n                 >\r\n                <LeafletLoadingControl opts={{\r\n                    position: 'bottomleft',\r\n                    spinjs: true,\r\n                    separate: true,\r\n                    //delayIndicator: 1000, //this doesn't actually seem to work...\r\n                    spin:{\r\n                      lines: 15,\r\n                      length: 10,\r\n                      width: 3,\r\n                      radius: 15,\r\n                      color: '#ffffff',\r\n                      left:'100%',\r\n                      top:'-25%', \r\n                      fadeColor: 'black',\r\n                      shadow: '0 0 5px black'\r\n                    }\r\n                  }}/>\r\n\r\n                {this.props.geocodeResult &&\r\n                  <Marker position={this.props.geocodeResult}\r\n                          onClick={this.onGeocodeClick}/>\r\n                }\r\n\r\n                {this.props.labelLayerOn &&\r\n                  <TileLayer \r\n                    key={\"labels-\" + layer.id}\r\n                    url={this.labelLayerUrl}\r\n                    pane=\"shadowPane\"\r\n                    zIndex={1000000} />\r\n                }\r\n                  \r\n                {this.props.overlays.length > 0 && <Overlays />}\r\n\r\n                <Layer \r\n                  key={layer.id} \r\n                  {...deleteArrayofKeys(layer, this.layerOptionBlacklist)}\r\n                />\r\n\r\n            </Map>\r\n          </div>\r\n    )\r\n  }\r\n}  \r\n\r\n\r\nexport default React.forwardRef((props, ref) => <MapWrapper mapRef={ref} {...props} />);\r\n\r\n","import React from 'react';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport MapWrapper from './MapWrapper';\r\nimport \"./RowContainer.css\";\r\n\r\nclass RowContainer extends React.Component {\r\n\r\n  render() {\r\n    const { provided, layers } = this.props;\r\n\r\n  \tlet maps = layers.map((layer, index) => (\r\n\t\t<Draggable draggableId={\"draggable-\"+layer.id} \r\n\t\t\t\t   key={\"draggable-\"+layer.id} \r\n\t\t\t\t   index={index}>\r\n\t\t \t{(provided, snapshot) => (\r\n\t\t  \t<MapWrapper\r\n\t\t        layer={layer}\r\n\t\t        overlays={this.props.overlays}\r\n\t\t        numberLayers={layers.length}\r\n\t\t        innerRef={provided.innerRef}\r\n\t\t        key={layer.id}\r\n\t\t        layerIndex={index}\r\n\t\t        provided={provided}\r\n\t\t        isDragging={snapshot.isDragging}\r\n\t\t        passUpRef={this.props.passUpRef}\r\n\t\t        mapRef={this.props.mapRef}\r\n\t\t        syncMaps={this.props.syncMaps}\r\n\t\t        geocodeResult={this.props.geocodeResult}\r\n\t\t        clearGeocode={this.props.clearGeocode}\r\n\t\t        unsyncMaps={this.props.unsyncMaps}\r\n\t\t        labelLayerOn={this.props.labelLayerOn}\r\n\t\t        invalidateMapSizes={this.props.invalidateMapSizes}\r\n\t\t        />\r\n\t\t \t)}\r\n\t  </Draggable>\r\n    ));\r\n\r\n\r\n    return (\r\n    \t\r\n      <div className={this.props.className} \r\n      \t   ref={provided.innerRef}\r\n      \t   {...provided.droppableProps}>\r\n      \t{maps}\r\n        {provided.placeholder}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default React.forwardRef((props, ref) => <RowContainer mapRef={ref} {...props} />);;","import React, { Component } from 'react';\r\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\r\n// import * as L from 'leaflet';\r\nimport { isEqual } from 'lodash';\r\nimport RowContainer from './RowContainer';\r\nimport { findWithAttr, moveWithinArray, compareArrays } from './Util';\r\n\r\nclass MapsContainer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onDragEnd = this.onDragEnd.bind(this);\r\n    this.setMapRef = this.setMapRef.bind(this);\r\n    this.syncMaps = this.syncMaps.bind(this);\r\n    this.unsyncMaps = this.unsyncMaps.bind(this);\r\n    this.invalidateMapSizes = this.invalidateMapSizes.bind(this);\r\n    this.handleGeocode = this.handleGeocode.bind(this);\r\n    this.clearGeocode = this.clearGeocode.bind(this);\r\n    this.state = {\"mapRefs\": {}}\r\n    this.passUpRef = this.passUpRef.bind(this);\r\n  }\r\n\r\n  passUpRef(id, ref, deleteRef) {\r\n    let mapRefs = {\"mapRefs\": this.state.mapRefs};\r\n\r\n    if (deleteRef) {\r\n      this.unsyncMaps(id);\r\n      delete(mapRefs.mapRefs[id]);\r\n      this.setState(mapRefs);\r\n    }\r\n    else {\r\n      this.manageZoomControls();\r\n      this.syncMaps();\r\n    }\r\n    this.invalidateMapSizes();\r\n  }\r\n\r\n setMapRef(DOMNode) {\r\n    let mapRefs = {\"mapRefs\": this.state.mapRefs};\r\n\r\n    if (DOMNode) {\r\n      mapRefs.mapRefs[DOMNode.container.id] = DOMNode;\r\n      this.setState(mapRefs);\r\n    }\r\n  }\r\n\r\n\r\n onDragEnd(draggedLayer) {\r\n\r\n    if (draggedLayer.destination === null) {\r\n      return;\r\n    }\r\n\r\n    let allLayers = this.props.layers;\r\n    let currentRow = draggedLayer.source.droppableId;  \r\n    let destRow = draggedLayer.destination.droppableId; \r\n    let currentLayerIndex, destinationIndex;\r\n    \r\n    if (currentRow === \"row2\") {\r\n      currentLayerIndex = allLayers.filter(i => i.row === \"row1\").length + draggedLayer.source.index;\r\n    }\r\n    else if (currentRow === \"row3\") {\r\n      currentLayerIndex = allLayers.filter(i => i.row === \"row1\").length + \r\n                          allLayers.filter(i => i.row === \"row2\").length +\r\n                          draggedLayer.source.index;\r\n    }\r\n    else {\r\n      currentLayerIndex = draggedLayer.source.index;\r\n    }\r\n\r\n    if (destRow === \"row2\") {\r\n      destinationIndex = allLayers.filter(i => i.row === \"row1\").length + \r\n                          draggedLayer.destination.index;\r\n    }\r\n    else if (destRow === \"row3\") {\r\n      destinationIndex = allLayers.filter(i => i.row === \"row1\").length + \r\n                          allLayers.filter(i => i.row === \"row2\").length +\r\n                          draggedLayer.destination.index;\r\n    }\r\n    else {\r\n      destinationIndex = draggedLayer.destination.index;\r\n    }\r\n\r\n    let allTurnedOnLayers = allLayers.filter(i => i.isToggledOn);\r\n    \r\n    moveWithinArray(allTurnedOnLayers, currentLayerIndex, destinationIndex);\r\n \t  \r\n    this.props.updateLayerDisplayIndexesAndRows(allTurnedOnLayers);\r\n  \r\n  }\r\n\r\n\r\n  manageZoomControls() { \r\n    let mapRefs = this.state.mapRefs;\r\n    let layers = this.props.layers;\r\n    var map, lyr, zoomControlNeeded;\r\n\r\n    for (let i in mapRefs){ \r\n    \r\n      map = mapRefs[i].leafletElement;\r\n      lyr = layers[findWithAttr(layers, \"id\", i)];\r\n      zoomControlNeeded = lyr.visibleIndex === 0 ? true : false;\r\n      \r\n      if (zoomControlNeeded){\r\n          \r\n          map.removeControl(map.zoomControl);\r\n          map.addControl(map.zoomControl);\r\n          \r\n      }\r\n\r\n      else {\r\n        map.removeControl(map.zoomControl);\r\n\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  invalidateMapSizes() {\r\n    let mapRefs = this.state.mapRefs;\r\n    for (let i in mapRefs){ \r\n      mapRefs[i].leafletElement.invalidateSize();\r\n    }\r\n  }\r\n\r\n  unsyncMaps(ref_id) {\r\n    let mapRefs = this.state.mapRefs;\r\n    for (var i in mapRefs){\r\n      if (i !== ref_id && mapRefs[ref_id]){\r\n          mapRefs[ref_id].leafletElement.unsync(mapRefs[i].leafletElement);\r\n          mapRefs[i].leafletElement.unsync(mapRefs[ref_id].leafletElement);\r\n      }\r\n    }\r\n  }\r\n\r\n  syncMaps() {\r\n    let mapRefs = this.state.mapRefs;\r\n    for (var i in mapRefs){\r\n      for (var j in mapRefs){\r\n        if (i !== j && !mapRefs[i].leafletElement.isSynced(mapRefs[j].leafletElement)){\r\n          mapRefs[i].leafletElement.sync(\r\n            mapRefs[j].leafletElement, {syncCursor: true}\r\n          );           \r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  clearGeocode() {\r\n  \tthis.setState({\"geocodeResult\": false});\r\n  }\r\n\r\n  handleGeocode(geocodeResult){\r\n  \t//maybe move this to mapwrapper? other than setting state w/ center that is\r\n  \tlet randomMap = Object.entries(this.state.mapRefs)[0][1];\r\n    let bbox = this.props.geocodeResult.geocode.bbox;\r\n    let center = this.props.geocodeResult.geocode.center;\r\n\r\n    if (bbox._northEast.lat !== bbox._southWest.lat){\r\n      randomMap.leafletElement.fitBounds(bbox);\r\n    }\r\n\r\n    else {\r\n      randomMap.leafletElement.setView(center, 15);\r\n    }\r\n    this.setState({\"geocodeResult\": center});\r\n    setTimeout(this.clearGeocode, 2000);\r\n\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState){\r\n    let prevLyrs = prevProps.layers;\r\n    let lyrs = this.props.layers;\r\n\r\n    if (prevLyrs.filter(i => i.isToggledOn).length !== \r\n         lyrs.filter(i => i.isToggledOn).length) \r\n    {\r\n      this.invalidateMapSizes();\r\n    }\r\n\r\n    else if (!compareArrays(prevLyrs, lyrs))\r\n    {\r\n      setTimeout(this.invalidateMapSizes, 400);\r\n    }\r\n    if (prevLyrs.length === lyrs.length && !isEqual(prevLyrs.map(lyr => lyr.display_name+lyr.visibleIndex.toString()),\r\n          lyrs.map(lyr => lyr.display_name+lyr.visibleIndex.toString()))){\r\n            this.manageZoomControls();\r\n          }\r\n\r\n    if (prevProps.geocodeResult !== this.props.geocodeResult) {\r\n      this.handleGeocode(this.props.geocodeResult);\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n  \tlet layers = this.props.layers.filter(lyr => lyr.isToggledOn);\r\n  \tlet numberRows = [];\r\n    layers.forEach(lyr => {\r\n    \tnumberRows.push(lyr.row);\r\n    });\r\n    numberRows = new Set(numberRows);\r\n    numberRows = [...numberRows];\r\n\r\n    let row1Layers = layers.filter(i => i.row === \"row1\");\r\n    row1Layers.sort((a, b) => a.visibleIndex - b.visibleIndex);\r\n    let row2Layers = layers.filter(i => i.row === \"row2\");\r\n    row2Layers.sort((a, b) => a.visibleIndex - b.visibleIndex);\r\n    let row3Layers = layers.filter(i => i.row === \"row3\");\r\n    row2Layers.sort((a, b) => a.visibleIndex - b.visibleIndex);\r\n    \r\n\r\n    let rows = numberRows.map( (val, index) => { \r\n      return (\r\n        <Droppable droppableId={val} key={val} direction=\"horizontal\">\r\n          {(provided, snapshot) => (\r\n            <RowContainer className={\"Row \" + val + (numberRows.length === 2 ? \" two-rows\" : numberRows.length=== 3 ? \" three-rows\": \"\" )} \r\n                  provided={provided}\r\n                  snapshot={snapshot}\r\n                  passUpRef={this.passUpRef}\r\n\t\t\t\t          geocodeResult={this.state.geocodeResult}\r\n\t\t\t\t          clearGeocode={this.clearGeocode}\r\n                  mapRef={this.setMapRef} \r\n                  innerRef={provided.innerRef}\r\n                  syncMaps={this.syncMaps}\r\n                  labelLayerOn={this.props.labelLayerOn}\r\n                  unsyncMaps={this.unsyncMaps}\r\n                  invalidateMapSizes={this.invalidateMapSizes}\r\n                  overlays={this.props.overlays}\r\n                  layers={val === \"row1\" ? row1Layers : val === \"row2\" ? row2Layers : row3Layers}>\r\n            </RowContainer>\r\n          )}  \r\n        </Droppable>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <div id='maps'>\r\n            <DragDropContext onDragEnd={this.onDragEnd}>\r\n              {rows}\r\n            </DragDropContext>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default React.forwardRef((props, ref) => <MapsContainer mapRef={ref} {...props} />);;\r\n","import React, { Component } from 'react';\r\nimport Fullscreen from 'react-fullscreen-crossbrowser';\r\nimport { cloneDeep } from 'lodash';\r\nimport shortid from 'shortid';\r\nimport { findWithAttr, moveWithinArray } from './Util';\r\nimport UtilityBar from './UtilityBar';\r\nimport ViewBar from './ViewBar';\r\nimport Modal from './Modal';\r\nimport Tooltip from './Tooltip';\r\nimport MapsContainer from './MapsContainer';\r\n//import Config, { welcomeText, siteTitle } from './Config';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.Config = window.sideby.Config;\r\n    this.handleItemClick = this.handleItemClick.bind(this);\r\n    this.transmitGeocode = this.transmitGeocode.bind(this);\r\n    this.toggleFullscreen = this.toggleFullscreen.bind(this);\r\n    this.toggleLabels = this.toggleLabels.bind(this);\r\n    this.toggleModal = this.toggleModal.bind(this);\r\n    this.toggleViewbarVisibility = this.toggleViewbarVisibility.bind(this);\r\n    this.rebuildTooltip = this.rebuildTooltip.bind(this);\r\n    this.openModal = this.openModal.bind(this);\r\n    this.closeModal = this.closeModal.bind(this);\r\n    this.modalSubmit = this.modalSubmit.bind(this);\r\n    this.calculateDisplayIndexes = this.calculateDisplayIndexes.bind(this);\r\n    this.calculateRowLayers = this.calculateRowLayers.bind(this);\r\n    this.updateLayerDisplayIndexesAndRows = this.updateLayerDisplayIndexesAndRows.bind(this);\r\n    this.addOverlay = this.addOverlay.bind(this);\r\n    this.deleteOverlay = this.deleteOverlay.bind(this);\r\n    this.addLayer = this.addLayer.bind(this);\r\n    this.state = {\"layers\":[],\r\n                  \"overlays\": this.Config.defaultOverlays || [],\r\n                  \"numberOfLayersOn\": 0, \r\n                  \"geocodeResult\": {},\r\n                  \"labelLayerOn\": true,\r\n                  \"rebuildTooltip\": false,\r\n                  \"modalIsOpen\": false,\r\n                  \"modalContent\": \"\",\r\n                  \"viewbarVisible\": true};\r\n    \r\n    //for the initial app load, set state using LayersInfo\r\n    let viewbarLayers = window.sideby.LayersInfo.map(item => \r\n        ({...item, isToggledOn: false, id: shortid.generate()})\r\n      );\r\n    this.state.viewbarLayers =  viewbarLayers.sort( (a, b) => {\r\n      return b.sortVal - a.sortVal\r\n    });\r\n\r\n  }\r\n\r\n  /*\r\n    Function that is used to move the response received by \r\n    the Geocoder component from the Geocoder, up to the App,\r\n    and then back down to the MapsContainer\r\n  */\r\n  transmitGeocode(geocode) {\r\n    this.setState({\"geocode\": geocode});\r\n  }\r\n\r\n\r\n  /*\r\n    Toggle fullscreen mode. Used by FullscreenToggle component on the UtilityBar\r\n  */\r\n  toggleFullscreen() {\r\n    let current_val = this.state.isFullscreenEnabled;\r\n    this.setState({isFullscreenEnabled: !current_val});\r\n  }\r\n\r\n  /*\r\n    Toggle map labels for \r\n  */\r\n  toggleLabels() {\r\n    //console.log(\"toggleLabels\");\r\n    let curr = this.state.labelLayerOn;\r\n    this.setState({\"labelLayerOn\": !curr});\r\n  }\r\n\r\n  toggleModal(bool) {\r\n    this.setState({\"modalIsOpen\": bool});\r\n  }\r\n\r\n  toggleViewbarVisibility() {\r\n    let current_val = this.state.viewbarVisible;\r\n    this.setState({viewbarVisible: !current_val});\r\n  }\r\n\r\n\r\n  modalSubmit(modalType, data){\r\n    //console.log(modalType);\r\n    //console.log(data);\r\n    switch (modalType){\r\n      case \"AddLayerItem\":\r\n        this.addLayer(data);\r\n        break;\r\n      case \"AddOverlay\":\r\n        this.addOverlay(data);\r\n        break;\r\n      default:\r\n        console.log(\"mooooo\");\r\n    }\r\n\r\n  }\r\n\r\n  renderModal(){\r\n\r\n  }\r\n  openModal(modalType, modalContent, modalOptions){\r\n    \r\n    this.setState({\r\n      modalType: modalType,\r\n      modalContent: modalContent,\r\n      modalOptions: modalOptions\r\n    });\r\n    this.toggleModal(true);\r\n\r\n  }\r\n  \r\n  closeModal() {\r\n    this.toggleModal(false);\r\n  }\r\n\r\n  rebuildTooltip(bool) {\r\n    console.log(\"rebuildTooltip\", bool);\r\n    this.setState({\"rebuildTooltip\": bool});\r\n  }\r\n\r\n  addOverlay(data) {\r\n    //console.log(\"------ ADD OVERLAY ------\");\r\n    let overlays = cloneDeep(this.state.overlays);  \r\n    var new_layer = data;\r\n    new_layer.isOverlay = true;\r\n    new_layer.id = shortid.generate();\r\n    overlays.push(new_layer);\r\n    this.setState({\"overlays\":overlays});\r\n  }\r\n\r\n  deleteOverlay(obj) {\r\n    let id = obj.currentTarget.dataset.overlayId;\r\n    document.getElementById(id).style.display = \"none\";\r\n    let overlays = cloneDeep(this.state.overlays);\r\n    let matchIndex = findWithAttr(overlays, \"id\", id);\r\n    overlays.splice(matchIndex, 1);\r\n    this.setState({\"overlays\":overlays});\r\n\r\n  }\r\n\r\n  addLayer(data) {\r\n    console.log(data);\r\n    let new_layer = data,\r\n      id = shortid.generate(), \r\n      maxZoom = 20;\r\n\r\n    new_layer.id = id;\r\n    new_layer.maxZoom = maxZoom;\r\n    \r\n    let state = {\"viewbarLayers\": this.state.viewbarLayers};\r\n    state.viewbarLayers.push(new_layer);\r\n    this.setState(state);\r\n  }\r\n\r\n  handleItemClick(data) {\r\n    let found = false;\r\n    let foundIdx;\r\n    let newStateLayers = cloneDeep(this.state.layers);\r\n    let newViewbarLayers = cloneDeep(this.state.viewbarLayers);  \r\n\r\n    newStateLayers.forEach((lyr, index) => {\r\n      if (data.id === lyr.id){\r\n        found = true;\r\n        foundIdx = index;\r\n      }\r\n    });\r\n\r\n    if (!found){\r\n      newStateLayers = newStateLayers.concat([data]);\r\n    }\r\n\r\n    else {\r\n\r\n      newStateLayers[foundIdx].isToggledOn = !this.state.layers[foundIdx].isToggledOn;\r\n\r\n      //rearrange the layers array so display order matches clicked order\r\n      moveWithinArray(newStateLayers, foundIdx, newStateLayers.length - 1);\r\n    }\r\n\r\n    newViewbarLayers.forEach((lyr, index) => {\r\n      if (data.id === lyr.id){\r\n        newViewbarLayers[index].isToggledOn = !this.state.viewbarLayers[index].isToggledOn;\r\n      }\r\n    });  \r\n\r\n    newStateLayers = this.calculateDisplayIndexes(newStateLayers);\r\n    newStateLayers = this.calculateRowLayers(newStateLayers);\r\n\r\n    let newNumberOfLayersOn = newStateLayers.filter(i => i.isToggledOn).length;\r\n\r\n    let newState = {'layers': newStateLayers,\r\n                  'numberOfLayersOn': newNumberOfLayersOn,\r\n                  'viewbarLayers': newViewbarLayers};\r\n\r\n    this.setState(newState);\r\n  }\r\n\r\n\r\n updateLayerDisplayIndexesAndRows(layers) {\r\n  let newLayers = cloneDeep(this.state.layers);\r\n  layers.forEach((lyr, index) => {\r\n    var lyrIndex = findWithAttr(newLayers, \"id\", lyr.id);\r\n    newLayers[lyrIndex].visibleIndex = index;\r\n  });\r\n  newLayers = this.calculateRowLayers(newLayers);\r\n\r\n  this.setState({\"layers\": newLayers});\r\n }\r\n\r\n calculateDisplayIndexes(layers) {\r\n    var visibleIndex = 0;\r\n    let newLayers = layers.map(function(lyr){\r\n      if (lyr.isToggledOn) {\r\n        lyr.visibleIndex = visibleIndex;\r\n        visibleIndex ++;\r\n      }\r\n\r\n      return lyr;\r\n    });\r\n    return newLayers;\r\n  }\r\n  \r\ncalculateRowLayers(layers) {\r\n  let visibleLayers = layers.filter(i => i.isToggledOn);\r\n  let numberOfLayersOn = visibleLayers.length;\r\n  visibleLayers.sort(function(a,b){\r\n    return a.visibleIndex - b.visibleIndex;\r\n  })\r\n\r\n  switch(numberOfLayersOn){\r\n    case 1:\r\n    case 2:\r\n    case 3:\r\n      visibleLayers.forEach(i => i.row = \"row1\");\r\n      break;\r\n    case 4:\r\n      visibleLayers.slice(0,2).forEach(i => i.row = \"row1\");\r\n      visibleLayers.slice(2).forEach(i => i.row = \"row2\");\r\n      break;\r\n    case 5:\r\n    case 6:\r\n      visibleLayers.slice(0,3).forEach(i => i.row = \"row1\");\r\n      visibleLayers.slice(3).forEach(i => i.row = \"row2\");\r\n      break;\r\n    case 7:\r\n      visibleLayers.slice(0,4).forEach(i => i.row = \"row1\");\r\n      visibleLayers.slice(4).forEach(i => i.row = \"row2\");\r\n      break;\r\n    case 8:\r\n    case 9:\r\n      visibleLayers.slice(0,3).forEach(i => i.row = \"row1\");\r\n      visibleLayers.slice(3,6).forEach(i => i.row = \"row2\");\r\n      visibleLayers.slice(6).forEach(i => i.row = \"row3\");\r\n      break;\r\n    \r\n    default:\r\n      break;\r\n  }\r\n  return visibleLayers;\r\n}\r\n\r\n  render() {\r\n\r\n    return (\r\n\r\n      <Fullscreen\r\n          enabled={this.state.isFullscreenEnabled}\r\n          onChange={isFullscreenEnabled => this.setState({isFullscreenEnabled})}>\r\n\r\n        <div id=\"modalRoot\"></div>\r\n     \r\n        <div className=\"App\">\r\n          <Modal isOpen={this.state.modalIsOpen} \r\n              openModal={this.openModal}\r\n              closeModal={this.closeModal}\r\n              modalSubmit={this.modalSubmit}\r\n              modalContent={this.state.modalContent}\r\n              modalType={this.state.modalType}\r\n              modalOptions={this.state.modalOptions}\r\n              rebuildTooltip={this.rebuildTooltip}\r\n             \r\n              />\r\n\r\n          <header className=\"App-header\">\r\n            {this.Config.siteTitle}\r\n          </header>\r\n\r\n          <Tooltip rebuildTooltip={this.state.rebuildTooltip}\r\n                   resetRebuildTooltip={this.rebuildTooltip} />\r\n         \r\n          {this.state.numberOfLayersOn === 0 && \r\n            <div className='no-maps'>\r\n              <p>\r\n                {this.Config.welcomeText}\r\n              </p>\r\n            </div>\r\n          }\r\n\r\n          {this.state.numberOfLayersOn > 0 && \r\n            <MapsContainer layers={this.state.layers} \r\n                           overlays={this.state.overlays}\r\n                           mapCenter={this.mapCenter}\r\n                           geocodeResult={this.state.geocode}\r\n                           labelLayerOn={this.state.labelLayerOn}\r\n                           numberOfLayersOn={this.state.numberOfLayersOn}\r\n                           updateLayerDisplayIndexesAndRows={this.updateLayerDisplayIndexesAndRows}\r\n                           />\r\n          }\r\n\r\n          {this.state.numberOfLayersOn > 0 && \r\n            <UtilityBar transmitGeocode={this.transmitGeocode} \r\n                        toggleFullscreen={this.toggleFullscreen}\r\n                        toggleLabels={this.toggleLabels}\r\n                        toggleViewbarVisibility={this.toggleViewbarVisibility}\r\n                        labelLayerOn={this.state.labelLayerOn}\r\n                        isFullscreenEnabled={this.state.isFullscreenEnabled}\r\n                        overlays={this.state.overlays}\r\n                        viewbarLayers={this.state.viewbarLayers}\r\n                        addOverlay={this.addOverlay}\r\n                        deleteOverlay={this.deleteOverlay}\r\n                        openModal={this.openModal}\r\n                        closeModal={this.closeModal}\r\n                        viewbarVisible={this.state.viewbarVisible}\r\n                        />\r\n          }\r\n\r\n          {this.state.viewbarVisible &&\r\n            <ViewBar onItemClick={this.handleItemClick}\r\n                     numberOfLayersOn={this.state.numberOfLayersOn}\r\n                     toggleModal={this.toggleModal}\r\n                     openModal={this.openModal}\r\n                     closeModal={this.closeModal}\r\n                     viewbarLayers={this.state.viewbarLayers}\r\n                     newLayer={this.state.newLayer} \r\n                     addLayer={this.addLayer}\r\n                     rebuildTooltip={this.rebuildTooltip}\r\n                     />\r\n          }\r\n        </div>\r\n      </Fullscreen>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import 'react-app-polyfill/ie9';\r\nimport 'react-app-polyfill/stable';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport './theme.css';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nimport cssVars from 'css-vars-ponyfill';\r\ncssVars({\r\n  // Options...\r\n});\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}