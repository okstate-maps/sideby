(this.webpackJsonpsideby=this.webpackJsonpsideby||[]).push([[0],{255:function(e,t,a){e.exports=a(591)},26:function(e,t){e.exports={maxLayers:8,maxLayersWarning:"Only {maxLayers} layers can be selected at once. Please deselect some in order to select new ones.",siteTitle:"Sideby: for comparing stuff",welcomeText:"Sideby is an application for comparing spatial data layers side by side (by side by side by side, etc.). Try clicking/tapping the layers below, or try adding your own by clicking the + at the end of the list.",geocoderSearchPlaceholderText:"Search for a place...",defaultOverlays:[{url:"https://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/USA_States_Generalized/FeatureServer/0",type:"EsriFeatureLayer",style:function(){return{fill:!1,color:"#fafafa",weight:1}},id:"stateoutlinesoverlay",display_name:"USA State Outlines",interactive:!1},{url:"http://ogi.state.ok.us/geoserver/wms?",type:"WMSTileLayer",format:"image/png8",transparent:"true",layers:"ogi:ok_counties",display_name:"Oklahoma Counties",id:"ogi:ok_counties"}],mapboxToken:"pk.eyJ1Ijoia3JkeWtlIiwiYSI6Ik15RGcwZGMifQ.IR_NpAqXL1ro8mFeTIdifg",labelLayerUrl:"https://api.mapbox.com/styles/v1/krdyke/cjf9wgvwg0zlh2rmo4jx9jcec/tiles/256/{z}/{x}/{y}?access_token=",mapDefaultZoom:3,mapMinZoom:3,mapDefaultCenter:[0,0],tooltips:{Url:"Enter the URL to the layer you want to add here.",TileLayer:"An XYZ style layer.<br/>For example https://maps.nyc.gov/xyz/1.0.0/carto/label/{z}/{x}/{y}.png8",EsriFeatureLayer:"A vector layer coming from ArcGIS Online or ArcGIS Server.<br/>For example, https://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/USA_States_Generalized/FeatureServer/0",ThumbnailPath:"Enter a path to a thumbnail picture to use for the layer. It can be a full URL or the filename of an image stored in /public/assets/images.",DisplayName:"The name to use for this layer."}}},497:function(e,t,a){},498:function(e,t,a){},508:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAMAAACelLz8AAAAz1BMVEUAAAAkJCQmJiYmJiYlJSUkJCQAAAAqKiokJCQmJiYzMzMlJSUkJCQmJiYlJSUmJiYoKCgmJiYmJiYnJycmJiYAAAAmJiYmJiYlJSUZGRklJSUmJiYmJiYlJSUlJSUmJiYmJiYtLS0mJiYlJSUmJiYnJyccHBwmJiYmJiYlJSUiIiImJiYmJiYmJiYlJSUkJCQlJSUjIyMuLi4mJiYmJiYlJSUlJSUlJSUAAAAmJiYlJSUoKCglJSUlJSUmJiYmJiYlJSUlJSUlJSUlJSUmJiawjvnZAAAARHRSTlMARfbw3jEDBkb+BatNZMu1GfHGDdQBoPjyCsOfFD2C/LQRaqiTVQmMcFkW4uR961pnOQshyWDgnAKuzDP5uPVW+tp5S3AUDfcAAACGSURBVBgZzcFFAoMwAATARQN1d3d3d9n/v6n0SsKdGYROrW7ZUMlWm+SsD1kkw1ZnPnXHkMTZADAxFwP4JdMCnhU1+CVy+NO4hF+02IbnwzX8YuwKwDLeNiQFHo7nG7+Q5UcmX/eH/oTK5oQLjS3Urjp3Amp7cogAPboO1ESl5CBAOYVQ+QEjbg1iCZEUOgAAAABJRU5ErkJggg=="},509:function(e,t){e.exports="data:image/gif;base64,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"},510:function(e,t,a){},511:function(e,t,a){},516:function(e,t,a){},517:function(e,t,a){},518:function(e,t,a){},519:function(e,t,a){},520:function(e,t,a){},521:function(e,t,a){},522:function(e,t,a){},530:function(e,t,a){},531:function(e,t,a){},532:function(e,t,a){},545:function(e,t,a){},549:function(e,t,a){},550:function(e,t,a){},552:function(e,t,a){},553:function(e,t,a){},554:function(e,t,a){},590:function(e,t,a){},591:function(e,t,a){"use strict";a.r(t);a(256),a(305);var n=a(1),o=a.n(n),r=a(60),i=a.n(r),l=(a(497),a(498),a(55)),s=a(8),c=a(9),d=a(12),u=a(10),p=a(3),h=a(11),m=a(246),y=a.n(m),A=a(56),b=a(126),f=a.n(b);function g(e,t,a){for(var n=0;n<e.length;n+=1)if(e[n][t]===a)return n;return-1}function v(e,t,a){e.splice(a,0,e.splice(t,1)[0])}var O=a(0),E=a.n(O),C=a(26),L=a.n(C),k=(a(592),a(508),a(509),a(510),a(511),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).mapboxToken=C.mapboxToken,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.map=E.a.map("hidden-geocoder-map"),this.geocoderObj=new E.a.Control.Geocoder({geocoder:new E.a.Control.Geocoder.Mapbox(this.mapboxToken),collapsed:!1,placeholder:C.geocoderSearchPlaceholderText,suggestMinLength:3,queryMinLength:1,defaultMarkGeocode:!1}),this.geocoderObj.addTo(this.map),this.geocoderObj.on("markgeocode",(function(t){return e.transmitGeocode(t)}));var t=this.geocoderObj.getContainer();window.document.getElementById("Geocoder").appendChild(t)}},{key:"transmitGeocode",value:function(e){this.props.transmitGeocode(e)}},{key:"render",value:function(){return o.a.createElement("div",{id:"Geocoder",className:"Geocoder"},o.a.createElement("div",{id:"hidden-geocoder-map"}))}}]),t}(n.Component)),j=a(27),w=a(33),M=a(30),T=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(d.a)(this,Object(u.a)(t).call(this,e)),j.b.add(M.h),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(w.a,{"data-tip":this.props.tooltipName,"data-for":"modal","data-event":"click",icon:"info-circle"})}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(d.a)(this,Object(u.a)(t).call(this,e)),j.b.add(M.l),a.onClick=a.onClick.bind(Object(p.a)(a)),a.onBlur=a.onBlur.bind(Object(p.a)(a)),a.handleLayerTypeChange=a.handleLayerTypeChange.bind(Object(p.a)(a)),a.modalType="AddOverlay",a.state={layerTypeGuess:null},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleLayerTypeChange",value:function(e){console.log(e.target.value),this.setState({layerTypeGuess:e.target.value})}},{key:"onBlur",value:function(e){var t=e.target.value,a=null;Object.entries({TileLayer:/.*\{z\}.*\{x\}.*\{y\}.*/,WMSTileLayer:/.*wmts.*/i,EsriImageLayer:/.*arcgis.*ImageServer.*/,EsriFeatureLayer:/.*arcgis.*FeatureServer.*/,EsriTiledMapLayer:/.*arcgis.*MapServer.*/}).forEach((function(e){e[1].test(t)&&(a=e[0])})),this.setState({layerTypeGuess:a})}},{key:"onClick",value:function(e){console.log(this.state);var t=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"inputGroup"},o.a.createElement("label",{className:"textInputLabel",htmlFor:"addOverlayUrl"},"Url: "),o.a.createElement("textarea",{id:"addOverlayUrl",name:"addOverlayUrl",placeholder:"Enter the URL to your map/data.",onBlur:this.onBlur}),o.a.createElement(T,{tooltipName:L.a.tooltips.Url})),o.a.createElement("div",{className:"radioGroup"},o.a.createElement("label",{className:"radioGroupLabel",htmlFor:"overlayType"},"Type"),o.a.createElement("div",{className:"inputGroup"},o.a.createElement("input",{name:"overlayType",id:"overlay-input-TileLayer",type:"radio",checked:"TileLayer"===this.state.layerTypeGuess,onChange:this.handleLayerTypeChange,value:"TileLayer"}),o.a.createElement("label",{htmlFor:"overlay-input-TileLayer"},"TileLayer"),o.a.createElement(T,{tooltipName:L.a.tooltips.TileLayer})),o.a.createElement("div",{className:"inputGroup"},o.a.createElement("input",{name:"overlayType",id:"overlay-input-WMSTileLayer",type:"radio",checked:"WMSTileLayer"===this.state.layerTypeGuess,onChange:this.handleLayerTypeChange,value:"WMSTileLayer"}),o.a.createElement("label",{htmlFor:"overlay-input-WMSTileLayer"},"WMSTileLayer")),o.a.createElement("div",{className:"inputGroup"},o.a.createElement("input",{name:"overlayType",id:"overlay-input-EsriTiledMapLayer",type:"radio",checked:"EsriTiledMapLayer"===this.state.layerTypeGuess,onChange:this.handleLayerTypeChange,value:"EsriTiledMapLayer"}),o.a.createElement("label",{htmlFor:"overlay-input-EsriTiledMapLayer"},"EsriTiledMapLayer")),o.a.createElement("div",{className:"inputGroup"},o.a.createElement("input",{name:"overlayType",id:"overlay-input-EsriDynamicMapLayer",type:"radio",checked:"EsriDynamicMapLayer"===this.state.layerTypeGuess,onChange:this.handleLayerTypeChange,value:"EsriDynamicMapLayer"}),o.a.createElement("label",{htmlFor:"overlay-input-EsriDynamicMapLayer"},"EsriDynamicMapLayer")),o.a.createElement("div",{className:"inputGroup"},o.a.createElement("input",{name:"overlayType",id:"overlay-input-EsriFeatureLayer",type:"radio",checked:"EsriFeatureLayer"===this.state.layerTypeGuess,onChange:this.handleLayerTypeChange,value:"EsriFeatureLayer"}),o.a.createElement("label",{htmlFor:"overlay-input-EsriFeatureLayer"},"EsriFeatureLayer"),o.a.createElement("br",null),o.a.createElement(T,{tooltipName:L.a.tooltips.EsriFeatureLayer}))),o.a.createElement("div",{className:"inputGroup"},o.a.createElement("label",{className:"textInputLabel",htmlFor:"overlay-input-displayName"},"Display Name:"),o.a.createElement("input",{name:"overlayDisplayName",id:"overlay-input-displayName",type:"text"})));this.props.openModal(this.modalType,t)}},{key:"render",value:function(){return o.a.createElement("button",{className:"add-overlay",onClick:this.onClick,name:"Add Overlay",title:"Add Overlay",id:"add-overlay"},o.a.createElement(w.a,{icon:"plus-square",size:"2x"}))}}]),t}(n.Component),I=a(247),R=a.n(I);a(516);j.b.add(M.e);var U=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).onClick=a.onClick.bind(Object(p.a)(a)),a.state={showLayers:!1},a.clipboard=new R.a(".copyButton",{container:document.getElementById("modalContainer")}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(){this.setState({showLayers:!this.state.showLayers})}},{key:"render",value:function(){return o.a.createElement("div",{className:"exportLayersGroup"},o.a.createElement("button",{name:"exportLayersButton",id:"exportLayersButton",onClick:this.onClick},"Export Layers"),o.a.createElement("br",null),this.state.showLayers&&o.a.createElement(o.a.Fragment,null,o.a.createElement("textarea",{className:"clipboardText",id:"clipboardText",rows:"10",cols:"50",readOnly:!0,value:JSON.stringify(this.props.layers,null,2)}),o.a.createElement("button",{className:"copyButton","data-clipboard-target":"#clipboardText"},o.a.createElement(w.a,{icon:"copy"}))))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(d.a)(this,Object(u.a)(t).call(this,e)),j.b.add(M.i),j.b.add(M.m),a.onClick=a.onClick.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(e){var t=this,a=this.props.overlays,n=o.a.createElement(o.a.Fragment,null,o.a.createElement("table",{className:"table"},o.a.createElement("caption",null," Current Overlays"),o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Remove"))),o.a.createElement("tbody",null,a.map((function(e,a){return o.a.createElement("tr",{id:e.id,key:e.id},o.a.createElement("td",null,e.display_name),o.a.createElement("td",null,o.a.createElement("button",{"data-overlay-id":e.id,onClick:t.props.deleteOverlay},o.a.createElement(w.a,{icon:"times-circle",size:"2x"}))))})))),o.a.createElement(U,{layers:a}));this.props.openModal("ManageOverlays",n,{noSubmit:!0})}},{key:"render",value:function(){return o.a.createElement("button",{className:"ManageOverlays-button",onClick:this.onClick,name:"Manage Overlays",title:"Manage Overlays",id:"ManageOverlays-button"},o.a.createElement("div",{className:"icon-label"},o.a.createElement(w.a,{icon:"layer-group",size:"2x"})))}}]),t}(n.Component),F=(a(517),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).onChange=a.onChange.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onChange",value:function(){this.props.toggleLabels()}},{key:"render",value:function(){return o.a.createElement("div",{className:"inputGroup"},o.a.createElement("input",{defaultChecked:this.props.labelLayerOn,name:"labelsCheckbox",id:"labelsCheckbox",type:"checkbox",onChange:this.onChange}),o.a.createElement("label",{htmlFor:"labelsCheckbox"},"Map\xa0Labels"))}}]),t}(n.Component)),x=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(d.a)(this,Object(u.a)(t).call(this,e)),j.b.add(M.c),a.onClick=a.onClick.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(e){var t=o.a.createElement(o.a.Fragment,null,o.a.createElement(F,{labelLayerOn:this.props.labelLayerOn,toggleLabels:this.props.toggleLabels}),o.a.createElement(U,{layers:this.props.viewbarLayers}));this.props.openModal("Settings",t,{noSubmit:!0})}},{key:"render",value:function(){return o.a.createElement("button",{className:"settings-button",onClick:this.onClick,name:"Settings",title:"Settings",id:"settings-button"},o.a.createElement("div",{className:"icon-label"},o.a.createElement(w.a,{icon:"cog",size:"2x"})))}}]),t}(n.Component);j.b.add(M.f),j.b.add(M.d);var G=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("button",{onClick:function(){return e.props.toggleFullscreen()},name:"Toggle Fullscreen Mode",title:"Toggle Fullscreen Mode"},o.a.createElement(w.a,{icon:this.props.isFullscreenEnabled?"compress":"expand",size:"2x"}))}}]),t}(n.Component),D=(a(518),a(519),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).transmitGeocode=a.transmitGeocode.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"transmitGeocode",value:function(e){this.props.transmitGeocode(e)}},{key:"render",value:function(){return o.a.createElement("div",{id:"UtilityBar",className:"UtilityBar"},o.a.createElement(k,{transmitGeocode:this.transmitGeocode}),o.a.createElement(S,{numberOfLayersOn:this.props.numberOfLayersOn,addOverlay:this.props.addOverlay,openModal:this.props.openModal}),this.props.overlays.length>0&&o.a.createElement(B,{overlays:this.props.overlays,openModal:this.props.openModal,deleteOverlay:this.props.deleteOverlay}),o.a.createElement(G,{toggleFullscreen:this.props.toggleFullscreen,isFullscreenEnabled:this.props.isFullscreenEnabled}),o.a.createElement(x,{openModal:this.props.openModal,labelLayerOn:this.props.labelLayerOn,toggleLabels:this.props.toggleLabels,viewbarLayers:this.props.viewbarLayers}))}}]),t}(n.Component));a(520);function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).onClick=a.onClick.bind(Object(p.a)(a)),a.state={isToggledOn:!1,opacity:1},a.resolveThumbnail.bind(Object(p.a)(a)),a.getThumbnailByLayerType.bind(Object(p.a)(a)),a.guessLayerTypeByUrl.bind(Object(p.a)(a)),a.resolveThumbnail(),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"guessLayerTypeByUrl",value:function(){}},{key:"getThumbnailByLayerType",value:function(e){}},{key:"resolveThumbnail",value:function(){this.props.thumbnail_file&&(this.props.thumbnail_file.startsWith("http")?this.thumbnail_path=this.props.thumbnail_file:this.thumbnail_path="assets/images/"+this.props.thumbnail_file),this.props.type&&this.getThumbnailByLayerType(this.props.type)}},{key:"onClick",value:function(e){if(this.props.numberOfLayersOn!==L.a.maxLayers||this.state.isToggledOn){this.setState((function(e){return{isToggledOn:!e.isToggledOn,opacity:1}}));var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({opacity:1},this.props);delete t.onItemClick,delete t.isToggledOn,t.isToggledOn=!this.state.isToggledOn,this.props.onItemClick(t)}else window.vex.dialog.alert(L.a.maxLayersWarning.replace("{maxLayers}",L.a.maxLayers))}},{key:"render",value:function(){var e=this.props.display_name;return o.a.createElement("button",{className:this.state.isToggledOn?"item on":"item off",onClick:this.onClick,style:{backgroundImage:"url('"+this.thumbnail_path+"')"},id:this.props.id},o.a.createElement("div",{className:e.length>=10?"label long-title":"label"},e.length>=20?e.slice(0,21)+"...":e),o.a.createElement("div",{className:"button"}))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(d.a)(this,Object(u.a)(t).call(this,e)),j.b.add(M.j),j.b.add(M.k),a.onClick=a.onClick.bind(Object(p.a)(a)),a.state={isToggledOn:!1,opacity:1},a.modalType="AddLayerItem",a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(e){var t=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"inputGroup"},o.a.createElement("label",{className:"textInputLabel",htmlFor:"url"},"Url:"),o.a.createElement("textarea",{id:"addLayerItemUrl",name:"addLayerItemUrl",placeholder:"Enter the URL to your map/data.",onBlur:this.onBlur}),o.a.createElement(T,{tooltipName:L.a.tooltips.Url})),o.a.createElement("div",{className:"radioGroup"},o.a.createElement("label",{className:"radioGroupLabel",htmlFor:"layerType"},"Layer Type"),o.a.createElement("div",{className:"inputGroup"},o.a.createElement("input",{name:"layerType",id:"input-TileLayer",type:"radio",value:"TileLayer"}),o.a.createElement("label",{htmlFor:"input-TileLayer"},"TileLayer"),o.a.createElement(T,{tooltipName:L.a.tooltips.TileLayer})),o.a.createElement("div",{className:"inputGroup"},o.a.createElement("input",{name:"overlayType",id:"overlay-input-WMSTileLayer",type:"radio",value:"WMSTileLayer"}),o.a.createElement("label",{htmlFor:"input-WMSTileLayer"},"WMSTileLayer")),o.a.createElement("div",{className:"inputGroup"},o.a.createElement("input",{name:"layerType",id:"input-EsriTiledMapLayer",type:"radio",value:"EsriTiledMapLayer"}),o.a.createElement("label",{htmlFor:"input-EsriTiledMapLayer"},"EsriTiledMapLayer")),o.a.createElement("div",{className:"inputGroup"},o.a.createElement("input",{name:"layerType",id:"input-EsriDynamicMapLayer",type:"radio",value:"EsriDynamicMapLayer"}),o.a.createElement("label",{htmlFor:"input-EsriDynamicMapLayer"},"EsriDynamicMapLayer")),o.a.createElement("div",{className:"inputGroup"},o.a.createElement("input",{name:"layerType",id:"input-EsriFeatureLayer",type:"radio",value:"EsriFeatureLayer"}),o.a.createElement("label",{htmlFor:"input-EsriFeatureLayer"},"EsriFeatureLayer"),o.a.createElement(T,{tooltipName:L.a.tooltips.EsriFeatureLayer})),o.a.createElement("div",{className:"inputGroup"},o.a.createElement("input",{name:"layerType",id:"input-EsriImageLayer",type:"radio",value:"EsriImageLayer"}),o.a.createElement("label",{htmlFor:"input-EsriImageLayer"},"EsriImageLayer"))),o.a.createElement("div",{className:"inputGroup"},o.a.createElement("label",{className:"textInputLabel",htmlFor:"input-displayName"},"Display Name: "),o.a.createElement("input",{name:"displayName",id:"input-displayName",type:"text"}),o.a.createElement(T,{tooltipName:L.a.tooltips.DisplayName})),o.a.createElement("div",{className:"inputGroup"},o.a.createElement("label",{className:"textInputLabel",htmlFor:"input-thumbnailPath"},"Thumbnail Path: "),o.a.createElement("input",{name:"thumbnailPath",id:"input-thumbnailPath",type:"text"}),o.a.createElement(T,{tooltipName:L.a.tooltips.ThumbnailPath})));this.props.openModal("AddLayerItem",t)}},{key:"render",value:function(){return o.a.createElement("button",{className:"add-layer item background-black",onClick:this.onClick,title:"Add Layer",name:"Add Layer",id:"add-layer"},o.a.createElement("div",{className:"icon-label"},o.a.createElement("span",{className:"fa-layers fa-fw fa-5x"},o.a.createElement(w.a,{icon:"map"}),o.a.createElement(w.a,{icon:"plus",transform:"shrink-5",color:"white"}))))}}]),t}(J);a(521);j.b.add(M.a),j.b.add(M.b);var z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).onClick=a.onClick.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(e){this.props.onClick(this.props.direction)}},{key:"render",value:function(){var e="left"===this.props.direction?"angle-left":"angle-right";return o.a.createElement("div",{className:"ScrollButton "+this.props.direction,onClick:this.onClick},o.a.createElement("button",null,o.a.createElement(w.a,{icon:e,size:"lg"})))}}]),t}(n.Component),P=(a(522),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleItemClick=a.handleItemClick.bind(Object(p.a)(a)),a.handleScrollButtonClick=a.handleScrollButtonClick.bind(Object(p.a)(a)),a.scrollTo=a.scrollTo.bind(Object(p.a)(a)),a.onWheel=a.onWheel.bind(Object(p.a)(a)),a.easeInOutQuad=a.easeInOutQuad.bind(Object(p.a)(a)),a.state={},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleItemClick",value:function(e){var t=e.id,a=Object(A.cloneDeep)(this.state);a.layers.forEach((function(n,o){n.id===t&&(a.layers[o]=e)})),this.setState(a),this.props.onItemClick(e)}},{key:"handleScrollButtonClick",value:function(e){this.scrollTo(e,350)}},{key:"componentDidUpdate",value:function(e,t){if(this.props.newLayer){if(e.newLayer&&e.newLayer.id===this.props.newLayer.id)return;var a=this.props.newLayer,n=this.state.layers;n.push(a),this.setState({layers:n})}this.props.viewbarLayers&&this.props.viewbarLayers.length!==this.state.layers.length&&this.setState({layers:this.props.viewbarLayers})}},{key:"componentDidMount",value:function(e,t){this.setState({layers:this.props.viewbarLayers})}},{key:"onWheel",value:function(e){var t=document.getElementById("viewbarItems"),a=1===e.deltaMode?50*e.deltaY:e.deltaY;t.scrollLeft=t.scrollLeft+a}},{key:"scrollTo",value:function(e,t){var a=document.getElementById("viewbarItems"),n=a.scrollLeft,o=document.documentElement.clientWidth,r=Math.max(o/2,300),i="left"===e?-r:+r,l=0,s=this;!function e(){l+=20;var o=s.easeInOutQuad(l,n,i,t);a.scrollLeft=o,l<t&&setTimeout(e,20)}()}},{key:"easeInOutQuad",value:function(e,t,a,n){return(e/=n/2)<1?a/2*e*e+t:-a/2*(--e*(e-2)-1)+t}},{key:"render",value:function(){var e=this,t=this.state.layers||[];return o.a.createElement("footer",{className:"ViewBar-container bottom"},o.a.createElement(z,{direction:"left",onClick:this.handleScrollButtonClick}),o.a.createElement("div",{onWheel:this.onWheel,onScroll:this.onScroll,scrollleft:this.state.scrollLeft,className:"flip-move",id:"viewbarItems"},t.map((function(t){return o.a.createElement(J,Object.assign({numberOfLayersOn:e.props.numberOfLayersOn,key:t.id,onItemClick:e.handleItemClick},t))})),o.a.createElement(N,{numberOfLayersOn:this.props.numberOfLayersOn,openModal:this.props.openModal,closeModal:this.props.closeModal,addLayer:this.addLayer})),o.a.createElement(z,{direction:"right",onClick:this.handleScrollButtonClick}))}}]),t}(n.Component)),Y=a(158),H=a.n(Y);a(530),a(531),a(532);H.a.setAppElement("#root");var K=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).formatContent=a.formatContent.bind(Object(p.a)(a)),a.afterOpenModal=a.afterOpenModal.bind(Object(p.a)(a)),a.gatherValues=a.gatherValues.bind(Object(p.a)(a)),a.handleCloseModal=a.handleCloseModal.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.ref=o.a.createRef(null),a.getParent=a.getParent.bind(Object(p.a)(a)),a.state={},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"formatContent",value:function(e,t){return o.a.createElement("div",{id:"modalContent"},t)}},{key:"afterOpenModal",value:function(){this.props.rebuildTooltip(!0)}},{key:"getParent",value:function(){return document.querySelector("#modalRoot")}},{key:"gatherValues",value:function(e){var t={};switch(e){case"AddLayerItem":return t.type=document.querySelectorAll("input:checked[name='layerType']"),t.type=t.type.length>0?t.type[0].value:null,t.url=document.getElementById("addLayerItemUrl"),null===t.url?null:(t.url=""===t.url.value?null:t.url.value,t.display_name=document.querySelectorAll("input[name='displayName']"),t.display_name=t.display_name.length>0?t.display_name[0].value:null,t.thumbnail_file=document.querySelectorAll("input[name='thumbnailPath']"),t.thumbnail_file=t.thumbnail_file.length>0?t.thumbnail_file[0].value:null,t);case"AddOverlay":return t.type=document.querySelectorAll("input:checked[name='overlayType']"),t.type=t.type.length>0?t.type[0].value:null,t.url=document.getElementById("addOverlayUrl"),null===t.url?null:(t.url=""===t.url.value?null:t.url.value,t.display_name=document.querySelectorAll("input[name='overlayDisplayName']"),t.display_name=t.display_name.length>0?t.display_name[0].value:null,t);default:return}}},{key:"handleCloseModal",value:function(){var e=this.ref.current.node.children[0].children[0];console.log(e),this.props.closeModal()}},{key:"handleSubmit",value:function(){var e=this.props.modalType,t=this.gatherValues(e);null!==t.url?null!==t.type?(this.props.modalSubmit(e,t),this.props.closeModal()):alert("Type is required."):alert("Url is required")}},{key:"render",value:function(){var e=this.formatContent(this.props.modalType,this.props.modalContent),t=this.props.modalOptions||{};return o.a.createElement(H.a,{id:"modalContainer",ref:this.ref,closeTimeoutMS:500,className:"Modal-Content",key:"modal",isOpen:this.props.isOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.handleCloseModal,parentSelector:this.getParent,contentLabel:"Modal"},e,!t.noSubmit&&o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{onClick:this.handleCloseModal},"Cancel"),o.a.createElement("button",{onClick:this.handleSubmit},"OK")),t.noSubmit&&o.a.createElement("button",{onClick:this.handleCloseModal},"OK"))}}]),t}(n.Component),_=a(127),Z=a.n(_),W=(a(545),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).onChange=a.onChange.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"resetRebuildTooltip",value:function(){this.props.resetRebuildTooltip(!1)}},{key:"componentDidUpdate",value:function(e,t){!0===this.props.rebuildTooltip&&(Z.a.rebuild(),this.resetRebuildTooltip())}},{key:"onChange",value:function(){}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Z.a,{className:"superHighZIndex",effect:"solid",id:"modal",place:"right",multiline:!0,globalEventOff:"click"}),o.a.createElement(Z.a,{effect:"solid",id:"home"}))}}]),t}(n.Component)),V=a(254),q=a(99),X=a(234),$=a(233),ee=a(231),te=a(232),ae=a(248),ne=a.n(ae),oe=a(15),re=a.n(oe),ie=a(84),le=a(6),se=a(68),ce=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"createLeafletElement",value:function(e){return Object(se.d)(e)}}]),t}(ie.a);ce.propTypes={url:re.a.string.isRequired};var de=Object(le.d)(ce),ue=a(43);function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var me=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"createLeafletElement",value:function(e){var t=he({},e,{f:"image"}),a=Object(se.a)(t);return this.contextValue=he({},e.leaflet,{popupContainer:a}),a}},{key:"updateLeafletElement",value:function(e,t){t.url!==e.url&&this.leafletElement.setUrl(t.url)}}]),t}(ue.a),ye=Object(le.d)(me);function Ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ae(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ae(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var fe=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"createLeafletElement",value:function(e){var t=be({},e),a=Object(se.b)(t);return this.contextValue=be({},e.leaflet,{popupContainer:a}),a}},{key:"updateLeafletElement",value:function(e,t){t.url!==e.url&&this.leafletElement.setUrl(t.url)}}]),t}(ue.a),ge=Object(le.d)(fe);function ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ve(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ee=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"createLeafletElement",value:function(e){var t=Oe({},e),a=Object(se.c)(t);return this.contextValue=Oe({},e.leaflet,{popupContainer:a}),a}},{key:"updateLeafletElement",value:function(e,t){t.url!==e.url&&this.leafletElement.setUrl(t.url)}}]),t}(ue.a),Ce=Object(le.d)(Ee),Le=a(54),ke=a(159);a(548);!function(){var e,t=window.console||{error:function(){},warn:function(){}};(e=E.a).Control.Loading=e.Control.extend({options:{delayIndicator:null,position:"topleft",separate:!1,zoomControl:null,spinjs:!1,spin:{lines:7,length:3,width:3,radius:5,rotate:13,top:"83%"}},initialize:function(t){e.setOptions(this,t),this._dataLoaders={},null!==this.options.zoomControl&&(this.zoomControl=this.options.zoomControl)},onAdd:function(a){if(this.options.spinjs&&"function"!==typeof ke.a)return t.error("Leaflet.loading cannot load because you didn't load spin.js (http://fgnass.github.io/spin.js/), even though you set it in options.");this._addLayerListeners(a),this._addMapListeners(a),this.options.separate||this.zoomControl||(a.zoomControl?this.zoomControl=a.zoomControl:a.zoomsliderControl&&(this.zoomControl=a.zoomsliderControl));var n,o="leaflet-control-loading";return this.zoomControl&&!this.options.separate?(n=this.zoomControl._container,o+=" leaflet-bar-part-bottom leaflet-bar-part last",e.DomUtil.addClass(this._getLastControlButton(),"leaflet-bar-part-bottom")):n=e.DomUtil.create("div","leaflet-control-zoom leaflet-control-layer-container leaflet-bar"),this._indicatorContainer=n,this._indicator=e.DomUtil.create("a",o,n),this.options.spinjs&&(this._spinner=new ke.a(this.options.spin).spin(),this._indicator.appendChild(this._spinner.el)),n},onRemove:function(e){this._removeLayerListeners(e),this._removeMapListeners(e)},removeFrom:function(t){return this.zoomControl&&!this.options.separate?(this._container.removeChild(this._indicator),this._map=null,this.onRemove(t),this):e.Control.prototype.removeFrom.call(this,t)},addLoader:function(e){if(this._dataLoaders[e]=!0,this.options.delayIndicator&&!this.delayIndicatorTimeout){var t=this;this.delayIndicatorTimeout=setTimeout((function(){t.updateIndicator(),t.delayIndicatorTimeout=null}),this.options.delayIndicator)}else this.updateIndicator()},removeLoader:function(e){delete this._dataLoaders[e],this.updateIndicator(),this.options.delayIndicator&&this.delayIndicatorTimeout&&!this.isLoading()&&(clearTimeout(this.delayIndicatorTimeout),this.delayIndicatorTimeout=null)},updateIndicator:function(){this.isLoading()?this._showIndicator():this._hideIndicator()},isLoading:function(){return this._countLoaders()>0},_countLoaders:function(){var e,t=0;for(e in this._dataLoaders)this._dataLoaders.hasOwnProperty(e)&&t++;return t},_showIndicator:function(){e.DomUtil.addClass(this._indicator,"is-loading"),e.DomUtil.addClass(this._indicatorContainer,"is-loading"),this.options.separate||(this.zoomControl instanceof e.Control.Zoom?e.DomUtil.removeClass(this._getLastControlButton(),"leaflet-bar-part-bottom"):"function"===typeof e.Control.Zoomslider&&this.zoomControl instanceof e.Control.Zoomslider&&e.DomUtil.removeClass(this.zoomControl._ui.zoomOut,"leaflet-bar-part-bottom"))},_hideIndicator:function(){e.DomUtil.removeClass(this._indicator,"is-loading"),e.DomUtil.removeClass(this._indicatorContainer,"is-loading"),this.options.separate||(this.zoomControl instanceof e.Control.Zoom?e.DomUtil.addClass(this._getLastControlButton(),"leaflet-bar-part-bottom"):"function"===typeof e.Control.Zoomslider&&this.zoomControl instanceof e.Control.Zoomslider&&e.DomUtil.addClass(this.zoomControl._ui.zoomOut,"leaflet-bar-part-bottom"))},_getLastControlButton:function(){for(var e=this.zoomControl._container,t=e.children.length-1;t>0;){var a=e.children[t];if(this._indicator!==a&&0!==a.offsetWidth&&0!==a.offsetHeight)break;t--}return e.children[t]},_handleLoading:function(e){this.addLoader(this.getEventId(e))},_handleBaseLayerChange:function(t){var a=this;t.layer&&t.layer.eachLayer&&"function"===typeof t.layer.eachLayer?t.layer.eachLayer((function(e){a._handleBaseLayerChange({layer:e})})):e.TileLayer.Canvas&&t.layer instanceof e.TileLayer.Canvas||a._handleLoading(t)},_handleLoad:function(e){this.removeLoader(this.getEventId(e))},getEventId:function(e){return e.id?e.id:e.layer?e.layer._leaflet_id:e.target._leaflet_id},_layerAdd:function(e){if(e.layer&&e.layer.on)try{e.layer.on({loading:this._handleLoading,load:this._handleLoad},this)}catch(a){t.warn("L.Control.Loading: Tried and failed to add  event handlers to layer",e.layer),t.warn("L.Control.Loading: Full details",a)}},_layerRemove:function(e){if(e.layer&&e.layer.off)try{e.layer.off({loading:this._handleLoading,load:this._handleLoad},this)}catch(a){t.warn("L.Control.Loading: Tried and failed to remove event handlers from layer",e.layer),t.warn("L.Control.Loading: Full details",a)}},_addLayerListeners:function(e){e.eachLayer((function(e){e.on&&e.on({loading:this._handleLoading,load:this._handleLoad},this)}),this),e.on("layeradd",this._layerAdd,this),e.on("layerremove",this._layerRemove,this)},_removeLayerListeners:function(e){e.eachLayer((function(e){e.off&&e.off({loading:this._handleLoading,load:this._handleLoad},this)}),this),e.off("layeradd",this._layerAdd,this),e.off("layerremove",this._layerRemove,this)},_addMapListeners:function(e){e.on({baselayerchange:this._handleBaseLayerChange,dataloading:this._handleLoading,dataload:this._handleLoad,layerremove:this._handleLoad},this)},_removeMapListeners:function(e){e.off({baselayerchange:this._handleBaseLayerChange,dataloading:this._handleLoading,dataload:this._handleLoad,layerremove:this._handleLoad},this)}}),e.Map.addInitHook((function(){this.options.loadingControl&&(this.loadingControl=new e.Control.Loading,this.addControl(this.loadingControl))})),e.Control.loading=function(t){return new e.Control.Loading(t)}}();a(549),a(550);var je=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"createLeafletElement",value:function(e){var t=e.opts;return new E.a.Control.Loading(t)}}]),t}(Le.a),we=Object(le.d)(je);a(551),a(552),a(553);j.b.add(M.g);var Me=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.provided,a=e.display_name;return o.a.createElement("div",{className:a.length>=10?"Handle map-title long-title":"Handle map-title"},o.a.createElement("span",Object.assign({className:"Handle-span"},t.dragHandleProps),o.a.createElement(w.a,{className:"Handle-drag-icon",icon:"grip-vertical",size:"1x"})),"\xa0",a)}}]),t}(o.a.Component),Te=function(e){function t(e,a){var n;Object(s.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).mapboxToken=C.mapboxToken,n.labelLayerUrl=C.labelLayerUrl+n.mapboxToken;var o={center:C.mapDefaultCenter,zoom:C.mapDefaultZoom};return n.viewport=o,n.invalidateMapSizes=n.invalidateMapSizes.bind(Object(p.a)(n)),n.syncMaps=n.syncMaps.bind(Object(p.a)(n)),n.unsyncMaps=n.unsyncMaps.bind(Object(p.a)(n)),n.moveend=n.moveend.bind(Object(p.a)(n)),n.onViewportChanged=n.onViewportChanged.bind(Object(p.a)(n)),n.passUpRef=n.passUpRef.bind(Object(p.a)(n)),n.onResize=n.onResize.bind(Object(p.a)(n)),n.onGeocodeClick=n.onGeocodeClick.bind(Object(p.a)(n)),n.bboxStringToLatLngBoundsArray=n.bboxStringToLatLngBoundsArray.bind(Object(p.a)(n)),n.checkLayerBounds=n.checkLayerBounds.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){this.passUpRef(this.props.layer.id,this.props.mapRef,!0)}},{key:"componentDidMount",value:function(e,t){this.passUpRef(this.props.layer.id,this.props.mapRef)}},{key:"componentDidUpdate",value:function(e,t){e.layer.visibleIndex,this.props.layer.visibleIndex}},{key:"onResize",value:function(e){}},{key:"moveend",value:function(e){}},{key:"invalidateMapSizes",value:function(){this.props.invalidateMapSizes()}},{key:"unsyncMaps",value:function(e){this.props.unsyncMaps(e)}},{key:"syncMaps",value:function(){this.props.syncMaps()}},{key:"passUpRef",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.props.passUpRef(e,t,a)}},{key:"bboxStringToLatLngBoundsArray",value:function(){var e=this.props.layer.startBounds.split(",");return[[e[1],e[0]],[e[3],e[2]]]}},{key:"checkLayerBounds",value:function(){return this.props.layer.startBounds?this.bboxStringToLatLngBoundsArray():null}},{key:"clearGeocode",value:function(){this.props.clearGeocode()}},{key:"onGeocodeClick",value:function(){this.clearGeocode()}},{key:"onViewportChanged",value:function(e){this.viewport=e}},{key:"render",value:function(){var e={EsriFeatureLayer:ge,EsriTiledMapLayer:de,EsriImageLayer:Ce,EsriDynamicMapLayer:ye,WMSTileLayer:X.a,TileLayer:$.a,WMTSTileLayer:ne.a},t=this.props.overlays,a=this.props.layer,n=e[a.type],r=this.props.provided;return o.a.createElement("div",Object.assign({},r.draggableProps,{ref:r.innerRef}),o.a.createElement(Me,{provided:r,display_name:a.display_name}),o.a.createElement(ee.a,{ref:this.props.mapRef,minZoom:C.mapMinZoom,bounds:this.checkLayerBounds(),onResize:this.onResize,maxZoom:a.maxZoom,onViewportChanged:this.onViewportChanged,className:"map"+this.props.numberLayers+(this.props.isDragging?"dragging":"nope"),id:a.id,key:a.id,viewport:this.viewport,zoomControlAdded:!0,loadingControl:!0},o.a.createElement(we,{opts:{position:"bottomleft",spinjs:!0,separate:!0,delayIndicator:400,spin:{lines:15,length:10,width:3,radius:15,color:"#ffffff",left:"100%",top:"-25%",fadeColor:"black",shadow:"0 0 5px black"}}}),this.props.geocodeResult&&o.a.createElement(te.a,{position:this.props.geocodeResult,onClick:this.onGeocodeClick}),this.props.labelLayerOn&&o.a.createElement($.a,{key:"labels-"+a.id,url:this.labelLayerUrl,pane:"shadowPane",zIndex:1e6}),this.props.overlays.length>0&&o.a.createElement((function(){return o.a.createElement(o.a.Fragment,null,t.map((function(t){var a=e[t.type];return o.a.createElement(a,Object.assign({url:t.url,key:t.id,zIndex:1e5,pane:"overlayPane"},t))})))}),null),o.a.createElement(n,Object.assign({key:a.id},a))))}}]),t}(n.Component),Se=o.a.forwardRef((function(e,t){return o.a.createElement(Te,Object.assign({mapRef:t},e))})),Ie=(a(554),function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.provided,n=t.layers,r=n.map((function(t,a){return o.a.createElement(q.b,{draggableId:"draggable-"+t.id,key:"draggable-"+t.id,index:a},(function(r,i){return o.a.createElement(Se,{layer:t,overlays:e.props.overlays,numberLayers:n.length,innerRef:r.innerRef,key:t.id,layerIndex:a,provided:r,isDragging:i.isDragging,passUpRef:e.props.passUpRef,mapRef:e.props.mapRef,syncMaps:e.props.syncMaps,geocodeResult:e.props.geocodeResult,clearGeocode:e.props.clearGeocode,unsyncMaps:e.props.unsyncMaps,labelLayerOn:e.props.labelLayerOn,invalidateMapSizes:e.props.invalidateMapSizes})}))}));return o.a.createElement("div",Object.assign({className:this.props.className,ref:a.innerRef},a.droppableProps),r,a.placeholder)}}]),t}(o.a.Component)),Re=o.a.forwardRef((function(e,t){return o.a.createElement(Ie,Object.assign({mapRef:t},e))})),Ue=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).onDragEnd=a.onDragEnd.bind(Object(p.a)(a)),a.setMapRef=a.setMapRef.bind(Object(p.a)(a)),a.syncMaps=a.syncMaps.bind(Object(p.a)(a)),a.unsyncMaps=a.unsyncMaps.bind(Object(p.a)(a)),a.invalidateMapSizes=a.invalidateMapSizes.bind(Object(p.a)(a)),a.handleGeocode=a.handleGeocode.bind(Object(p.a)(a)),a.clearGeocode=a.clearGeocode.bind(Object(p.a)(a)),a.state={mapRefs:{}},a.passUpRef=a.passUpRef.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"passUpRef",value:function(e,t,a){var n={mapRefs:this.state.mapRefs};a?(this.unsyncMaps(e),delete n.mapRefs[e],this.setState(n)):(this.manageZoomControls(),this.syncMaps()),this.invalidateMapSizes()}},{key:"setMapRef",value:function(e){var t={mapRefs:this.state.mapRefs};e&&(t.mapRefs[e.container.id]=e,this.setState(t))}},{key:"onDragEnd",value:function(e){if(null!==e.destination){var t,a,n=this.props.layers,o=e.source.droppableId,r=e.destination.droppableId;t="row2"===o?n.filter((function(e){return"row1"===e.row})).length+e.source.index:e.source.index,a="row2"===r?n.filter((function(e){return"row1"===e.row})).length+e.destination.index:e.destination.index;var i=n.filter((function(e){return e.isToggledOn}));v(i,t,a),this.props.updateLayerDisplayIndexesAndRows(i)}}},{key:"manageZoomControls",value:function(){var e,t=this.state.mapRefs,a=this.props.layers;for(var n in t)e=t[n].leafletElement,0===a[g(a,"id",n)].visibleIndex?(e.removeControl(e.zoomControl),e.addControl(e.zoomControl)):e.removeControl(e.zoomControl)}},{key:"invalidateMapSizes",value:function(){var e=this.state.mapRefs;for(var t in e)e[t].leafletElement.invalidateSize()}},{key:"unsyncMaps",value:function(e){var t=this.state.mapRefs;for(var a in t)a!==e&&t[e]&&(t[e].leafletElement.unsync(t[a].leafletElement),t[a].leafletElement.unsync(t[e].leafletElement))}},{key:"syncMaps",value:function(){var e=this.state.mapRefs;for(var t in e)for(var a in e)t===a||e[t].leafletElement.isSynced(e[a].leafletElement)||e[t].leafletElement.sync(e[a].leafletElement,{syncCursor:!0})}},{key:"clearGeocode",value:function(){this.setState({geocodeResult:!1})}},{key:"handleGeocode",value:function(e){var t=Object.entries(this.state.mapRefs)[0][1],a=this.props.geocodeResult.geocode.bbox,n=this.props.geocodeResult.geocode.center;a._northEast.lat!==a._southWest.lat?t.leafletElement.fitBounds(a):t.leafletElement.setView(n,15),this.setState({geocodeResult:n}),setTimeout(this.clearGeocode,2e3)}},{key:"componentDidUpdate",value:function(e,t){var a=e.layers,n=this.props.layers;a.filter((function(e){return e.isToggledOn})).length!==n.filter((function(e){return e.isToggledOn})).length?this.invalidateMapSizes():function(e,t){for(var a=!0,n=e.length;n--;)e[n]!==t[n]&&(a=!1);return a}(a,n)||setTimeout(this.invalidateMapSizes,400),a.length!==n.length||Object(A.isEqual)(a.map((function(e){return e.display_name+e.visibleIndex.toString()})),n.map((function(e){return e.display_name+e.visibleIndex.toString()})))||this.manageZoomControls(),e.geocodeResult!==this.props.geocodeResult&&this.handleGeocode(this.props.geocodeResult)}},{key:"render",value:function(){var e=this,t=this.props.layers.filter((function(e){return e.isToggledOn})),a=[];t.forEach((function(e){a.push(e.row)})),a=new Set(a),a=Object(V.a)(a);var n=t.filter((function(e){return"row1"===e.row}));n.sort((function(e,t){return e.visibleIndex-t.visibleIndex}));var r=t.filter((function(e){return"row2"===e.row}));r.sort((function(e,t){return e.visibleIndex-t.visibleIndex}));var i=a.map((function(t,i){return o.a.createElement(q.c,{droppableId:t,key:t,direction:"horizontal"},(function(i,l){return o.a.createElement(Re,{className:"Row "+t+(2===a.length?" two-rows":""),provided:i,snapshot:l,passUpRef:e.passUpRef,geocodeResult:e.state.geocodeResult,clearGeocode:e.clearGeocode,mapRef:e.setMapRef,innerRef:i.innerRef,syncMaps:e.syncMaps,labelLayerOn:e.props.labelLayerOn,unsyncMaps:e.unsyncMaps,invalidateMapSizes:e.invalidateMapSizes,overlays:e.props.overlays,layers:"row1"===t?n:r})}))}));return o.a.createElement("div",{id:"maps"},o.a.createElement(q.a,{onDragEnd:this.onDragEnd},i))}}]),t}(n.Component),Be=o.a.forwardRef((function(e,t){return o.a.createElement(Ue,Object.assign({mapRef:t},e))}));a(590);function Fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var xe=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleItemClick=a.handleItemClick.bind(Object(p.a)(a)),a.transmitGeocode=a.transmitGeocode.bind(Object(p.a)(a)),a.toggleFullscreen=a.toggleFullscreen.bind(Object(p.a)(a)),a.toggleLabels=a.toggleLabels.bind(Object(p.a)(a)),a.toggleModal=a.toggleModal.bind(Object(p.a)(a)),a.toggleSpinner=a.toggleSpinner.bind(Object(p.a)(a)),a.rebuildTooltip=a.rebuildTooltip.bind(Object(p.a)(a)),a.openModal=a.openModal.bind(Object(p.a)(a)),a.closeModal=a.closeModal.bind(Object(p.a)(a)),a.modalSubmit=a.modalSubmit.bind(Object(p.a)(a)),a.calculateDisplayIndexes=a.calculateDisplayIndexes.bind(Object(p.a)(a)),a.calculateRowLayers=a.calculateRowLayers.bind(Object(p.a)(a)),a.updateLayerDisplayIndexesAndRows=a.updateLayerDisplayIndexesAndRows.bind(Object(p.a)(a)),a.addOverlay=a.addOverlay.bind(Object(p.a)(a)),a.deleteOverlay=a.deleteOverlay.bind(Object(p.a)(a)),a.addLayer=a.addLayer.bind(Object(p.a)(a)),a.state={layers:[],overlays:L.a.defaultOverlays||[],numberOfLayersOn:0,geocodeResult:{},labelLayerOn:!0,showSpinner:!1,rebuildTooltip:!1,modalIsOpen:!1,modalContent:""};var n=window.LayersInfo.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fe(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{isToggledOn:!1,id:f.a.generate()})}));return a.state.viewbarLayers=n.sort((function(e,t){return t.sortVal-e.sortVal})),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"transmitGeocode",value:function(e){this.setState({geocode:e})}},{key:"toggleFullscreen",value:function(){var e=this.state.isFullscreenEnabled;this.setState({isFullscreenEnabled:!e})}},{key:"toggleLabels",value:function(){console.log("toggleLabels");var e=this.state.labelLayerOn;this.setState({labelLayerOn:!e})}},{key:"toggleSpinner",value:function(e){this.setState({showSpinner:e})}},{key:"toggleModal",value:function(e){this.setState({modalIsOpen:e})}},{key:"modalSubmit",value:function(e,t){switch(console.log(e),console.log(t),e){case"AddLayerItem":this.addLayer(t);break;case"AddOverlay":this.addOverlay(t);break;default:console.log("mooooo")}}},{key:"renderModal",value:function(){}},{key:"openModal",value:function(e,t,a){this.setState({modalType:e,modalContent:t,modalOptions:a}),this.toggleModal(!0)}},{key:"closeModal",value:function(){this.toggleModal(!1)}},{key:"rebuildTooltip",value:function(e){console.log("rebuildTooltip",e),this.setState({rebuildTooltip:e})}},{key:"addOverlay",value:function(e){var t=Object(A.cloneDeep)(this.state.overlays),a=e;a.isOverlay=!0,a.id=f.a.generate(),t.push(a),this.setState({overlays:t})}},{key:"deleteOverlay",value:function(e){var t=e.currentTarget.dataset.overlayId;document.getElementById(t).style.display="none";var a=Object(A.cloneDeep)(this.state.overlays),n=g(a,"id",t);a.splice(n,1),this.setState({overlays:a})}},{key:"addLayer",value:function(e){console.log(e);var t=e,a=f.a.generate();t.id=a,t.maxZoom=20;var n={viewbarLayers:this.state.viewbarLayers};n.viewbarLayers.push(t),this.setState(n)}},{key:"handleItemClick",value:function(e){var t,a=!1,n=Object(A.cloneDeep)(this.state.layers);n.forEach((function(n,o){e.id===n.id&&(a=!0,t=o)})),a?(n[t].isToggledOn=!this.state.layers[t].isToggledOn,v(n,t,n.length-1)):n=n.concat([e]),n=this.calculateDisplayIndexes(n);var o=(n=this.calculateRowLayers(n)).filter((function(e){return e.isToggledOn})).length,r={layers:n,numberOfLayersOn:o};this.setState(r)}},{key:"updateLayerDisplayIndexesAndRows",value:function(e){var t=Object(A.cloneDeep)(this.state.layers);e.forEach((function(e,a){var n=g(t,"id",e.id);t[n].visibleIndex=a})),t=this.calculateRowLayers(t),this.setState({layers:t})}},{key:"calculateDisplayIndexes",value:function(e){var t=0;return e.map((function(e){return e.isToggledOn&&(e.visibleIndex=t,t++),e}))}},{key:"calculateRowLayers",value:function(e){var t=e.filter((function(e){return e.isToggledOn})),a=t.length;switch(t.sort((function(e,t){return e.visibleIndex-t.visibleIndex})),a){case 1:case 2:case 3:t.forEach((function(e){return e.row="row1"}));break;case 4:t.slice(0,2).forEach((function(e){return e.row="row1"})),t.slice(2).forEach((function(e){return e.row="row2"}));break;case 5:case 6:t.slice(0,3).forEach((function(e){return e.row="row1"})),t.slice(3).forEach((function(e){return e.row="row2"}));break;case 7:case 8:t.slice(0,4).forEach((function(e){return e.row="row1"})),t.slice(4).forEach((function(e){return e.row="row2"}))}return t}},{key:"render",value:function(){var e=this;return o.a.createElement(y.a,{enabled:this.state.isFullscreenEnabled,onChange:function(t){return e.setState({isFullscreenEnabled:t})}},o.a.createElement("div",{id:"modalRoot"}),o.a.createElement("div",{id:"spinna"}),o.a.createElement("div",{className:"App"},o.a.createElement(K,{isOpen:this.state.modalIsOpen,toggleSpinner:this.toggleSpinner,openModal:this.openModal,closeModal:this.closeModal,modalSubmit:this.modalSubmit,modalContent:this.state.modalContent,modalType:this.state.modalType,modalOptions:this.state.modalOptions,rebuildTooltip:this.rebuildTooltip}),o.a.createElement("header",{className:"App-header"},C.siteTitle),o.a.createElement(W,{rebuildTooltip:this.state.rebuildTooltip,resetRebuildTooltip:this.rebuildTooltip}),0===this.state.numberOfLayersOn&&o.a.createElement("div",{className:"no-maps"},o.a.createElement("p",null,C.welcomeText)),this.state.numberOfLayersOn>0&&o.a.createElement(Be,{layers:this.state.layers,overlays:this.state.overlays,mapCenter:this.mapCenter,geocodeResult:this.state.geocode,labelLayerOn:this.state.labelLayerOn,numberOfLayersOn:this.state.numberOfLayersOn,updateLayerDisplayIndexesAndRows:this.updateLayerDisplayIndexesAndRows}),this.state.numberOfLayersOn>0&&o.a.createElement(D,{transmitGeocode:this.transmitGeocode,toggleFullscreen:this.toggleFullscreen,toggleLabels:this.toggleLabels,labelLayerOn:this.state.labelLayerOn,isFullscreenEnabled:this.state.isFullscreenEnabled,overlays:this.state.overlays,viewbarLayers:this.state.viewbarLayers,addOverlay:this.addOverlay,deleteOverlay:this.deleteOverlay,openModal:this.openModal,closeModal:this.closeModal}),o.a.createElement(P,{onItemClick:this.handleItemClick,numberOfLayersOn:this.state.numberOfLayersOn,toggleModal:this.toggleModal,openModal:this.openModal,closeModal:this.closeModal,viewbarLayers:this.state.viewbarLayers,newLayer:this.state.newLayer})))}}]),t}(n.Component),Ge=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function De(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Qe=a(253);Object(Qe.a)({}),i.a.render(o.a.createElement(xe,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/sideby",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/sideby","/service-worker.js");Ge?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):De(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):De(e)}))}}()}},[[255,1,2]]]);
//# sourceMappingURL=main.1a1f5c87.chunk.js.map