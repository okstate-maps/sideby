{"version":3,"sources":["LayersInfo.js","Config.js","Geocoder/images/geocoder.png","Geocoder/images/throbber.gif","Util.js","Geocoder.js","AddOverlay.js","UtilityBar.js","Item.js","AddLayerItem.js","ScrollButton.js","ViewBar.js","Modal.jsx","EsriTiledMapLayer.js","EsriDynamicMapLayer.js","EsriFeatureLayer.js","MapWrapper.js","RowContainer.js","MapsContainer.js","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","moveWithinArray","array","from","to","splice","Geocoder","props","mapboxToken","Config","that","this","map","L","geocoderObj","Control","Mapbox","addTo","on","e","transmitGeocode","container","getContainer","window","document","getElementById","appendChild","geocode","id","className","Component","AddOverlay","library","add","faLayerPlus","faLayerGroup","onClick","bind","vex","dialog","open","message","input","join","callback","data","console","log","addOverlay","overlays","length","icon","size","faExpand","faCompress","UtilityBar","defaultChecked","labelLayerOn","name","type","onChange","toggleLabels","htmlFor","numberOfLayersOn","toggleFullscreen","isFullscreenEnabled","Item","state","isToggledOn","opacity","resolveThumbnail","getThumbnailByLayerType","guessLayerTypeByUrl","layerType","thumbnail_file","startsWith","thumbnail_path","maxLayers","setState","prevState","onItemClick","alert","maxLayersWarning","replace","dispName","display_name","style","backgroundImage","slice","lastIndexOf","AddLayerItem","faMap","faPlus","modalContent","value","openModal","transform","faAngleLeft","faAngleRight","ScrollButton","direction","arrow","ViewBar","handleItemClick","handleScrollButtonClick","addLayer","scrollTo","onWheel","easeInOutQuad","newState","cloneDeep","layers","forEach","lyr","index","scrollDirection","new_layer","sortVal","maxZoom","push","new_layer_data","prevProps","LayersInfo","item","sort","a","b","elem","scrollSize","deltaMode","deltaY","preventDefault","scrollLeft","duration","start","clientWidth","documentElement","moveSize","Math","max","change","currentTime","animateScroll","val","setTimeout","t","c","d","items","onScroll","scrollleft","key","closeModal","ReactModal","setAppElement","Modal","formatContent","afterOpenModal","handleCloseModal","ref","React","createRef","modalType","modal","current","node","children","content","closeTimeoutMS","isOpen","onAfterOpen","onRequestClose","contentLabel","EsriTiledMapLayer","tiledMapLayer","GridLayer","propTypes","url","PropTypes","string","isRequired","withLeaflet","EsriDynamicMapLayer","options","el","dynamicMapLayer","contextValue","leaflet","popupContainer","fromProps","toProps","leafletElement","setUrl","MapLayer","EsriFeatureLayer","featureLayer","faGripVertical","Handle","provided","dragHandleProps","MapWrapper","context","labelLayerUrl","DEFAULT_VIEWPORT","center","mapDefaultCenter","zoom","mapDefaultZoom","viewport","invalidateMapSizes","syncMaps","unsyncMaps","moveend","onViewportChanged","passUpRef","onResize","onGeocodeClick","layer","mapRef","nextProps","ref_id","deleteRef","clearGeocode","layer_components","WMSTileLayer","TileLayer","Layer","draggableProps","innerRef","Map","minZoom","mapMinZoom","numberLayers","layerIndex","isDragging","geocodeResult","Marker","position","pane","zIndex","Fragment","Overlay","forwardRef","RowContainer","maps","draggableId","snapshot","droppableProps","placeholder","MapsContainer","onDragEnd","setMapRef","handleGeocode","mapRefs","DOMNode","draggedLayer","destination","currentLayerIndex","destinationIndex","allLayers","currentRow","source","droppableId","destRow","filter","i","row","allTurnedOnLayers","updateLayerDisplayIndexesAndRows","invalidateSize","unsync","j","isSynced","sync","syncCursor","randomMap","Object","entries","bbox","fitBounds","array1","array2","arraysAreEqual","compareArrays","numberRows","Set","row1Layers","visibleIndex","row2Layers","rows","App","toggleModal","toggleSpinner","calculateDisplayIndexes","calculateRowLayers","Vex","registerPlugin","plugin","defaultOptions","current_val","curr","bool","isOverlay","foundIdx","found","newStateLayers","concat","newNumberOfLayersOn","newLayers","lyrIndex","attr","findWithAttr","visibleLayers","enabled","siteTitle","modalIsOpen","welcomeText","mapCenter","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","cssVars","ReactDOM","render","URL","process","origin","addEventListener","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.194076ec.chunk.js","sourcesContent":["/*\r\n\r\nEach layer has the following required values:\r\n\r\n\tsortVal {numeric}: value to be used to determine the value used for sort order.\r\n\ttype {string}: The Leaflet layer type. Values can be WMSTileLayer, EsriTiledMapLayer, EsriDynamicMapLayer, TileLayer, and others.\r\n\t\tSee Leaflet documentation for others. Esri Leaflet has more also, but they need porting to leaflet-react.\r\n\tid {string}: A unique identifier used to keep React happy.\r\n\tdisplay_name {string}: What you want to be displayed over the layer's selection tile. Keep it short!\r\n\turl {string}: The url to the service\r\n\r\n*/\r\nmodule.exports = [\r\n      {\r\n        \"type\": \"TileLayer\",\r\n        \"id\": \"usa4\",\r\n        \"display_name\": \"USA 4\",\r\n        \"url\": \"https://mapwarper.net/maps/tile/34156/{z}/{x}/{y}.png\",\r\n        \"thumbnail_file\": \"mapwarper_34156.JPG\"\r\n      },  \r\n\r\n      {\r\n        \"url\":\"https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer\",\r\n        \"type\":\"EsriTiledMapLayer\",\r\n        \"id\":\"USGSImageryOnly\",\r\n        \"display_name\": \"Base Map\",\r\n        \"thumbnail_file\": \"https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/info/thumbnail\"\r\n      },\r\n\r\n      {\r\n        \"type\": \"TileLayer\",\r\n        \"id\": \"osuOrange\",\r\n        \"display_name\": \"Orange\",\r\n        \"thumbnail_file\": \"https://api.mapbox.com/styles/v1/krdyke/cj9slcunc24xi2sqpg7xnsigk/static/-97,38,2,0,0/300x200@2x?access_token=pk.eyJ1Ijoia3JkeWtlIiwiYSI6Ik15RGcwZGMifQ.IR_NpAqXL1ro8mFeTIdifg\",\r\n        \"url\": \"https://api.mapbox.com/styles/v1/krdyke/cj9slcunc24xi2sqpg7xnsigk/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1Ijoia3JkeWtlIiwiYSI6Ik15RGcwZGMifQ.IR_NpAqXL1ro8mFeTIdifg\"\r\n      },\r\n      {\r\n        \"type\": \"EsriTiledMapLayer\",\r\n        \"id\": \"Oksm_SS_889_March_31__1852\",\r\n        \"thumbnail_file\": \"https://osu-geog.maps.arcgis.com/sharing/rest/content/items/c78001a459504577ae63121b5ea5e3f7/info/thumbnail/thumbnail1554128621089.png\",\r\n        \"display_name\": \"oksm SS 889 March 31 1852\",\r\n        \"url\": \"https://tiles.arcgis.com/tiles/jWQlP64OuwDh6GGX/arcgis/rest/services/oksm_SS_889_March_31__1852/MapServer\"\r\n      },\r\n\r\n      {\r\n        \"type\": \"EsriTiledMapLayer\",\r\n        \"id\": \"24e82d4524a6475d8787e3b9783b494c\",\r\n        \"thumbnail_file\": \"https://osu-geog.maps.arcgis.com/sharing/rest/content/items/24e82d4524a6475d8787e3b9783b494c/info/thumbnail/thumbnail1553624734746.png\",\r\n        \"display_name\": \"oksm_SS_4959_p807c\",\r\n        \"url\": \"https://tiles.arcgis.com/tiles/jWQlP64OuwDh6GGX/arcgis/rest/services/oksm_SS_4959_p807c/MapServer\"\r\n      }\r\n\r\n\r\n\r\n      \r\n\r\n];","module.exports = {\r\n  \"mapboxToken\": \"pk.eyJ1Ijoia3JkeWtlIiwiYSI6Ik15RGcwZGMifQ.IR_NpAqXL1ro8mFeTIdifg\",//replace with your own\r\n  \"labelLayerUrl\": \"https://api.mapbox.com/styles/v1/krdyke/cjf9wgvwg0zlh2rmo4jx9jcec/tiles/256/{z}/{x}/{y}?access_token=\",\r\n  \"maxLayers\": 8, //From 1 - 8, though why would you want 1?\r\n  \"maxLayersWarning\": \"Only {maxLayers} layers can be selected at once. Please deselect some in order to select new ones.\",//Can be changed, but leave {maxLayers in there somewhere}\r\n  \"siteTitle\": \"Sideby: for comparing stuff\",\r\n  \"welcomeText\": \"Sideby is an application for comparing spatial data layers side by side (by side by side by side, etc.). Try clicking/tapping the layers below, or try adding your own by clicking the + at the end of the list.\",\r\n  \"mapMinZoom\": 3,\r\n  \"mapDefaultZoom\": 5,\r\n  \"mapDefaultCenter\": [39.136303, -100.977082]\r\n};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAMAAACelLz8AAAAz1BMVEUAAAAkJCQmJiYmJiYlJSUkJCQAAAAqKiokJCQmJiYzMzMlJSUkJCQmJiYlJSUmJiYoKCgmJiYmJiYnJycmJiYAAAAmJiYmJiYlJSUZGRklJSUmJiYmJiYlJSUlJSUmJiYmJiYtLS0mJiYlJSUmJiYnJyccHBwmJiYmJiYlJSUiIiImJiYmJiYmJiYlJSUkJCQlJSUjIyMuLi4mJiYmJiYlJSUlJSUlJSUAAAAmJiYlJSUoKCglJSUlJSUmJiYmJiYlJSUlJSUlJSUlJSUmJiawjvnZAAAARHRSTlMARfbw3jEDBkb+BatNZMu1GfHGDdQBoPjyCsOfFD2C/LQRaqiTVQmMcFkW4uR961pnOQshyWDgnAKuzDP5uPVW+tp5S3AUDfcAAACGSURBVBgZzcFFAoMwAATARQN1d3d3d9n/v6n0SsKdGYROrW7ZUMlWm+SsD1kkw1ZnPnXHkMTZADAxFwP4JdMCnhU1+CVy+NO4hF+02IbnwzX8YuwKwDLeNiQFHo7nG7+Q5UcmX/eH/oTK5oQLjS3Urjp3Amp7cogAPboO1ESl5CBAOYVQ+QEjbg1iCZEUOgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/gif;base64,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\"","/*\r\n*  Takes an array of objects and returns the index \r\n*  of the member with the supplied attribute value.\r\n*  If not found, returns -1.\r\n*/\r\nexport function findWithAttr(array, attr, value) {\r\n    for(var i = 0; i < array.length; i += 1) {\r\n        if(array[i][attr] === value) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n  }\r\n\r\n/*\r\n*\tMoves items within an array. From and to arguments\r\n*   Represent the index numbers. Returns nothing, as \r\n*   it modifies the array in place.\r\n*/\r\nexport function moveWithinArray(array, from, to) {\r\n    array.splice(to, 0, array.splice(from, 1)[0]);\r\n  }\r\n\r\nexport function compareArrays(array1, array2) {\r\n\tvar arraysAreEqual = true;\r\n\tfor (var i = array1.length; i--;){\r\n\t\tif (array1[i] !== array2[i]) {\r\n\t\t\tarraysAreEqual = false;\r\n\t\t}\r\n\t}\r\n\treturn arraysAreEqual;\r\n}","import React, { Component } from 'react';\r\nimport L from 'leaflet';\r\nimport Config from './Config';\r\nimport 'leaflet-control-geocoder';\r\nimport './Geocoder/images/geocoder.png';\r\nimport './Geocoder/images/throbber.gif';\r\nimport './Geocoder/Control.Geocoder.css';\r\nimport './Geocoder.css';\r\n\r\n\r\nclass Geocoder extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.mapboxToken = Config.mapboxToken;\r\n  }\r\n \r\n  componentDidMount(){\r\n    //console.log(\"Geocoder mounted\");\r\n    let that = this;\r\n    this.map = L.map('hidden-geocoder-map');\r\n    this.geocoderObj = new L.Control.Geocoder(\r\n      {\r\n        \"geocoder\": new L.Control.Geocoder.Mapbox(\r\n          this.mapboxToken,\r\n          {\r\n            \"geocodingQueryParams\": {\r\n              \"country\": \"US\",\r\n              \"bbox\":\"-97.35122680664064,35.9357645138553, -96.75178527832033,36.324530335021876\"\r\n            }\r\n          }\r\n        ),\r\n        \"collapsed\": false,\r\n        \"placeholder\": \"Search for a Stillwater address\",\r\n        \"suggestMinLength\": 3,\r\n        \"queryMinLength\": 1,\r\n        \"defaultMarkGeocode\": false\r\n      });\r\n    this.geocoderObj.addTo(this.map);\r\n    this.geocoderObj.on(\"markgeocode\", e => that.transmitGeocode(e));\r\n    let container = this.geocoderObj.getContainer();\r\n    window.document.getElementById(\"Geocoder\").appendChild(container);\r\n  }\r\n\r\n  transmitGeocode(geocode){\r\n    this.props.transmitGeocode(geocode);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id='Geocoder' className={'Geocoder'}>\r\n        <div id='hidden-geocoder-map'></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Geocoder;\r\n\r\n","import React, { Component } from 'react';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faLayerPlus } from '@fortawesome/pro-solid-svg-icons';\nimport { faLayerGroup } from '@fortawesome/pro-duotone-svg-icons';\n\n\nclass AddOverlay extends Component {\n\n  constructor(props) {\n    super(props);\n    library.add(faLayerPlus);\n    library.add(faLayerGroup);\n    this.onClick = this.onClick.bind(this);\n  }\n \n\n  onClick(e) {\n    let that = this;\n    window.vex.dialog.open({\n      message: 'Add a new overlay!',\n/*\n    What an Item looks like.\n                key={item.id} \n                type={item.type}   done \n                id={item.id}            done\n                url={item.url}            done\n                layers={item.layers} skip for now\n                sortVal={item.sortVal}  \n                display_name={item.display_name}\n                thumbnail_file={item.thumbnail_file}\n                maxZoom={item.maxZoom ? item.maxZoom : 20}\n  */\n      input: [\n          '<style>',\n              '.vex-custom-field-wrapper {',\n                  'margin: 1em 0;',\n              '}',\n              '.vex-custom-field-wrapper > label {',\n                  'display: inline-block;',\n                  'margin-bottom: .2em;',\n              '}',\n          '</style>',\n          '<div class=\"vex-custom-field-wrapper\">',\n              '<label for=\"url\">Url</label>',\n              '<div class=\"vex-custom-input-wrapper\">',\n                  '<input name=\"url\" type=\"text\" value=\"https://maps.owrb.ok.gov/arcgis/rest/services/Base/SDE_State_County_PLSS_WMAS84/MapServer\"/>',\n              '</div>',\n          '</div>',\n          '<div class=\"vex-custom-field-wrapper\">',\n              '<label for=\"type\">Type</label>',\n              '<div class=\"vex-custom-input-wrapper\">',\n                  '<input name=\"type\" id=\"EsriFeatureLayer\" type=\"radio\" value=\"EsriFeatureLayer\" />',\n                  '<label for=\"EsriFeatureLayer\">Esri Feature Layer</label><br>',\n                  '<input name=\"type\" type=\"radio\" value=\"WMSTileLayer\" />',\n                  '<label for=\"WMSTileLayer\">WMSTileLayer</label><br>', \n                  '<input name=\"type\" type=\"radio\" value=\"EsriDynamicMapLayer\" />',\n                  '<label for=\"EsriDynamicMapLayer\">EsriDynamicMapLayer</label><br>',     \n                  '<input name=\"type\" type=\"radio\" value=\"ImageMapLayer\" />',\n                  '<label for=\"ImageMapLayer\">ImageMapLayer</label><br>',\n              '</div>',\n          '</div>',\n          '<div class=\"vex-custom-field-wrapper\">',\n              '<label for=\"display_name\">Display Name</label>',\n              '<div class=\"vex-custom-input-wrapper\">',\n                  '<input name=\"display_name\" type=\"text\" value=\"Orange\" />',\n              '</div>',\n            '</div>'\n         \n      ].join(''),\n      callback: function (data) {\n          if (!data) {\n              return console.log('Cancelled')\n          }\n          that.props.addOverlay(data);\n     }\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <button className='add-overlay' \n            onClick={this.onClick} \n            id='add-overlay'>\n          <div className=\"icon-label\">\n            {this.props.overlays.length === 0 && <FontAwesomeIcon icon='layer-plus' size=\"2x\"/>}\n            {this.props.overlays.length > 0 && <FontAwesomeIcon icon={['fad','layer-group']} size=\"2x\"/>}\n          </div>\n\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default AddOverlay;\n","import React, { Component } from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faExpand, faCompress } from '@fortawesome/free-solid-svg-icons';\r\nimport Geocoder from './Geocoder';\r\nimport AddOverlay from './AddOverlay';\r\nimport './UtilityBar.css';\r\n\r\nlibrary.add(faExpand);\r\nlibrary.add(faCompress);\r\n\r\nclass UtilityBar extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.transmitGeocode = this.transmitGeocode.bind(this);\r\n  }\r\n \r\n  componentDidMount(){\r\n  }\r\n\r\n  transmitGeocode(geocode){\r\n    this.props.transmitGeocode(geocode);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id='UtilityBar' className={'UtilityBar'}>\r\n        <div>\r\n          <input defaultChecked={this.props.labelLayerOn} \r\n                 name=\"labelsCheckbox\" \r\n                 id=\"labelsCheckbox\" \r\n                 type=\"checkbox\" \r\n                 onChange={this.props.toggleLabels}>\r\n            \r\n          </input>\r\n          <label htmlFor=\"labelsCheckbox\">Map&nbsp;Labels</label>\r\n        </div>\r\n        <Geocoder transmitGeocode={this.transmitGeocode} />\r\n        <AddOverlay numberOfLayersOn={this.props.numberOfLayersOn} \r\n                    addOverlay={this.props.addOverlay}\r\n                    overlays={this.props.overlays} />\r\n        <div>\r\n          <button onClick={() => this.props.toggleFullscreen()}>\r\n            <FontAwesomeIcon icon={this.props.isFullscreenEnabled ? \"compress\" : \"expand\"} size=\"2x\"/>\r\n          </button>\r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UtilityBar;\r\n\r\n","import React, { Component } from 'react';\r\nimport Config from './Config';\r\nimport './Item.css';\r\n\r\nclass Item extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onClick = this.onClick.bind(this);\r\n    this.state = {isToggledOn: false,\r\n                  opacity: 1.0};\r\n    this.resolveThumbnail.bind(this);\r\n    this.getThumbnailByLayerType.bind(this);\r\n    this.guessLayerTypeByUrl.bind(this);\r\n    this.resolveThumbnail();\r\n\r\n  }\r\n \r\n  guessLayerTypeByUrl(){\r\n\r\n  }\r\n\r\n  getThumbnailByLayerType(layerType){\r\n\r\n    // switch (layerType) {\r\n\r\n    //   case \"TileLayer\" {\r\n\r\n    //   }\r\n    // }\r\n  }\r\n\r\n\r\n  resolveThumbnail() {\r\n    if (this.props.thumbnail_file){\r\n      if (this.props.thumbnail_file.startsWith(\"http\")){\r\n        this.thumbnail_path = this.props.thumbnail_file;\r\n      }\r\n      else {\r\n        this.thumbnail_path = 'assets/images/' + this.props.thumbnail_file;\r\n      }  \r\n    }\r\n    if (this.props.type){\r\n      this.getThumbnailByLayerType(this.props.type);\r\n    }\r\n  }\r\n\r\n  onClick(e) {\r\n\r\n    let numLyrs = this.props.numberOfLayersOn;\r\n\r\n  \r\n    if (numLyrs === Config.maxLayers) {\r\n      if (!this.state.isToggledOn){\r\n        window.vex.dialog.alert(Config.maxLayersWarning.replace(\"{maxLayers}\", Config.maxLayers));\r\n        return\r\n      }\r\n    }\r\n\r\n    this.setState(prevState => ({\r\n      isToggledOn: !prevState.isToggledOn,\r\n      opacity: 1.0\r\n    }));\r\n\r\n\r\n    let props = {\r\n      \"opacity\": 1.0,\r\n      ...this.props\r\n    };\r\n    delete(props.onItemClick);\r\n    delete(props.isToggledOn);   \r\n    props.isToggledOn = !this.state.isToggledOn;\r\n    \r\n    this.props.onItemClick(props);\r\n\r\n\r\n\r\n    //   \"sortVal\": this.props.sortVal,\r\n    //   \"id\": this.props.id,\r\n    //   \"thumbnail_file\": this.props.thumbnail_file,\r\n    //   \"url\": this.props.url,\r\n    //   \"type\": this.props.type,\r\n    //   \"layers\": this.props.layers,\r\n    //   \"maxZoom\": this.props.maxZoom,\r\n    //   \"display_name\": this.props.display_name\r\n\r\n  }\r\n\r\n  render() {\r\n    let dispName = this.props.display_name;\r\n    return (\r\n      <button className={this.state.isToggledOn ? 'item on' : 'item off'} \r\n          onClick={this.onClick} \r\n          style={{backgroundImage: \"url('\" + this.thumbnail_path + \"')\"}}\r\n          id={this.props.id}>\r\n        <div className={dispName.length >= 10 ? \"label long-title\" : \"label\"}>\r\n          {dispName.length >= 10 ? dispName.slice(0,dispName.slice(0,21).lastIndexOf(\" \"))+\"...\" : dispName}\r\n        </div>\r\n\r\n        <div className=\"button\">\r\n\r\n        </div>\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Item;\r\n","import React from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n//import { faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { faMap, faPlus, faLayerPlus } from '@fortawesome/pro-solid-svg-icons';\r\nimport Item from './Item';\r\n\r\nclass AddLayerItem extends Item {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    library.add(faMap);\r\n    library.add(faPlus);\r\n    library.add(faLayerPlus);\r\n    this.onClick = this.onClick.bind(this);\r\n    this.state = {isToggledOn: false,\r\n                  opacity: 1.0};\r\n  }\r\n \r\n\r\n  onClick(e) {\r\n    let that = this;\r\n\r\n    let modalContent = <div><label htmlFor=\"url\">Url:</label>\r\n      <textarea name=\"url\" value=\"\"/><br/>\r\n      <label htmlFor=\"type\">Type</label><br/>\r\n      <input name=\"type\" id=\"input-TileLayer\" type=\"radio\" value=\"TileLayer\" />\r\n      <label htmlFor=\"input-TileLayer\">TileLayer</label><br/>\r\n      <input name=\"type\" id=\"input-WMSTileLayer\" type=\"radio\" value=\"WMSTileLayer\" />\r\n      <label htmlFor=\"input-WMSTileLayer\">WMSTileLayer</label><br/>\r\n      <input name=\"type\" id=\"input-EsriTiledMapLayer\" type=\"radio\" value=\"EsriTiledMapLayer\" />\r\n      <label htmlFor=\"input-EsriTiledMapLayer\">EsriTiledMapLayer</label><br/>\r\n      <input name=\"type\" id=\"input-EsriDynamicMapLayer\" type=\"radio\" value=\"EsriDynamicMapLayer\" />\r\n      <label htmlFor=\"input-EsriDynamicMapLayer\">EsriDynamicMapLayer</label></div>;\r\n\r\n      this.props.openModal(\"poop\", modalContent);\r\n\r\n     //window.vex.dialog.open({\r\n    //   message: 'Add a new layer!',\r\n    //   /*\r\n    //   What an Item looks like.\r\n    //             key={item.id} \r\n    //             type={item.type}   done \r\n    //             id={item.id}            done\r\n    //             url={item.url}            done\r\n    //             layers={item.layers} skip for now\r\n    //             sortVal={item.sortVal}  \r\n    //             display_name={item.display_name}\r\n    //             thumbnail_file={item.thumbnail_file}\r\n    //             maxZoom={item.maxZoom ? item.maxZoom : 20}\r\n    //   */\r\n    //   input: [\r\n    //       '<style>',\r\n    //           '.vex-custom-field-wrapper {',\r\n    //               'margin: 1em 0;',\r\n    //           '}',\r\n    //           '.vex-custom-field-wrapper > label {',\r\n    //               'display: inline-block;',\r\n    //               'margin-bottom: .2em;',\r\n    //           '}',\r\n    //       '</style>',\r\n    //       '<div class=\"vex-custom-field-wrapper\">',\r\n    //           '<label for=\"url\">Url</label>',\r\n    //           '<div class=\"vex-custom-input-wrapper\">',\r\n    //               '<input name=\"url\" type=\"text\" value=\"\"/>',\r\n    //           '</div>',\r\n    //       '</div>',\r\n    //       '<div class=\"vex-custom-field-wrapper\">',\r\n    //           '<label for=\"type\">Type</label>',\r\n    //           '<div class=\"vex-custom-input-wrapper\">',\r\n    //               '<input name=\"type\" id=\"TileLayer\" type=\"radio\" value=\"TileLayer\" />',\r\n    //               '<label for=\"TileLayer\">TileLayer</label><br>',\r\n    //               '<input name=\"type\" type=\"radio\" value=\"WMSTileLayer\" />',\r\n    //               '<label for=\"WMSTileLayer\">WMSTileLayer</label><br>',\r\n    //               '<input name=\"type\" type=\"radio\" value=\"EsriTiledMapLayer\" />',\r\n    //               '<label for=\"EsriTiledMapLayer\">EsriTiledMapLayer</label>',\r\n    //               '<input name=\"type\" type=\"radio\" value=\"EsriDynamicMapLayer\" />',\r\n    //               '<label for=\"EsriDynamicMapLayer\">EsriDynamicMapLayer</label>',\r\n    //           '</div>',\r\n    //       '</div>',\r\n    //       '<div class=\"vex-custom-field-wrapper\">',\r\n    //           '<label for=\"display_name\">Display Name</label>',\r\n    //           '<div class=\"vex-custom-input-wrapper\">',\r\n    //               '<input name=\"display_name\" type=\"text\" value=\"Orange\" />',\r\n    //           '</div>',\r\n    //         '</div>'\r\n         \r\n    //   ].join(''),\r\n    //   callback: function (data) {\r\n    //       if (!data) {\r\n    //           return console.log('Cancelled')\r\n    //       }\r\n    //       that.props.addLayer(data);\r\n    //  }\r\n    // });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <button className='add-layer item background-black' \r\n          onClick={this.onClick} \r\n          id='add-layer'>\r\n        <div className=\"icon-label\">\r\n          <span className=\"fa-layers fa-fw\">\r\n            <FontAwesomeIcon icon=\"layer-plus\" size=\"5x\" transform=\"left-6.9\"/>\r\n            {/*<FontAwesomeIcon icon=\"map\" className=\"orange\" size=\"5x\" transform=\"left-6.9\"/>\r\n            <FontAwesomeIcon icon=\"plus\"  transform=\"grow-9.5\" />*/}\r\n          </span>\r\n        </div>\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddLayerItem;\r\n","import React, { Component } from 'react';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faAngleLeft, faAngleRight } from '@fortawesome/free-solid-svg-icons';\r\nimport './ScrollButton.css';\r\n\r\nlibrary.add(faAngleLeft);\r\nlibrary.add(faAngleRight);\r\n\r\nclass ScrollButton extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onClick = this.onClick.bind(this);\r\n  }\r\n \r\n  onClick(e) {\r\n    this.props.onClick(this.props.direction);\r\n  }\r\n\r\n  render() {\r\n    let arrow = this.props.direction === \"left\" ? \"angle-left\" : \"angle-right\";\r\n    return (\r\n      <div className={'ScrollButton ' + this.props.direction}\r\n           onClick={this.onClick}>  \r\n          <button><FontAwesomeIcon icon={arrow} size=\"lg\"/></button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ScrollButton;\r\n\r\n","import React, { Component } from 'react';\r\nimport { cloneDeep } from 'lodash';\r\nimport Item from './Item';\r\nimport AddLayerItem from './AddLayerItem';\r\nimport ScrollButton from './ScrollButton';\r\nimport LayersInfo from './LayersInfo';\r\nimport './ViewBar.css';\r\n\r\nclass ViewBar extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleItemClick = this.handleItemClick.bind(this);\r\n    this.handleScrollButtonClick = this.handleScrollButtonClick.bind(this);\r\n    this.addLayer = this.addLayer.bind(this);\r\n    this.scrollTo = this.scrollTo.bind(this);\r\n    this.onWheel = this.onWheel.bind(this);\r\n    this.easeInOutQuad = this.easeInOutQuad.bind(this);\r\n  }\r\n\r\n  handleItemClick(data) {\r\n    let id = data.id;\r\n    let newState = cloneDeep(this.state);\r\n\r\n    newState.layers.forEach( (lyr,index) => {\r\n      if (lyr.id === id) {\r\n        newState.layers[index] = data;\r\n      }\r\n    });\r\n\r\n    this.setState(newState);   \r\n    this.props.onItemClick(data);\r\n  }\r\n\r\n  handleScrollButtonClick(scrollDirection) {\r\n    this.scrollTo(scrollDirection, 350);\r\n  }\r\n\r\n  addLayer(data) {\r\n    let state = this.state,\r\n      new_layer = data,\r\n      id = new_layer.display_name + \"_new\", //lazy id baby\r\n      sortVal = this.state.layers.slice(-1)[0].sortVal - 1,\r\n      thumbnail_file = \"dummy.png\", //use serviceItemId from AGOL server URL json to get to item thumbnail\r\n            //https://www.arcgis.com/sharing/rest/content/items/{serviceItemId}/info/thumbnail/thumbnail1553624905506.png\r\n      maxZoom = 20;\r\n\r\n    new_layer.id = id;\r\n    new_layer.sortVal = sortVal;\r\n    new_layer.thumbnail_file = thumbnail_file;\r\n    new_layer.maxZoom = maxZoom;\r\n    \r\n    state.layers.push(new_layer);\r\n    delete(state.new_layer_data);\r\n    this.setState(state);\r\n  }\r\n\r\n  componentWillUpdate(){\r\n\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState){\r\n    \r\n  }\r\n\r\n  componentWillMount(prevProps, prevState){\r\n    //for the initial app load, set state using LayersInfo\r\n    let layers = LayersInfo.map(item => ({...item, isToggledOn: false}));\r\n    layers = layers.sort( (a, b) => {\r\n      return b.sortVal - a.sortVal \r\n    })\r\n    this.setState({\"layers\": layers});\r\n  }\r\n\r\n  onWheel(e){\r\n    let elem  = document.getElementById(\"viewbarItems\"),\r\n        scrollUnit = 50,\r\n\r\n        // deltaMode indicates if the deltaY value is pixels or lines (0 for pixels, 1 for lines, 2 for page)\r\n        deltaMode = e.deltaMode,\r\n\r\n        //if the deltamode is anything but pixels (0), use scroll unit to calculate scroll amount\r\n        scrollSize = deltaMode === (1 || 2) ? e.deltaY * scrollUnit: e.deltaY;\r\n\r\n    e.preventDefault();\r\n    \r\n    elem.scrollLeft = elem.scrollLeft + scrollSize;\r\n    //this.setState({\"scrollLeft\": elem.scrollLeft});\r\n  }\r\n\r\n  scrollTo(direction, duration) {\r\n    let elem  = document.getElementById(\"viewbarItems\"),\r\n        start = elem.scrollLeft,\r\n        clientWidth = document.documentElement.clientWidth,\r\n        moveSize = Math.max(clientWidth/2, 300),\r\n        change = direction === \"left\" ? -moveSize : +moveSize,\r\n        currentTime = 0,\r\n        increment = 20,\r\n        that = this;\r\n        \r\n    let animateScroll = function(){        \r\n        currentTime += increment;\r\n        let val = that.easeInOutQuad(currentTime, start, change, duration);\r\n        elem.scrollLeft = val;\r\n        if(currentTime < duration) {\r\n            setTimeout(animateScroll, increment);\r\n        }\r\n    };\r\n    animateScroll();\r\n  }\r\n\r\n  //t = current time\r\n  //b = start value\r\n  //c = change in value\r\n  //d = duration\r\n  easeInOutQuad(t, b, c, d) {\r\n    t /= d/2;\r\n    if (t < 1) return c/2*t*t + b;\r\n    t--;\r\n    return -c/2 * (t*(t-2) - 1) + b;\r\n  }\r\n\r\n  render() {\r\n    const items = this.state.layers;\r\n    \r\n    return (\r\n      <footer className='ViewBar-container bottom'>\r\n        <ScrollButton direction=\"left\" onClick={this.handleScrollButtonClick}/>\r\n\r\n         <div onWheel={this.onWheel} onScroll={this.onScroll} scrollleft={this.state.scrollLeft} className='flip-move' id=\"viewbarItems\">\r\n           {items.map(item => <Item \r\n                numberOfLayersOn={this.props.numberOfLayersOn}\r\n                key={item.id} \r\n                onItemClick={this.handleItemClick}\r\n                {...item}\r\n              />)}\r\n\r\n            <AddLayerItem \r\n              numberOfLayersOn={this.props.numberOfLayersOn} \r\n              openModal={this.props.openModal}\r\n              closeModal={this.props.closeModal}\r\n              addLayer={this.addLayer} \r\n              />\r\n          </div>\r\n        <ScrollButton direction=\"right\" onClick={this.handleScrollButtonClick}/>\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ViewBar;\r\n","import React, { Component } from 'react';\r\nimport ReactModal from 'react-modal';\r\nimport CircleLoader from 'react-spinners/CircleLoader';\r\nimport './Modal.css';\r\n\r\nReactModal.setAppElement('#root');\r\n\r\nclass Modal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.formatContent = this.formatContent.bind(this);\r\n    this.afterOpenModal = this.afterOpenModal.bind(this);\r\n    this.handleCloseModal = this.handleCloseModal.bind(this);\r\n    this.ref = React.createRef(null);\r\n    this.state={};\r\n  }\r\n\r\nformatContent(modalType, modalContent) {\r\n    let content = <div className=\"modalContent\">\r\n                    {modalContent}\r\n                  </div>;\r\n    return content;\r\n  }\r\n\r\n  afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n\r\n  }\r\n\r\n  handleCloseModal() {\r\n    let modal = this.ref.current.node.children[0].children[0];\r\n    console.log(modal);\r\n    this.props.closeModal();\r\n  }\r\n\r\n  render() {\r\n  \tlet content = this.formatContent(this.props.modalType, this.props.modalContent);\r\n  \treturn <ReactModal\r\n          ref={this.ref}\r\n          closeTimeoutMS={500}\r\n          className=\"Modal-Content\"\r\n          key={\"modal\"}\r\n          isOpen={this.props.isOpen}\r\n          onAfterOpen={this.afterOpenModal}\r\n          onRequestClose={this.handleCloseModal}\r\n          contentLabel=\"Example Modal\">\r\n    \t{content}\r\n      <br/>\r\n      <button onClick={this.handleCloseModal}>Close Modal</button>  \r\n    </ReactModal>\r\n    \r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import PropTypes from 'prop-types';\r\nimport {GridLayer, withLeaflet} from 'react-leaflet';\r\nimport {tiledMapLayer} from 'esri-leaflet';\r\n\r\n class EsriTiledMapLayer extends GridLayer {\r\n  static propTypes = {\r\n    url: PropTypes.string.isRequired\r\n  };\r\n\r\n  createLeafletElement(props) {\r\n    return tiledMapLayer(props); \r\n  }\r\n}\r\n\r\nexport default withLeaflet(EsriTiledMapLayer);","import {MapLayer, withLeaflet} from 'react-leaflet';\r\nimport {dynamicMapLayer} from 'esri-leaflet';\r\n\r\ntype Props = {\r\n  url: string \r\n} & MapLayerProps\r\n\r\nclass EsriDynamicMapLayer extends MapLayer<LeafletElement, Props> {\r\n  createLeafletElement(props: Props): LeafletElement {\r\n  \tlet options = {...props, \"f\": \"image\"};\r\n    const el = dynamicMapLayer(\r\n      options\r\n    )\r\n    this.contextValue = { ...props.leaflet, popupContainer: el }\r\n    return el\r\n  }\r\n\r\n  updateLeafletElement(fromProps: Props, toProps: Props) {\r\n    if (toProps.url !== fromProps.url) {\r\n      this.leafletElement.setUrl(toProps.url)\r\n    }\r\n  }\r\n}\r\n\r\nexport default withLeaflet(EsriDynamicMapLayer)\r\n","import {MapLayer, withLeaflet} from 'react-leaflet';\r\nimport {featureLayer} from 'esri-leaflet';\r\n\r\ntype Props = {\r\n  url: string \r\n} & MapLayerProps\r\n\r\nclass EsriFeatureLayer extends MapLayer<LeafletElement, Props> {\r\n  createLeafletElement(props: Props): LeafletElement {\r\n  \tlet options = {...props};\r\n    const el = featureLayer(\r\n      options\r\n    )\r\n    this.contextValue = { ...props.leaflet, popupContainer: el }\r\n    return el\r\n  }\r\n\r\n  updateLeafletElement(fromProps: Props, toProps: Props) {\r\n    if (toProps.url !== fromProps.url) {\r\n      this.leafletElement.setUrl(toProps.url)\r\n    }\r\n  }\r\n}\r\n\r\nexport default withLeaflet(EsriFeatureLayer)\r\n","import React, { Component } from 'react';\r\nimport {Map, TileLayer, WMSTileLayer, Marker} from 'react-leaflet';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faGripVertical } from '@fortawesome/free-solid-svg-icons';\r\nimport EsriTiledMapLayer from './EsriTiledMapLayer';\r\nimport EsriDynamicMapLayer from './EsriDynamicMapLayer';\r\nimport EsriFeatureLayer from './EsriFeatureLayer';\r\nimport {mapboxToken, \r\n        labelLayerUrl, \r\n        mapMinZoom, \r\n        mapDefaultZoom, \r\n        mapDefaultCenter} from './Config';\r\nimport 'leaflet.sync';\r\nimport './MapWrapper.css'\r\nimport './Handle.css';\r\n\r\nlibrary.add(faGripVertical);\r\n\r\nclass Handle extends React.Component {\r\n  render() {\r\n    const { provided, display_name } = this.props;\r\n    return (\r\n      <div className={display_name.length >= 40 ? \"Handle map-title long-title\" : \"Handle map-title\"}>\r\n         <span className=\"Handle-span\" {...provided.dragHandleProps}>\r\n          <FontAwesomeIcon className=\"Handle-drag-icon\" icon=\"grip-vertical\" size=\"1x\"/>\r\n        </span>\r\n         &nbsp;{display_name}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nclass MapWrapper extends Component {\r\n  \r\n  constructor(props, context) {\r\n    super(props)\r\n    this.mapboxToken = mapboxToken;\r\n    this.labelLayerUrl = labelLayerUrl + this.mapboxToken;\r\n\r\n    const DEFAULT_VIEWPORT = {\r\n      center: mapDefaultCenter,\r\n      zoom: mapDefaultZoom\r\n    }\r\n    this.viewport = DEFAULT_VIEWPORT;\r\n    //this.props.mapCenter(this.viewport.center);\r\n    this.invalidateMapSizes = this.invalidateMapSizes.bind(this);\r\n    this.syncMaps = this.syncMaps.bind(this);\r\n    this.unsyncMaps = this.unsyncMaps.bind(this);\r\n    this.moveend = this.moveend.bind(this);\r\n    this.onViewportChanged = this.onViewportChanged.bind(this);\r\n    this.passUpRef = this.passUpRef.bind(this);\r\n    this.onResize = this.onResize.bind(this);\r\n    this.onGeocodeClick = this.onGeocodeClick.bind(this);\r\n  }\r\n\r\n  onResize(e) {\r\n  }\r\n\r\n  moveend(e) {\r\n\r\n  }\r\n  \r\n  invalidateMapSizes() {\r\n    this.props.invalidateMapSizes();\r\n  }\r\n  \r\n  componentWillMount() {\r\n    //console.log(\"MapView WillMount\");\r\n  }  \r\n\r\n  componentWillUnmount(){\r\n    this.passUpRef(this.props.layer.id, this.props.mapRef, true);\r\n\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n\r\n  }\r\n\r\n  unsyncMaps(ref_id) {\r\n     this.props.unsyncMaps(ref_id);\r\n  }\r\n\r\n  syncMaps() {\r\n    this.props.syncMaps();\r\n  }\r\n\r\n  passUpRef(id, ref, deleteRef=false) {\r\n    this.props.passUpRef(id, ref, deleteRef);\r\n  }\r\n\r\n  componentDidMount(prevProps, prevState){\r\n    this.passUpRef(this.props.layer.id, this.props.mapRef);\r\n  }\r\n\r\n  clearGeocode() {\r\n    this.props.clearGeocode();\r\n  }\r\n\r\n  onGeocodeClick() {\r\n    console.log(\"click\");\r\n    this.clearGeocode();\r\n  }\r\n\r\n  onViewportChanged(viewport) { \r\n    //putting viewport into state results in (near) infinite loop of componentdidupdates\r\n    //probably because L.sync is not react-ified\r\n    //so just use good ole generic this.viewport instead\r\n    this.viewport = viewport;\r\n  }\r\n\r\n  render() {\r\n    const layer_components = {\r\n      \"EsriFeatureLayer\": EsriFeatureLayer,\r\n      \"EsriTiledMapLayer\": EsriTiledMapLayer,\r\n      \"EsriDynamicMapLayer\": EsriDynamicMapLayer,\r\n      \"WMSTileLayer\": WMSTileLayer,\r\n      \"TileLayer\": TileLayer\r\n    }\r\n\r\n    const overlays = this.props.overlays;\r\n    const Overlays = () => {return (\r\n      <React.Fragment>\r\n        {overlays.map(layer => {\r\n          let Overlay = layer_components[layer.type];\r\n          return  (\r\n            <Overlay  \r\n                url={layer.url}\r\n                key={layer.id} \r\n                zIndex={100000}\r\n                pane=\"overlayPane\"\r\n                {...layer}\r\n                />\r\n          )\r\n        })}\r\n      </React.Fragment>)\r\n    };\r\n    const layer = this.props.layer;\r\n    let that = this;\r\n    let Layer = layer_components[layer.type];\r\n    const { provided } = this.props;\r\n  \r\n\r\n    // Use ids from layers array to create list of urls\r\n    return (<div \r\n              {...provided.draggableProps}\r\n              ref={provided.innerRef}>\r\n              <Handle provided={provided} display_name={layer.display_name} />\r\n              <Map ref={this.props.mapRef}\r\n                 minZoom={mapMinZoom}\r\n                 onResize={this.onResize}\r\n                 maxZoom={layer.maxZoom}\r\n                 onViewportChanged={that.onViewportChanged}\r\n                 className ={'map'+ this.props.numberLayers + ' p' + this.props.layerIndex + \" \" + (this.props.isDragging ? \"dragging\": \"nope\")}  \r\n                 id={layer.id}\r\n                 key={layer.id} \r\n                 viewport={that.viewport}\r\n                >\r\n                {this.props.geocodeResult &&\r\n                  <Marker position={this.props.geocodeResult}\r\n                          onClick={this.onGeocodeClick}/>\r\n                }\r\n                  <TileLayer \r\n                    key={\"labels-\" + layer.id}\r\n                    url={this.labelLayerUrl}\r\n                    opacity={this.props.labelLayerOn ? 100 : 0}\r\n                    pane=\"shadowPane\"\r\n                    zIndex={1000000} />\r\n                  {this.props.overlays.length > 0 && <Overlays />}\r\n                  <Layer \r\n                    key={layer.id} \r\n                    {...layer}\r\n                    />\r\n\r\n            </Map>\r\n          </div>\r\n    )\r\n  }\r\n}  \r\n\r\n\r\nexport default React.forwardRef((props, ref) => <MapWrapper mapRef={ref} {...props} />);\r\n\r\n","import React from 'react';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport MapWrapper from './MapWrapper';\r\nimport \"./RowContainer.css\";\r\n\r\nclass RowContainer extends React.Component {\r\n\r\n  render() {\r\n    const { provided, layers } = this.props;\r\n\r\n  \tlet maps = layers.map((layer, index) => (\r\n\t\t<Draggable draggableId={\"draggable-\"+layer.id} \r\n\t\t\t\t   key={\"draggable-\"+layer.id} \r\n\t\t\t\t   index={index}>\r\n\t\t \t{(provided, snapshot) => (\r\n\t\t  \t<MapWrapper\r\n\t\t        layer={layer}\r\n\t\t        overlays={this.props.overlays}\r\n\t\t        numberLayers={layers.length}\r\n\t\t        innerRef={provided.innerRef}\r\n\t\t        key={layer.id}\r\n\t\t        layerIndex={index}\r\n\t\t        provided={provided}\r\n\t\t        isDragging={snapshot.isDragging}\r\n\t\t        passUpRef={this.props.passUpRef}\r\n\t\t        mapRef={this.props.mapRef}\r\n\t\t        syncMaps={this.props.syncMaps}\r\n\t\t        geocodeResult={this.props.geocodeResult}\r\n\t\t        clearGeocode={this.props.clearGeocode}\r\n\t\t        unsyncMaps={this.props.unsyncMaps}\r\n\t\t        labelLayerOn={this.props.labelLayerOn}\r\n\t\t        invalidateMapSizes={this.props.invalidateMapSizes}\r\n\t\t        />\r\n\t\t \t)}\r\n\t  </Draggable>\r\n    ));\r\n\r\n\r\n    return (\r\n    \t//<div><h1>poop</h1></div>\r\n      <div className={this.props.className} \r\n      \t   ref={provided.innerRef}\r\n      \t   {...provided.droppableProps}>\r\n      \t{maps}\r\n        {provided.placeholder}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default React.forwardRef((props, ref) => <RowContainer mapRef={ref} {...props} />);;\r\n//export default RowContainer;","import React, { Component } from 'react';\r\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\r\nimport RowContainer from './RowContainer';\r\nimport { moveWithinArray, compareArrays } from './Util';\r\n\r\nclass MapsContainer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onDragEnd = this.onDragEnd.bind(this);\r\n    this.setMapRef = this.setMapRef.bind(this);\r\n    this.syncMaps = this.syncMaps.bind(this);\r\n    this.unsyncMaps = this.unsyncMaps.bind(this);\r\n    this.invalidateMapSizes = this.invalidateMapSizes.bind(this);\r\n    this.handleGeocode = this.handleGeocode.bind(this);\r\n    this.clearGeocode = this.clearGeocode.bind(this);\r\n    this.state = {\"mapRefs\": {}}\r\n    this.passUpRef = this.passUpRef.bind(this);\r\n  }\r\n\r\n  passUpRef(id, ref, deleteRef) {\r\n    let mapRefs = {\"mapRefs\": this.state.mapRefs};\r\n\r\n    if (deleteRef) {\r\n      this.unsyncMaps(id);\r\n      delete(mapRefs.mapRefs[id]);\r\n      this.setState(mapRefs);\r\n    }\r\n    else {\r\n      this.syncMaps();\r\n    }\r\n    this.invalidateMapSizes();\r\n  }\r\n\r\n setMapRef(DOMNode) {\r\n    let mapRefs = {\"mapRefs\": this.state.mapRefs};\r\n\r\n    if (DOMNode) {\r\n      mapRefs.mapRefs[DOMNode.container.id] = DOMNode;\r\n      this.setState(mapRefs);\r\n    }\r\n  }\r\n\r\n onDragEnd(draggedLayer) {\r\n\r\n    if (draggedLayer.destination === null) {\r\n      return;\r\n    }\r\n\r\n    let allLayers = this.props.layers;\r\n    let currentRow = draggedLayer.source.droppableId;  \r\n    let destRow = draggedLayer.destination.droppableId; \r\n    let currentLayerIndex, destinationIndex;\r\n    \r\n    if (currentRow === \"row2\") {\r\n      currentLayerIndex = allLayers.filter(i => i.row === \"row1\").length + draggedLayer.source.index;\r\n    }\r\n    else {\r\n      currentLayerIndex = draggedLayer.source.index;\r\n    }\r\n\r\n    \r\n    if (destRow === \"row2\") {\r\n      destinationIndex = allLayers.filter(i => i.row === \"row1\").length + draggedLayer.destination.index;\r\n    }\r\n    else {\r\n      destinationIndex = draggedLayer.destination.index;\r\n    }\r\n\r\n    let allTurnedOnLayers = allLayers.filter(i => i.isToggledOn);\r\n    moveWithinArray(allTurnedOnLayers, currentLayerIndex, destinationIndex);\r\n \tthis.props.updateLayerDisplayIndexesAndRows(allTurnedOnLayers);\r\n  }\r\n\r\n  invalidateMapSizes() {\r\n    let mapRefs = this.state.mapRefs;\r\n    for (let i in mapRefs){ \r\n      mapRefs[i].leafletElement.invalidateSize();\r\n    }\r\n  }\r\n\r\n  unsyncMaps(ref_id) {\r\n    let mapRefs = this.state.mapRefs;\r\n    for (let i in mapRefs){\r\n      if (i !== ref_id && mapRefs[ref_id]){\r\n          mapRefs[ref_id].leafletElement.unsync(mapRefs[i].leafletElement);\r\n          mapRefs[i].leafletElement.unsync(mapRefs[ref_id].leafletElement);\r\n      }\r\n    }\r\n  }\r\n\r\n  syncMaps() {\r\n    let mapRefs = this.state.mapRefs;\r\n    for (let i in mapRefs){\r\n      for (let j in mapRefs){\r\n        if (i !== j && !mapRefs[i].leafletElement.isSynced(mapRefs[j].leafletElement)){\r\n          mapRefs[i].leafletElement.sync(\r\n            mapRefs[j].leafletElement, {syncCursor: true}\r\n          );           \r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  clearGeocode() {\r\n  \tthis.setState({\"geocodeResult\": false});\r\n  }\r\n\r\n  handleGeocode(geocodeResult){\r\n  \t//maybe move this to mapwrapper? other than setting state w/ center that is\r\n  \tlet randomMap = Object.entries(this.state.mapRefs)[0][1];\r\n    let bbox = this.props.geocodeResult.geocode.bbox;\r\n    let center = this.props.geocodeResult.geocode.center;\r\n\r\n    randomMap.leafletElement.fitBounds(bbox);\r\n    this.setState({\"geocodeResult\": center});\r\n    setTimeout(this.clearGeocode, 2000);\r\n\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState){\r\n\r\n    if (prevProps.layers.filter(i => i.isToggledOn).length !== \r\n         this.props.layers.filter(i => i.isToggledOn).length) \r\n    {\r\n      this.invalidateMapSizes();\r\n    }\r\n\r\n    else if (!compareArrays(prevProps.layers, this.props.layers))\r\n    {\r\n      setTimeout(this.invalidateMapSizes, 400);\r\n    }\r\n\r\n    if (prevProps.geocodeResult !== this.props.geocodeResult) {\r\n      this.handleGeocode(this.props.geocodeResult);\r\n    }\r\n  }\r\n\r\n  render() {\r\n  \tlet layers = this.props.layers.filter(lyr => lyr.isToggledOn);\r\n  \tlet numberRows = [];\r\n    layers.forEach(lyr => {\r\n    \tnumberRows.push(lyr.row);\r\n    });\r\n    numberRows = new Set(numberRows);\r\n    numberRows = [...numberRows];\r\n\r\n    let row1Layers = layers.filter(i => i.row === \"row1\");\r\n    row1Layers.sort((a, b) => a.visibleIndex - b.visibleIndex);\r\n    let row2Layers = layers.filter(i => i.row === \"row2\");\r\n    row2Layers.sort((a, b) => a.visibleIndex - b.visibleIndex);\r\n    \r\n\r\n    let rows = numberRows.map( (val, index) => { \r\n      return (\r\n        <Droppable droppableId={val} key={val} direction=\"horizontal\">\r\n          {(provided, snapshot) => (\r\n            <RowContainer className={\"Row \" + val + (numberRows.length === 2 ? \" two-rows\" : \"\" )} \r\n                  provided={provided}\r\n                  snapshot={snapshot}\r\n                  passUpRef={this.passUpRef}\r\n\t\t\t\t  geocodeResult={this.state.geocodeResult}\r\n\t\t\t\t  clearGeocode={this.clearGeocode}\r\n                  mapRef={this.setMapRef} \r\n                  innerRef={provided.innerRef}\r\n                  syncMaps={this.syncMaps}\r\n                  labelLayerOn={this.props.labelLayerOn}\r\n                  unsyncMaps={this.unsyncMaps}\r\n                  invalidateMapSizes={this.invalidateMapSizes}\r\n                  overlays={this.props.overlays}\r\n                  layers={val === \"row1\" ? row1Layers : row2Layers}>\r\n            </RowContainer>\r\n          )}  \r\n        </Droppable>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <div id='maps'>\r\n            <DragDropContext onDragEnd={this.onDragEnd}>\r\n              {rows}\r\n            </DragDropContext>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default React.forwardRef((props, ref) => <MapsContainer mapRef={ref} {...props} />);;\r\n","import React, { Component } from 'react';\r\nimport Vex from 'vex-js';\r\nimport plugin from 'vex-dialog';\r\nimport Fullscreen from 'react-fullscreen-crossbrowser';\r\nimport { cloneDeep } from 'lodash';\r\n\r\nimport { findWithAttr, moveWithinArray } from './Util';\r\nimport UtilityBar from './UtilityBar';\r\nimport ViewBar from './ViewBar';\r\nimport Modal from './Modal';\r\nimport MapsContainer from './MapsContainer';\r\nimport { maxLayers, welcomeText, siteTitle } from './Config';\r\nimport './App.css';\r\n\r\n\r\nclass App extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleItemClick = this.handleItemClick.bind(this);\r\n    this.transmitGeocode = this.transmitGeocode.bind(this);\r\n    this.toggleFullscreen = this.toggleFullscreen.bind(this);\r\n    this.toggleLabels = this.toggleLabels.bind(this);\r\n    this.toggleModal = this.toggleModal.bind(this);\r\n    this.toggleSpinner = this.toggleSpinner.bind(this);\r\n    this.openModal = this.openModal.bind(this);\r\n    this.closeModal = this.closeModal.bind(this);\r\n    this.calculateDisplayIndexes = this.calculateDisplayIndexes.bind(this);\r\n    this.calculateRowLayers = this.calculateRowLayers.bind(this);\r\n    this.updateLayerDisplayIndexesAndRows = this.updateLayerDisplayIndexesAndRows.bind(this);\r\n    this.addOverlay = this.addOverlay.bind(this);\r\n    this.state = {\"layers\":[],\r\n                  \"overlays\":[],\r\n                  \"numberOfLayersOn\": 0, \r\n                  \"geocodeResult\": {},\r\n                  \"labelLayerOn\": true,\r\n                  \"showSpinner\": false,\r\n                  \"modalIsOpen\": false,\r\n                  \"modalContent\": \"\"};\r\n\r\n    //alert alert hack ahead\r\n    window.vex = Vex;\r\n    window.vex.registerPlugin(plugin);\r\n    window.vex.defaultOptions.className = 'vex-theme-os';\r\n  }\r\n\r\n  transmitGeocode(geocode) {\r\n    this.setState({\"geocode\": geocode});\r\n  }\r\n\r\n  toggleFullscreen() {\r\n    let current_val = this.state.isFullscreenEnabled;\r\n    this.setState({isFullscreenEnabled: !current_val});\r\n  }\r\n\r\n  toggleLabels() {\r\n    let curr = this.state.labelLayerOn;\r\n    this.setState({\"labelLayerOn\": !curr});\r\n  }\r\n\r\n  toggleSpinner(bool) {\r\n    this.setState({\"showSpinner\": bool});\r\n  }\r\n\r\n  toggleModal(bool) {\r\n    this.setState({\"modalIsOpen\": bool});\r\n  }\r\n\r\n  openModal(modalType, modalContent){\r\n    \r\n    this.setState({\r\n      modalType: modalType,\r\n      modalContent: modalContent\r\n    });\r\n    this.toggleModal(true);\r\n  }\r\n  \r\n  closeModal() {\r\n    this.toggleModal(false);\r\n  }\r\n\r\n  addOverlay(data) {\r\n    console.log(\"------ ADD OVERLAY ------\");\r\n    let overlays = cloneDeep(this.state.overlays);\r\n      \r\n    var new_layer = data;\r\n    new_layer.isOverlay = true;\r\n    new_layer.id = new_layer.display_name.replace(\" \", \"_\") + \"_new\"; //lazy id baby\r\n    overlays.push(new_layer);\r\n    this.setState({\"overlays\":overlays});\r\n  }\r\n\r\n\r\n  handleItemClick(data) {\r\n    let found = false;\r\n    let foundIdx;\r\n    let newStateLayers = cloneDeep(this.state.layers);  \r\n\r\n    newStateLayers.forEach((lyr, index) => {\r\n      if (data.id === lyr.id){\r\n        found = true;\r\n        foundIdx = index;\r\n      }\r\n    });\r\n\r\n    if (!found){\r\n      newStateLayers = newStateLayers.concat([data]);\r\n    }\r\n\r\n    else {\r\n\r\n      newStateLayers[foundIdx].isToggledOn = !this.state.layers[foundIdx].isToggledOn;\r\n\r\n      //rearrange the layers array so display order matches clicked order\r\n      moveWithinArray(newStateLayers, foundIdx, newStateLayers.length - 1);\r\n    }\r\n\r\n    newStateLayers = this.calculateDisplayIndexes(newStateLayers);\r\n    newStateLayers = this.calculateRowLayers(newStateLayers);\r\n\r\n    let newNumberOfLayersOn = newStateLayers.filter(i => i.isToggledOn).length;\r\n\r\n    let newState = {\"layers\": newStateLayers,\r\n                  \"numberOfLayersOn\": newNumberOfLayersOn};\r\n\r\n    this.setState(newState);\r\n  }\r\n\r\n updateLayerDisplayIndexesAndRows(layers) {\r\n  let newLayers = cloneDeep(this.state.layers);\r\n  layers.forEach((lyr, index) => {\r\n    var lyrIndex = findWithAttr(newLayers, \"id\", lyr.id);\r\n    newLayers[lyrIndex].visibleIndex = index;\r\n  });\r\n  newLayers = this.calculateRowLayers(newLayers);\r\n\r\n  this.setState({\"layers\": newLayers});\r\n }\r\n\r\n calculateDisplayIndexes(layers) {\r\n    var visibleIndex = 0;\r\n    let newLayers = layers.map(function(lyr){\r\n      if (lyr.isToggledOn) {\r\n        lyr.visibleIndex = visibleIndex;\r\n        visibleIndex ++;\r\n      }\r\n\r\n      return lyr;\r\n    });\r\n    return newLayers;\r\n  }\r\n  \r\ncalculateRowLayers(layers) {\r\n  let visibleLayers = layers.filter(i => i.isToggledOn);\r\n  let numberOfLayersOn = visibleLayers.length;\r\n  visibleLayers.sort(function(a,b){\r\n    return a.visibleIndex - b.visibleIndex;\r\n  })\r\n\r\n  switch(numberOfLayersOn){\r\n    case 1:\r\n    case 2:\r\n    case 3:\r\n      visibleLayers.forEach(i => i.row = \"row1\");\r\n      break;\r\n    case 4:\r\n      visibleLayers.slice(0,2).forEach(i => i.row = \"row1\");\r\n      visibleLayers.slice(2).forEach(i => i.row = \"row2\");\r\n      break;\r\n    case 5:\r\n    case 6:\r\n      visibleLayers.slice(0,3).forEach(i => i.row = \"row1\");\r\n      visibleLayers.slice(3).forEach(i => i.row = \"row2\");\r\n      break;\r\n    case 7:\r\n    case 8:\r\n      visibleLayers.slice(0,4).forEach(i => i.row = \"row1\");\r\n      visibleLayers.slice(4).forEach(i => i.row = \"row2\");\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return visibleLayers;\r\n}\r\n\r\n  render() {\r\n\r\n    return (\r\n\r\n      <Fullscreen\r\n          enabled={this.state.isFullscreenEnabled}\r\n          onChange={isFullscreenEnabled => this.setState({isFullscreenEnabled})}>\r\n\r\n        <div className=\"App\">\r\n        \r\n          <header className=\"App-header\">\r\n            {siteTitle}\r\n          </header>\r\n\r\n          <Modal isOpen={this.state.modalIsOpen} \r\n              toggleSpinner={this.toggleSpinner} \r\n              openModal={this.openModal}\r\n              closeModal={this.closeModal}\r\n              modalContent={this.state.modalContent}\r\n              modalType={this.state.modalType}\r\n              />\r\n         \r\n          {this.state.numberOfLayersOn === 0 && \r\n            <div className='no-maps'>\r\n              <p>\r\n                {welcomeText}\r\n              </p>\r\n            </div>\r\n          }\r\n\r\n          {this.state.numberOfLayersOn > 0 && \r\n            <MapsContainer layers={this.state.layers} \r\n                           overlays={this.state.overlays}\r\n                           mapCenter={this.mapCenter}\r\n                           geocodeResult={this.state.geocode}\r\n                           labelLayerOn={this.state.labelLayerOn}\r\n                           numberOfLayersOn={this.state.numberOfLayersOn}\r\n                           updateLayerDisplayIndexesAndRows={this.updateLayerDisplayIndexesAndRows}\r\n                           >\r\n        \r\n            </MapsContainer>\r\n          }\r\n\r\n          {this.state.numberOfLayersOn > 0 && \r\n            <UtilityBar transmitGeocode={this.transmitGeocode} \r\n                        toggleFullscreen={this.toggleFullscreen}\r\n                        toggleLabels={this.toggleLabels}\r\n                        labelLayerOn={this.state.labelLayerOn}\r\n                        isFullscreenEnabled={this.state.isFullscreenEnabled}\r\n                        overlays={this.state.overlays}\r\n                        addOverlay={this.addOverlay}\r\n                        openModal={this.openModal}\r\n                        closeModal={this.closeModal}\r\n                         />\r\n          }\r\n\r\n          <ViewBar onItemClick={this.handleItemClick}\r\n                   numberOfLayersOn={this.state.numberOfLayersOn}\r\n                   toggleModal={this.toggleModal}\r\n                   openModal={this.openModal}\r\n                   closeModal={this.closeModal} />\r\n\r\n        </div>\r\n      </Fullscreen>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import 'react-app-polyfill/ie9';\r\nimport 'react-app-polyfill/stable';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport './theme.css';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nimport cssVars from 'css-vars-ponyfill';\r\ncssVars({\r\n  // Options...\r\n});\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}