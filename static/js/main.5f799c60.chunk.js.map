{"version":3,"sources":["Config.js","LayersInfo.js","Geocoder/images/geocoder.png","Geocoder/images/throbber.gif","Util.js","Geocoder.js","TooltipIcon.jsx","AddOverlay.js","MapLabelsToggle.js","Settings.js","FullscreenToggle.js","UtilityBar.js","Item.js","AddLayerItem.js","ScrollButton.js","ViewBar.js","Modal.jsx","Tooltip.jsx","EsriTiledMapLayer.js","EsriDynamicMapLayer.js","EsriFeatureLayer.js","MapWrapper.js","RowContainer.js","MapsContainer.js","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","moveWithinArray","array","from","to","splice","Geocoder","props","mapboxToken","that","this","map","L","geocoderObj","Control","Mapbox","geocoderSearchPlaceholderText","addTo","on","e","transmitGeocode","container","getContainer","window","document","getElementById","appendChild","geocode","id","className","Component","TooltipIcon","library","add","faInfoCircle","data-tip","tooltipName","data-for","data-event","icon","AddOverlay","faLayerGroup","faPlus","onClick","bind","onBlur","modalType","target","value","modalContent","htmlFor","name","placeholder","Config","tooltips","AddOverlayUrl","type","AddOverlayTileLayer","AddOverlayEsriFeatureLayer","openModal","title","transform","color","MapLabelsToggle","onChange","toggleLabels","defaultChecked","labelLayerOn","Settings","faCog","size","faExpand","faCompress","FullscreenToggle","toggleFullscreen","isFullscreenEnabled","UtilityBar","numberOfLayersOn","addOverlay","overlays","Item","state","isToggledOn","opacity","resolveThumbnail","getThumbnailByLayerType","guessLayerTypeByUrl","layerType","thumbnail_file","startsWith","thumbnail_path","maxLayers","setState","prevState","onItemClick","vex","dialog","alert","maxLayersWarning","replace","dispName","display_name","style","backgroundImage","length","slice","AddLayerItem","faMap","faAngleLeft","faAngleRight","ScrollButton","direction","arrow","ViewBar","handleItemClick","handleScrollButtonClick","scrollTo","onWheel","easeInOutQuad","data","newState","cloneDeep","layers","forEach","lyr","index","scrollDirection","prevProps","newLayer","push","LayersInfo","item","shortid","generate","sort","a","b","sortVal","elem","scrollSize","deltaMode","deltaY","scrollLeft","duration","start","clientWidth","documentElement","moveSize","Math","max","change","currentTime","animateScroll","val","setTimeout","t","c","d","items","onScroll","scrollleft","key","closeModal","addLayer","ReactModal","setAppElement","Modal","formatContent","afterOpenModal","gatherValues","handleCloseModal","handleSubmit","ref","React","createRef","rebuildTooltip","querySelectorAll","url","modal","current","node","children","console","log","modalSubmit","content","closeTimeoutMS","isOpen","onAfterOpen","onRequestClose","contentLabel","Tooltip","resetRebuildTooltip","ReactTooltip","rebuild","effect","place","multiline","globalEventOff","EsriTiledMapLayer","tiledMapLayer","GridLayer","propTypes","PropTypes","string","isRequired","withLeaflet","EsriDynamicMapLayer","options","el","dynamicMapLayer","contextValue","leaflet","popupContainer","fromProps","toProps","leafletElement","setUrl","MapLayer","EsriFeatureLayer","featureLayer","faGripVertical","Handle","provided","dragHandleProps","MapWrapper","context","labelLayerUrl","DEFAULT_VIEWPORT","center","mapDefaultCenter","zoom","mapDefaultZoom","viewport","invalidateMapSizes","syncMaps","unsyncMaps","moveend","onViewportChanged","passUpRef","onResize","onGeocodeClick","bboxStringToLatLngBoundsArray","checkLayerBounds","layer","mapRef","ref_id","deleteRef","startBounds","split","clearGeocode","layer_components","WMSTileLayer","TileLayer","Layer","draggableProps","innerRef","Map","minZoom","mapMinZoom","bounds","maxZoom","numberLayers","isDragging","zoomControl","visibleIndex","geocodeResult","Marker","position","pane","zIndex","Overlay","forwardRef","RowContainer","maps","draggableId","snapshot","layerIndex","droppableProps","MapsContainer","onDragEnd","setMapRef","handleGeocode","mapRefs","DOMNode","draggedLayer","destination","currentLayerIndex","destinationIndex","allLayers","currentRow","source","droppableId","destRow","filter","i","row","allTurnedOnLayers","updateLayerDisplayIndexesAndRows","invalidateSize","unsync","j","isSynced","sync","syncCursor","randomMap","Object","entries","bbox","_northEast","lat","_southWest","fitBounds","setView","array1","array2","arraysAreEqual","compareArrays","numberRows","Set","row1Layers","row2Layers","rows","App","toggleModal","toggleSpinner","calculateDisplayIndexes","calculateRowLayers","defaultOverlays","Vex","registerPlugin","plugin","defaultOptions","current_val","curr","bool","new_layer","isOverlay","foundIdx","found","newStateLayers","concat","newNumberOfLayersOn","newLayers","lyrIndex","attr","findWithAttr","visibleLayers","enabled","siteTitle","modalIsOpen","welcomeText","mapCenter","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","cssVars","ReactDOM","render","URL","process","origin","addEventListener","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.5f799c60.chunk.js","sourcesContent":["module.exports = {\n  \"defaultOverlays\": [{\n    \"url\": \"https://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/USA_States_Generalized/FeatureServer/0\",\n    \"type\": \"EsriFeatureLayer\",\n    \"style\": function(){return {\"fill\": false, \"color\": \"#fafafa\", \"weight\": 1}},\n    \"key\": \"stateoutlinesoverlay\",\n    \"interactive\": false\n  }],\n  \"mapboxToken\": \"pk.eyJ1Ijoia3JkeWtlIiwiYSI6Ik15RGcwZGMifQ.IR_NpAqXL1ro8mFeTIdifg\",//replace with your own\n  \"labelLayerUrl\": \"https://api.mapbox.com/styles/v1/krdyke/cjf9wgvwg0zlh2rmo4jx9jcec/tiles/256/{z}/{x}/{y}?access_token=\",\n  \"maxLayers\": 8, //From 1 - 8, though why would you want 1?\n  \"maxLayersWarning\": \"Only {maxLayers} layers can be selected at once. Please deselect some in order to select new ones.\",//Can be changed, but leave {maxLayers in there somewhere}\n  \"siteTitle\": \"Sideby: for comparing stuff\",\n  \"welcomeText\": \"Sideby is an application for comparing spatial data layers side by side (by side by side by side, etc.). Try clicking/tapping the layers below, or try adding your own by clicking the + at the end of the list.\",\n  \"mapMinZoom\": 3,\n  \"mapDefaultZoom\": 3,\n  \"mapDefaultCenter\": [0,0],\n  \"geocoderSearchPlaceholderText\": \"Search for a place...\",\n  \"tooltips\": {\n      \"AddOverlayUrl\": \"Enter the URL to the layer you want to add here.\",\n      \"AddOverlayTileLayer\": \"An XYZ style layer.<br/>For example https://maps.nyc.gov/xyz/1.0.0/carto/label/{z}/{x}/{y}.png8\",\n      \"AddOverlayEsriFeatureLayer\": \"A vector layer coming from ArcGIS Online or ArcGIS Server.<br/>For example, https://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/USA_States_Generalized/FeatureServer/0\"\n    \n  }\n};","/*\n\nEach layer has the following values:\n\n\ttype {string}: Required. The Leaflet layer type. Values can be WMSTileLayer, EsriTiledMapLayer, EsriDynamicMapLayer, TileLayer, and others.\n\t\tSee Leaflet documentation for others. Esri Leaflet has more also, but they need porting to leaflet-react.\n\tdisplay_name {string}: Required. What you want to be displayed over the layer's selection tile. Keep it short!\n\turl {string}: Required. The url to the service.\n  thumbnail_file {string}: Optional. Strongly encouraged. You can either reference the name of a file stored locally in public/assets/images or provide the full url to a thumbnail stored elsewhere. For example, IIIF links work very nicely if available.\n  startBounds {string}: Optional. In addition to setting the default map bounds in Config.js, you can also provide them on a layer basis. The format is sw longitude, sw latitude, ne longitude, ne latitude. Klokan's Bounding Box tool's CSV provides this format. !Note! the startBounds is only used when the layer is the first one turned on.\n\nYou can also supply options that are specific to the type of layer. For some layers there are additional required fields. For example, for a WMS layer, you must provide a \"layers\" parameter specifying which layers to use in a comma separated list like 'layer1,layer2'.\n\nSee the documentation for each layer for other options.\nhttps://leafletjs.com/reference-1.5.0.html\nhttp://esri.github.io/esri-leaflet/api-reference/\n\nNote: Layers need to be capable of serving in Web Mercator (EPSG: 3857). For Esri services, if a tiled service is not served in 3857, you can oftentimes use the same service as a dynamic layer, which will reproject the layer into 3857 on the fly.\n\n*/\nmodule.exports = [\n      // {\n      //   \"type\": \"EsriTiledMapLayer\",\n      //   \"display_name\": \"Earth at Night\",\n      //   \"url\": \"https://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Earth_at_Night_WM/MapServer\",\n      //   \"thumbnail_file\": \"https://osu-geog.maps.arcgis.com/sharing/rest/content/items/6e30256ec1da4f8a9d13a110db4508ec/info/thumbnail/earth_night_world.jpg?token=NkoCMkMaujqgoLn7PJ97xM9ufcIISRLYKkaLIqupeC2ZTsO-xbhEs0ZV_ZAxPd-Yz7e296ZEVjdKM4_l5uF5B7KcSkZLRekrjXmwxhr8lPNtI-eudtmvDSpe8NRy5xjJ75KjYR01_DpUthNE-f-lUGo-mAUHiuFRuK5-ro2-l8QTLigBeRtvOLwkWzM_Zu3Jn2TgEF4O_pDPmmmavc1VV2uUmUKtJDmZTJlz17JjMJ0.\"\n      // },      \n      // {\n      //   \"type\": \"TileLayer\",\n      //   \"display_name\": \"SF to Reno\",\n      //   \"url\": \"https://maps.georeferencer.com/georeferences/585344642040/2017-08-19T19:12:17.959307Z/map/{z}/{x}/{y}.png?key=mpw3woex27IU5NcGR55J\",\n      //   \"thumbnail_file\": \"reno.png\"\n      // },\n      {\n        \"type\": \"TileLayer\",\n        \"display_name\": \"USA\",\n        \"url\": \"https://mapwarper.net/maps/tile/34156/{z}/{x}/{y}.png\",\n        //If you store a thumbnail file in public/assets/images, you can reference it here just using the file name.\n        \"thumbnail_file\": \"mapwarper_34156.JPG\",\n        \"startBounds\": \"-127.5,23.3,-64.1,51.4\"\n      },  \n\n      {\n        \"url\":\"https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer\",\n        \"type\":\"EsriTiledMapLayer\",\n        \"display_name\": \"Base Map\",\n        \"thumbnail_file\": \"https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/info/thumbnail\"\n      },\n\n      {\n        \"type\": \"EsriTiledMapLayer\",\n        //Some Esri layers will have thumbnails you can point to.\n        \"thumbnail_file\": \"https://osu-geog.maps.arcgis.com/sharing/rest/content/items/24e82d4524a6475d8787e3b9783b494c/info/thumbnail/thumbnail1553624734746.png\",\n        \"display_name\": \"oksm SS 4959 p807c\",\n        \"url\": \"https://tiles.arcgis.com/tiles/jWQlP64OuwDh6GGX/arcgis/rest/services/oksm_SS_4959_p807c/MapServer\"\n      },\n      {\n        \"type\": \"TileLayer\",\n        \"display_name\": \"Orange\",\n        //For Mapbox maps, you can use their static API to dynamically generate a thumbnail. Note you'll need to just include the access token inline (for now!).\n        \"thumbnail_file\": \"https://api.mapbox.com/styles/v1/krdyke/cj9slcunc24xi2sqpg7xnsigk/static/-97,38,2,0,0/300x200@2x?access_token=pk.eyJ1Ijoia3JkeWtlIiwiYSI6Ik15RGcwZGMifQ.IR_NpAqXL1ro8mFeTIdifg\",\n        //Also for Mapbox, you'll need to provide a spot for the access token. It can be nice to include ?access_token={access_token} at the end of the url, then supply an access_token parameter separately, as demonstrated below.\n        \"url\": \"https://api.mapbox.com/styles/v1/krdyke/cj9slcunc24xi2sqpg7xnsigk/tiles/256/{z}/{x}/{y}?access_token={access_token}\",\n        \"access_token\": \"pk.eyJ1Ijoia3JkeWtlIiwiYSI6Ik15RGcwZGMifQ.IR_NpAqXL1ro8mFeTIdifg\"\n      },\n      {\n        \"type\": \"EsriTiledMapLayer\",\n        \"thumbnail_file\": \"https://osu-geog.maps.arcgis.com/sharing/rest/content/items/cec6db40a19b48cf92e895a78e466230/info/thumbnail/thumbnail1553625137428.png\",\n        \"display_name\": \"oksm SS 6243 p1005 1\",\n        \"url\": \"https://tiles.arcgis.com/tiles/jWQlP64OuwDh6GGX/arcgis/rest/services/oksm_SS_6243_p1005_1/MapServer\"\n      },\n      {\n        \"type\": \"TileLayer\",\n        \"display_name\": \"NLS\",\n        \"url\": \"https://nls-{s}.tileserver.com/nls/{z}/{x}/{y}.jpg\",\n        \"subdomains\": \"123\",\n        \"thumbnail_file\": \"nls.JPG\",\n        \"startBounds\": \"-12.41,48.01,4.51,60.84\"\n\n      },\n      {\n        \"type\": \"TileLayer\",\n        \"display_name\": \"OS\",\n        \"url\": \"https://geo.nls.uk/maps/os/1inch_2nd_ed/{z}/{x}/{y}.png\",\n        \"thumbnail_file\": \"os.JPG\",\n        \"startBounds\": \"-12.41,48.01,4.51,60.84\"\n      },\n      \n      /*This is an example of TMS. Note how similar it is to generic XYZ TileLayer.\n        When using TMS, be sure to add the line \"tms\": true as an option.*/\n      \n      {\n        \"type\": \"TileLayer\",\n        \"display_name\": \"NYC 2018\",\n        \"url\": \"https://maps.nyc.gov/tms/1.0.0/photo/2018/{z}/{x}/{y}.png8\",\n        \"startBounds\": \"-74.447928,40.442617,-73.512717,40.988043\",\n        \"tms\": true\n      },\n      // {\n      //   \"type\": \"TileLayer\",\n      //   \"display_name\": \"NYC 2016\",\n      //   \"url\": \"https://maps.nyc.gov/xyz/1.0.0/photo/2016/{z}/{x}/{y}.png8\",\n      //   \"startBounds\": \"-74.447928,40.442617,-73.512717,40.988043\"\n      // },\n      // {\n      //   \"type\": \"TileLayer\",\n      //   \"display_name\": \"NYC 2014\",\n      //   \"url\": \"https://maps.nyc.gov/xyz/1.0.0/photo/2014/{z}/{x}/{y}.png8\",\n      //   \"startBounds\": \"-74.447928,40.442617,-73.512717,40.988043\"\n      // },\n      // {\n      //   \"type\": \"TileLayer\",\n      //   \"display_name\": \"NYC 2012\",\n      //   \"url\": \"https://maps.nyc.gov/xyz/1.0.0/photo/2012/{z}/{x}/{y}.png8\",\n      //   \"startBounds\": \"-74.447928,40.442617,-73.512717,40.988043\"\n      // },\n      // {\n      //   \"type\": \"TileLayer\",\n      //   \"display_name\": \"NYC 1951\",\n      //   \"url\": \"https://maps.nyc.gov/xyz/1.0.0/photo/1951/{z}/{x}/{y}.png8\",\n      //   \"startBounds\": \"-74.447928,40.442617,-73.512717,40.988043\"\n      // },\n      {\n        \"type\": \"TileLayer\",\n        \"display_name\": \"NYC 1924\",\n        \"url\": \"https://maps.nyc.gov/xyz/1.0.0/photo/1924/{z}/{x}/{y}.png8\",\n        \"startBounds\": \"-74.447928,40.442617,-73.512717,40.988043\"\n      },\n\n      {\n        \"type\": \"EsriDynamicMapLayer\",\n        \"display_name\": \"Hennepin 2015\",\n        \"url\": \"https://gis.hennepin.us/arcgis/rest/services/Imagery/UTM_Aerial_2015/MapServer\",\n        \"startBounds\": \"-93.770195,44.78738,-93.176871,45.246598\"\n      },\n      // ,{\n      //   \"type\": \"EsriDynamicMapLayer\",\n      //   \"display_name\": \"Hennepin 2005\",\n      //   \"url\": \"https://gis.hennepin.us/arcgis/rest/services/Imagery/UTM_Aerial_2005/MapServer\",\n      //   \"startBounds\": \"-93.770195,44.78738,-93.176871,45.246598\"\n      // },{\n      //   \"type\": \"EsriDynamicMapLayer\",\n      //   \"display_name\": \"Hennepin 2000\",\n      //   \"url\": \"https://gis.hennepin.us/arcgis/rest/services/Imagery/UTM_Aerial_2000/MapServer\",\n      //   \"startBounds\": \"-93.770195,44.78738,-93.176871,45.246598\"\n      // },{\n      //   \"type\": \"EsriDynamicMapLayer\",\n      //   \"display_name\": \"Hennepin 1988\",\n      //   \"url\": \"https://gis.hennepin.us/arcgis/rest/services/Imagery/UTM_Aerial_1988/MapServer\",\n      //   \"startBounds\": \"-93.770195,44.78738,-93.176871,45.246598\"\n      // },{\n      //   \"type\": \"EsriDynamicMapLayer\",\n      //   \"display_name\": \"Hennepin 1969\",\n      //   \"url\": \"https://gis.hennepin.us/arcgis/rest/services/Imagery/UTM_Aerial_1969/MapServer\",\n      //   \"startBounds\": \"-93.770195,44.78738,-93.176871,45.246598\"\n      // },{\n      //   \"type\": \"EsriDynamicMapLayer\",\n      //   \"display_name\": \"Hennepin 1957\",\n      //   \"url\": \"https://gis.hennepin.us/arcgis/rest/services/Imagery/UTM_Aerial_1957/MapServer\",\n      //   \"startBounds\": \"-93.770195,44.78738,-93.176871,45.246598\"\n      // },{\n      //   \"type\": \"EsriDynamicMapLayer\",\n      //   \"display_name\": \"Hennepin 1953\",\n      //   \"url\": \"https://gis.hennepin.us/arcgis/rest/services/Imagery/UTM_Aerial_1953/MapServer\",\n      //   \"startBounds\": \"-93.770195,44.78738,-93.176871,45.246598\"\n      // },\n      {\n        \"type\": \"EsriDynamicMapLayer\",\n        \"display_name\": \"Hennepin 1940\",\n        \"url\": \"https://gis.hennepin.us/arcgis/rest/services/Imagery/UTM_Aerial_1940/MapServer\",\n        \"startBounds\": \"-93.770195,44.78738,-93.176871,45.246598\"\n      }\n\n\n\n\n      \n\n];","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAMAAACelLz8AAAAz1BMVEUAAAAkJCQmJiYmJiYlJSUkJCQAAAAqKiokJCQmJiYzMzMlJSUkJCQmJiYlJSUmJiYoKCgmJiYmJiYnJycmJiYAAAAmJiYmJiYlJSUZGRklJSUmJiYmJiYlJSUlJSUmJiYmJiYtLS0mJiYlJSUmJiYnJyccHBwmJiYmJiYlJSUiIiImJiYmJiYmJiYlJSUkJCQlJSUjIyMuLi4mJiYmJiYlJSUlJSUlJSUAAAAmJiYlJSUoKCglJSUlJSUmJiYmJiYlJSUlJSUlJSUlJSUmJiawjvnZAAAARHRSTlMARfbw3jEDBkb+BatNZMu1GfHGDdQBoPjyCsOfFD2C/LQRaqiTVQmMcFkW4uR961pnOQshyWDgnAKuzDP5uPVW+tp5S3AUDfcAAACGSURBVBgZzcFFAoMwAATARQN1d3d3d9n/v6n0SsKdGYROrW7ZUMlWm+SsD1kkw1ZnPnXHkMTZADAxFwP4JdMCnhU1+CVy+NO4hF+02IbnwzX8YuwKwDLeNiQFHo7nG7+Q5UcmX/eH/oTK5oQLjS3Urjp3Amp7cogAPboO1ESl5CBAOYVQ+QEjbg1iCZEUOgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/gif;base64,R0lGODlhGAAYAPcAABkZGR8fHyUlJS4uLjExMTc3Nz09PURERFFRUVtbW15eXmJiYmVlZWtra21tbXNzc3V1dXh4eISEhI2NjZCQkJSUlJqampycnKampqurq6+vr7Kysra2trm5ub+/v8DAwMXFxcnJyczMzNHR0dbW1tjY2N3d3eDg4OXl5evr6+zs7PHx8fb29vr6+v///wUFBQoKCg8PDxgYGC0tLUNDQ0VFRU9PT1NTU1lZWV1dXWpqanJycnZ2dnl5eXx8fIKCgoeHh5mZmaKioqSkpKioqKysrLe3t7u7u7y8vMfHx8vLy87OztPT09XV1dnZ2dzc3OHh4erq6u7u7vPz8/f39xAQEBcXFywsLEJCQkZGRklJSU5OTlJSUlRUVF9fX2BgYGdnZ25ubnd3d39/f46OjpGRkaWlpbOzs729vcPDw8bGxsjIyM3NzdLS0tra2t7e3uLi4unp6e/v7/X19fv7+1hYWHFxcZaWlpubm5+fn6Ojo7GxscHBwcTExMrKys/Pz9vb29/f3+bm5ujo6PLy8vT09Pn5+UtLS01NTXp6eoaGhpKSktDQ0OPj4ysrK0pKSlZWVlxcXIyMjLq6utfX10BAQK2trX19fa6uru3t7WNjY4WFhZ6envDw8C8vL9TU1Ofn5xoaGrS0tAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/i1NYWRlIGJ5IEtyYXNpbWlyYSBOZWpjaGV2YSAod3d3LmxvYWRpbmZvLm5ldCkAIfkEAAoA/wAsAAAAABgAGAAABv9Al3BIdIlExWSSxRKuDoeVcppqTJwEgtS1Sk2HqcNgxM1KWydU6yvMABytldmVMjWVKa+LpQh0WGYsaUMta0ItDwgbTSACDSwYGC0qJ4YqIyaEFgYDDSIsGyVELU0rJkcoRSQRBAUeUypHdkotHhCiSiwmW0RMTKRsLmvDLiYODMgLH2wpIM4gIboOC9QLr18pH88hUkwrv8HCwoaEIhWpSish6EkmFAkJIVMmGRkgeocaCwgSJC0j+FyoyJTCAwYNJIhMePBhTYkHF/6R8VDhhJATHJYNUaHiUAUHI1pUoNDC3QZDTKaEaHBBWIUKazpQwPVlhQQIFkWSpGMBw50bKSsucBDCgkKFOyE4/PxiqMUFC03DJUHBbkoQACH5BAAKAP8ALAAAAAAYABgAAAf/gC6Cg4QuTEyFiYktLYJTNzZTglRUioRRO0GONTWSLkA4KJaCUTcGTS5TnJJLMgRRo4IbMz0tqp1UOS9CllJSkzoESFScVBswNpUujYMtPwvDLkoFPVRFRbkxSJMosIItQjY0PUwtR0+ETUWMKFBPnoNOPzU2SZZU7lHMhS1JP1CWWkRRRogSJUaxljVz8aTHjoc77I2S0qTJoSb4HD5sILEXk4ofK1GZYnCfokYoFTER4i0RFSYtC0G5oGPHEktRjhxhAk/QER46Kjhp4eTXoCmipCwxggTdtyA/lFR68mOdEyfSiHhDkQTRUaPgfjRpMWRICxRDtk0ySWiJDyLLLMo2SjIEYKwpFYCIIiukkRQiRggqmkLkwzchZgU1SSL4ZLMiRNgmLBQlpqJAACH5BAAKAP8ALAAAAAAYABgAAAf/gC6Cg4Qubk2FiYl0dIJzXl5zjo2Kg3I/ZoIrXV2SLmRgcZWCcl9cbi5zXF0rLm1XWaKjLh1YQKlcXHN0YQAZlXKtqWJZaqqdHAJewnEog3RkO2mNbFpAdGccc2ECaqlmVziUdEVfXUBNdGlwhE1nc2lbL1ZAnoJvZDhea5VFVTBe2Ciis6aMM0VNcJyhNGiOQ0YMByZCQQaIxR8CR81BgQIORzoUfwAR6U0jHI8eGzl8GHFWpSZF5FSi80amIhQZxvxApGgFmzVv7AlKA2SMkDd04AhzJGqFmzVtDrogV4ZNIzhlOrg4SacJGptx2rwhtEIYtjJIOXCgE6dDxqktLwe5IcNhqtpGbTrI0igkiCg6d12sQKMmLqE5HUoCXnvPqsupguh00Pp4lBybowIBACH5BAAKAP8ALAAAAAAYABgAAAj/AF0IHEjQRaBABRMmNGRIYCEHDgoJZKiQoJwJGhwuYCDRBR47gyoKlGNnAcJCGyWSMHBDjkiBHm6UcYGSo4seM/ZUJERoooQ6f2oa8kAgosBBISfikeCnIZM6ZQzx4VMIQoE/LghpwNKgoUAOEBrcAWTIT1KBgY4U6qMAwIwJXgXCydPADpOKewQEcHB3IZM8ZwsCanAk7kRDhRgaTlioEE+ehgThuVOGct+KeghoJmCAieTKlEm8zLy5swuGiRO/NPQYcsG0LhUaktMx4aAjlREqLAQHzqDFfyjvERS550DHNAcFgmP8NAc9ZF0MyuDHhSBBBv8YLyQocOOBHvRgN+/Th7WfQHEXD4Sjp49A8mj9xBZpiIMGl4bINyz0h4R6gmuJdhp8AgmC3ksTDeRHdQi+xBOCAQEAIfkEAAoA/wAsAAAAABgAGAAACP8AXQgcSNBFo0AFEyZs0ULgnEQ+5ghkqJDgFAsdHNqx09CFkB9yKgqUo4hHIxdzNkp0gohBSJEu1OgQgtIOD4k/aGRUOGXKxAphmqTkqOZAoo6DBg1sgWERo4ZOwghpoUbNHEWHGKHcgIBHRxcfFPkQEqjFH6UDG1n9o2OAAQtfXaAo4uNHk4odChBIdFehkyIvEwbi8SGuC4ZzGBouOKdxT4mDMmAQMtkJzCI0DmhGwEhOBsqULYvMkHmzVsQUYTqe0zOhWp8KmzDYsNiFHDUZMqCoWAQGjBx/CjYpgsGD0kESlyb+gOiFFUVf1XBo1FCOB61yQg6i7mIKhgE4vjY4nvinQ8gmT+c0Quti0G6FKDpoddGk76BAyUVS9QC7fkP17+nHCEKHMTJfd4PUJlITosGkWn4VBQQAIfkEAAoA/wAsAAAAABgAGAAACP8AXQgcSNAFHDgFEyqkI5COJEkMGyokOIXIB4FzfiiaI7CIpCkTBU6poAiFizmKFDEs8eWBipACl/ggclIjR0mQLiqcw9EFHT0+StDRSGcJJJUCVbxsyEGPUBdvFBUpuoQOhUiUTk768iOiCyVBKOxBQYfSUoEolMxhIgYLlyFeXaSYRKHCm4lqHmVRdFchnElnC8JRpCauTzqIEcPkOWfKFI4qJnGYzAFhSA5cuEDiEqlEZMqVYe7JrBlrw8QwT9JpzDNhCiY9E1JqMMmwSCaT0KSYuEdAAAdMCr5BM2nJSxVxKRWZo+QLAEcUItJhosakiylL7vKkEwnGxTlEsIA98bp6YAklL1GY3ANjS88U1hOqUNJXvc9IL4akLrukp3qGSwBAwG4h0fFGfAcNpAgO8aWGVnxz2LafhAQFBAAh+QQACgD/ACwAAAAAGAAYAAAI/wBdCBxI0AUKFAUTJqRDRyCdC0EaumCokCAVDkoEUqlQhopADhdWVNSIIUgUF1TKVGh4AoIikSNdkCjDYSJHhhcaZFRIxePEPWVM0FFJp42DjgLlyCHIh8MJlhWOuGjT5uEDQBOPOJggUaYlDHxOmoApMEpVEhISLLDU1YUcNRkyIFSoJEGdoBVRqCFbEEUZNm0nMqQYk05PKis8rlCiho8aNXMrHvGyYIEXB2MZP1ZzcuQRMAtAO8AqmPBIhod9EpRjQnVBExCOBNZogg0bvgSPFCAAgQRBOijYKAEkkkpbEhyoKGlwxUDEgSbaLEVpQg4dDBioNBCgBuUeBA+6mkGOcgIxAQIrjgTw4jNK54QrTJxccX4FHQcAMsSciOKpC/roTXVFJe9VFAVMAMJUBhgF7rdCJZXAZNp+A7XBxn4BAQAh+QQACgD/ACwAAAAAGAAYAAAI/wBdCBxI0EWcOAUTKhxoKAMmQwwXDqQCgoRAQxj0QHThAcMUiS6ocMCkwoUhPRggCgJSgQpIF1AwgDCZEWKGS0sWGtpoiE8GQRhTkrikUaCKjwPbgBAkUFAGEIaeOHGB6ceTkEp+XNjo4omHDktKCkJqlIQhJxV0iOlQcAqJDh0QKmzzIIweKAtVtHGpUJCeNlwJ7nxpkophwyFJtFFMoqREEGEe1O3xhAoJxo1BgpAs+dLVwYF1GjocOmSc0gKhAIGq0JCKJ1D4JgSxpcaPqQSnQHkC1BAmiwOddDBEogeNLUUFxhHEl0+MHFQcUhFTQElIDwt+BN44ZQuMDVRq1EOg4oGADr4qHCfE8CKHoSnipxjqMWPDS0EEZOSEX+MjCQMIyLWQIDgAIdAUNPQnUBAPqCeaQFQggABSgxFGUBttvBQQACH5BAAKAP8ALAAAAAAYABgAAAj/AF0IHEjQRSZCBRMqbCGwxaRJDF1EVDiwBRMTDY0YiejHCEKKEkF4QNhCI8MoQcwUAilQkBEmEk26mETGDcUWE/9MilJyo4kyZyIS+ijQBJNMAjNNggkHjsM7giT+KZOBoKA/ftwgjLJyICETLUzo8QHEw0QXhUz4+UO0YJMfYzJEVfi1a8JMGWyy3IuzkF+GLQTBESS4bcI/P4AkJuOUMGE4dhUiBkKZscSJZxP2/VuwxZkcTSgKKvMns8A/OWBUsUTRT44uZDBWBGLlBSI+hYzoFQgHRIsmQLp8sRSxEI4rKl2AEAAmt5FCQLT8kchnB5mJgqIILJQjwKRCN7oUPvJzQEzXgxQtAQiD9saNlUCwTNobBcsVmITCr3Rz4wtSkFGAUYZA+d3wkRk//AcSTtvlkENXDO5VkBu7URQQACH5BAAKAP8ALAAAAAAYABgAAAj/AF0IHEjQRadOBRMqHEhHyR86AiEuZPgGxUAQICQ2AcFiogs6Tf4gpINRoIoiHCROVKHkjUCMEEFgcKlQpQtAf1SQzIiCCB+JnToOjIICocE/LlFEcQGiyFKQGFIO7AQHTpSOKoQK7ISCDoozZYIoKUgnCpw3Wgu+uVOGw1KFLHQu7NQBTsKDeG0mpMO3r4sRlQgIJoDBY5MyiMOiADyYsMcRiRUbxBvUY1+/BOl0aABoIQo9I/QKHNEggIAzC0fscMDJLsMJMwAoyOih80AUSugAutNAjNSPDSoR6aiEgBgWfDzQuVNnhAsWSjYFUalUIIsGBJQz0MTiT51NQFUsNzwzQwwdFtsRlrnBx6OLKDcMNHmuSRPCN5p2iJ8YZUcQ69sJVcQERk10nnUOOKCVaO69QdNEAQEAIfkEAAoA/wAsAAAAABgAGAAACP8AXQgcSNBFoUIFEyok+MnJwoWG4nQa+OmTIYFQ2lx86AIUlIuGKgrshATExoeFAsURKNJFmw6gFoKKKTBOIIRtPrmI02HJxoMDDeHwZAahISgrpUhx8QnJUhdQzoAICsTKiy18DBU6aTApEjOWHBJcogBGFUsyM2QAMTGhoTMKdCrstAYUVxedDuZF+NCQ379MEdQYXAPtw0BmEpvJEKeNYMKGFzoxIyQxY4OFOu3lCBIwQUN8eARaKMWS3ISfeBAogGThJyA+MtAUaMiCAU8NlhQCAYVgY0OBhCQCwicoDwRnJrY5BMQQCJMWeDg01GaRmZNxVrowlKiGyQcPCn06alDhZ9uEHWr8MAgeoZAGUzlKYYDAYaH2UHkAOa9Qyg8htOHnQgcX8KeQXwIV4kMifCHIUUJQ9MZRQAAh+QQACgD/ACwAAAAAGAAYAAAI/wBdCBxI0MUcQwUTJjw4EBQohRBdxMGxqWGjhk8QRgRFIBQbgY0uGmRCQmPEIS8UIHQo8ImfTBDjxBE4ZwuMPS5AXezkp8RAQyYNgcGSYY6LDzFUzjH6hE0nF4ZAqWHys4yjUArUzClCdeCcp53YTELzpCATBwEE4FQYB80kJk8TGprkwKfCOUxmFlzaaanRiAKBQnVRQsGNG11uiALcSJRjUWgyFT58eC3ExqImQYb51a9JiAiBfhaoZtNDhZ0mlVX4ZFOWRx8gPrlTZpLewENuYBHDxpCf0wIzlQS1p0yQj4F/fJlklISCMobY9C7yo6whEkNEmcwEE+qmLr03/TwwVMLHEI1LIX7oQsb7JqMZfHSN2OnBF5+GNr3PualMXIidkFEETfr99UFRgEGFHhlk/DVYggU1AhxEAQEAOw==\"","/*\n*  Takes an array of objects and returns the index \n*  of the member with the supplied attribute value.\n*  If not found, returns -1.\n*/\nexport function findWithAttr(array, attr, value) {\n    for(var i = 0; i < array.length; i += 1) {\n        if(array[i][attr] === value) {\n            return i;\n        }\n    }\n    return -1;\n  }\n\n/*\n*\tMoves items within an array. From and to arguments\n*   Represent the index numbers. Returns nothing, as \n*   it modifies the array in place.\n*/\nexport function moveWithinArray(array, from, to) {\n    array.splice(to, 0, array.splice(from, 1)[0]);\n  }\n\nexport function compareArrays(array1, array2) {\n\tvar arraysAreEqual = true;\n\tfor (var i = array1.length; i--;){\n\t\tif (array1[i] !== array2[i]) {\n\t\t\tarraysAreEqual = false;\n\t\t}\n\t}\n\treturn arraysAreEqual;\n}\n\n","import React, { Component } from 'react';\nimport L from 'leaflet';\nimport {mapboxToken, geocoderSearchPlaceholderText} from './Config';\nimport 'leaflet-control-geocoder';\nimport './Geocoder/images/geocoder.png';\nimport './Geocoder/images/throbber.gif';\nimport './Geocoder/Control.Geocoder.css';\nimport './Geocoder.css';\n\n\nclass Geocoder extends Component {\n\n  constructor(props) {\n    super(props);\n    this.mapboxToken = mapboxToken;\n  }\n \n  componentDidMount(){\n    //console.log(\"Geocoder mounted\");\n    let that = this;\n    this.map = L.map('hidden-geocoder-map');\n    this.geocoderObj = new L.Control.Geocoder(\n      {\n        \"geocoder\": new L.Control.Geocoder.Mapbox(\n          this.mapboxToken,\n          //By uncommenting geocodingQueryParams below, you can restrict geocoding results\n          //to a specific region using country and bbox. By default it is a world-wide geocoder.\n          // {\n          //   \"geocodingQueryParams\": {\n          //     \"country\": \"US\",\n          //     \"bbox\":\"-97.35122680664064,35.9357645138553, -96.75178527832033,36.324530335021876\"\n          //   }\n          // }\n        ),\n        \"collapsed\": false,\n        \"placeholder\": geocoderSearchPlaceholderText,\n        \"suggestMinLength\": 3,\n        \"queryMinLength\": 1,\n        \"defaultMarkGeocode\": false\n      });\n    this.geocoderObj.addTo(this.map);\n    this.geocoderObj.on(\"markgeocode\", e => that.transmitGeocode(e));\n    let container = this.geocoderObj.getContainer();\n    window.document.getElementById(\"Geocoder\").appendChild(container);\n  }\n\n  transmitGeocode(geocode){\n    this.props.transmitGeocode(geocode);\n  }\n\n  render() {\n    return (\n      <div id='Geocoder' className={'Geocoder'}>\n        <div id='hidden-geocoder-map'></div>\n        \n      </div>\n    );\n  }\n}\n\nexport default Geocoder;\n\n","import React, { Component } from 'react';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faInfoCircle } from '@fortawesome/free-solid-svg-icons';\n\nclass TooltipIcon extends Component {\n\n  constructor(props) {\n    super(props);\n    library.add(faInfoCircle);\n  }\n\n  render() {\n    return (\n      <FontAwesomeIcon \n            data-tip={this.props.tooltipName} \n            data-for='modal' \n            data-event='click'\n            icon='info-circle' />\n    );\n  }\n}\n\nexport default TooltipIcon;\n","import React, { Component } from 'react';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faLayerGroup, faPlus } from '@fortawesome/free-solid-svg-icons';\nimport TooltipIcon from './TooltipIcon';\nimport Config from './Config';\n\nclass AddOverlay extends Component {\n\n  constructor(props) {\n    super(props);\n    library.add(faLayerGroup);\n    library.add(faPlus);\n    this.onClick = this.onClick.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.modalType = 'AddOverlay';\n  }\n \n  onBlur(e) {\n    let submittedUrl = e.target.value;\n    \n  }\n\n  onClick(e) {\n    let modalContent = \n    <>\n        <table>\n            <thead>\n                <tr>\n                    <th>Name</th>\n                    <th>URL</th>\n                </tr>\n            </thead>\n            <tbody>\n            </tbody>\n        </table>\n\n        <div className='inputGroup'>\n            <label className='textInputLabel' htmlFor='addOverlayUrl'>Url: </label>\n            <textarea\n                id='addOverlayUrl' \n                name='addOverlayUrl' \n                placeholder='Enter the URL to your map/data.'\n                onBlur={this.onBlur}></textarea>\n            <TooltipIcon tooltipName={Config.tooltips.AddOverlayUrl} />\n        </div>\n        <div className=\"radioGroup\">\n            <label className=\"radioGroupLabel\" htmlFor=\"overlayType\">Type</label>\n                <div className=\"inputGroup\">\n                    <input \n                        name=\"overlayType\" \n                        id=\"overlay-input-TileLayer\" \n                        type=\"radio\" \n                        value=\"TileLayer\" />\n                    <label htmlFor=\"overlay-input-TileLayer\">TileLayer</label>\n                    <TooltipIcon tooltipName={Config.tooltips.AddOverlayTileLayer}/>\n                </div>\n                \n                <div className=\"inputGroup\">\n                    <input \n                        name=\"overlayType\" \n                        id=\"overlay-input-WMSTileLayer\" \n                        type=\"radio\" \n                        value=\"WMSTileLayer\" />\n                    <label htmlFor=\"overlay-input-WMSTileLayer\">WMSTileLayer</label>\n                </div>\n                \n                <div className=\"inputGroup\">\n                    <input \n                        name=\"overlayType\" \n                        id=\"overlay-input-EsriTiledMapLayer\" \n                        type=\"radio\" \n                        value=\"EsriTiledMapLayer\" />\n                    <label htmlFor=\"overlay-input-EsriTiledMapLayer\">EsriTiledMapLayer</label>\n                </div>\n                \n                <div className=\"inputGroup\">\n                    <input \n                        name=\"overlayType\" \n                        id=\"overlay-input-EsriDynamicMapLayer\" \n                        type=\"radio\" \n                        value=\"EsriDynamicMapLayer\" />\n                    <label htmlFor=\"overlay-input-EsriDynamicMapLayer\">EsriDynamicMapLayer</label>\n                </div>\n                \n                <div className=\"inputGroup\">\n                    <input \n                        name=\"overlayType\" \n                        id=\"overlay-input-EsriFeatureLayer\" \n                        type=\"radio\" \n                        value=\"EsriFeatureLayer\" />\n                    <label htmlFor=\"overlay-input-EsriFeatureLayer\">EsriFeatureLayer</label><br/>\n                    <TooltipIcon tooltipName={Config.tooltips.AddOverlayEsriFeatureLayer} />\n                </div>\n        </div>\n        \n        <div className=\"inputGroup\">\n            <label className=\"textInputLabel\" \n                htmlFor=\"overlay-input-displayName\">\n                Display Name: \n            </label>\n\n            <input \n                name=\"overlayDisplayName\" \n                id=\"overlay-input-displayName\" \n                type=\"text\"/>\n        </div>\n        </>\n      this.props.openModal(this.modalType, modalContent);\n  }\n\n  render() {\n    return (\n        <button className='add-overlay'\n            onClick={this.onClick} \n            name=\"Add Overlay\"\n            title=\"Add Overlay\"\n            id='add-overlay'>\n            <span className='fa-layers fa-fw fa-2x'>\n                <FontAwesomeIcon icon='layer-group' />\n                <FontAwesomeIcon icon='plus' transform=\"shrink-9  up-4\" color=\"red\"/>\n            </span>\n        </button>\n    );\n  }\n}\n\nexport default AddOverlay;\n","import React, { Component } from 'react';\nimport \"./Checkbox.css\";\n\nclass MapLabelsToggle extends Component {\n\n  constructor(props) {\n    super(props);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange() {\n    this.props.toggleLabels();\n  }\n  render() {\n    return (\n      <div className=\"inputGroup\">\n          <input defaultChecked={this.props.labelLayerOn} \n                 name=\"labelsCheckbox\" \n                 id=\"labelsCheckbox\" \n                 type=\"checkbox\" \n                 onChange={this.onChange}>        \n          </input>\n          <label htmlFor=\"labelsCheckbox\">Map&nbsp;Labels</label>\n        </div>\n    );\n  }\n}\n\nexport default MapLabelsToggle;\n","import React, { Component } from 'react';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCog } from '@fortawesome/free-solid-svg-icons';\nimport MapLabelsToggle from './MapLabelsToggle';\n\n\nclass Settings extends Component {\n\n  constructor(props) {\n    super(props);\n    library.add(faCog);\n    this.onClick = this.onClick.bind(this);\n  }\n \n  onClick(e) {\n    let modalContent =  \n    <>\n        <MapLabelsToggle labelLayerOn={this.props.labelLayerOn}\n                         toggleLabels={this.props.toggleLabels} />\n    </>\n\n    this.props.openModal(\"Settings\", modalContent);\n  }\n\n  render() {\n    return (\n        <button className='settings-button' \n            onClick={this.onClick} \n            id='settings-button'>\n          <div className=\"icon-label\">\n             <FontAwesomeIcon icon='cog' size=\"2x\"/>\n          </div>\n\n        </button>\n      );\n  }\n}\n\nexport default Settings;\n","import React, { Component } from 'react';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faExpand, faCompress } from '@fortawesome/free-solid-svg-icons';\n\nlibrary.add(faExpand);\nlibrary.add(faCompress);\n\nclass FullscreenToggle extends Component {\n\n  render() {\n    return (\n        <button onClick={() => this.props.toggleFullscreen()}>\n          <FontAwesomeIcon \n              icon={this.props.isFullscreenEnabled ? \"compress\" : \"expand\"} \n              size=\"2x\"\n              />\n        </button>\n\n    );\n  }\n}\n\nexport default FullscreenToggle;\n","import React, { Component } from 'react';\nimport Geocoder from './Geocoder';\nimport AddOverlay from './AddOverlay';\nimport Settings from './Settings';\nimport FullscreenToggle from './FullscreenToggle';\nimport './UtilityBar.css';\n\n\nclass UtilityBar extends Component {\n\n  constructor(props) {\n    super(props);\n    this.transmitGeocode = this.transmitGeocode.bind(this);\n  }\n \n  componentDidMount(){\n  }\n\n  transmitGeocode(geocode){\n    this.props.transmitGeocode(geocode);\n  }\n\n  render() {\n    return (\n      <div id='UtilityBar' className={'UtilityBar'}>\n        <Geocoder transmitGeocode={this.transmitGeocode} />\n        <AddOverlay numberOfLayersOn={this.props.numberOfLayersOn} \n                    addOverlay={this.props.addOverlay}\n                    overlays={this.props.overlays}\n                    openModal={this.props.openModal} />\n        <FullscreenToggle toggleFullscreen={this.props.toggleFullscreen} \n                          isFullscreenEnabled={this.props.isFullscreenEnabled} />\n        <Settings \n          openModal={this.props.openModal}\n          labelLayerOn={this.props.labelLayerOn}\n          toggleLabels={this.props.toggleLabels}\n                                        />\n        \n      </div>\n    );\n  }\n}\n\nexport default UtilityBar;\n\n","import React, { Component } from 'react';\nimport Config from './Config';\nimport './Item.css';\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.onClick = this.onClick.bind(this);\n    this.state = {isToggledOn: false,\n                  opacity: 1.0};\n    this.resolveThumbnail.bind(this);\n    this.getThumbnailByLayerType.bind(this);\n    this.guessLayerTypeByUrl.bind(this);\n    this.resolveThumbnail();\n\n  }\n \n  guessLayerTypeByUrl(){\n\n  }\n\n  getThumbnailByLayerType(layerType){\n\n    // switch (layerType) {\n\n    //   case \"TileLayer\" {\n\n    //   }\n    // }\n  }\n\n\n  resolveThumbnail() {\n    if (this.props.thumbnail_file){\n      if (this.props.thumbnail_file.startsWith(\"http\")){\n        this.thumbnail_path = this.props.thumbnail_file;\n      }\n      else {\n        this.thumbnail_path = 'assets/images/' + this.props.thumbnail_file;\n      }  \n    }\n    if (this.props.type){\n      this.getThumbnailByLayerType(this.props.type);\n    }\n  }\n\n  onClick(e) {\n\n    let numLyrs = this.props.numberOfLayersOn;\n\n  \n    if (numLyrs === Config.maxLayers) {\n      if (!this.state.isToggledOn){\n        window.vex.dialog.alert(Config.maxLayersWarning.replace(\"{maxLayers}\", Config.maxLayers));\n        return\n      }\n    }\n\n    this.setState(prevState => ({\n      isToggledOn: !prevState.isToggledOn,\n      opacity: 1.0\n    }));\n\n\n    let props = {\n      \"opacity\": 1.0,\n      ...this.props\n    };\n    delete(props.onItemClick);\n    delete(props.isToggledOn);   \n    props.isToggledOn = !this.state.isToggledOn;\n    \n    this.props.onItemClick(props);\n\n\n\n    //   \"sortVal\": this.props.sortVal,\n    //   \"id\": this.props.id,\n    //   \"thumbnail_file\": this.props.thumbnail_file,\n    //   \"url\": this.props.url,\n    //   \"type\": this.props.type,\n    //   \"layers\": this.props.layers,\n    //   \"maxZoom\": this.props.maxZoom,\n    //   \"display_name\": this.props.display_name\n\n  }\n\n  render() {\n    let dispName = this.props.display_name;\n    return (\n      <button className={this.state.isToggledOn ? 'item on' : 'item off'} \n          onClick={this.onClick} \n          style={{backgroundImage: \"url('\" + this.thumbnail_path + \"')\"}}\n          id={this.props.id}>\n        <div className={dispName.length >= 10 ? \"label long-title\" : \"label\"}>\n          {dispName.length >= 20 ? dispName.slice(0,21)+\"...\" : dispName}\n        </div>\n\n        <div className=\"button\">\n\n        </div>\n      </button>\n    );\n  }\n}\n\nexport default Item;\n","import React from 'react';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faMap, faPlus} from '@fortawesome/free-solid-svg-icons';\nimport TooltipIcon from './TooltipIcon';\nimport Config from './Config';\nimport Item from './Item';\n\nclass AddLayerItem extends Item {\n\n  constructor(props) {\n    super(props);\n    library.add(faMap);\n    library.add(faPlus);\n    this.onClick = this.onClick.bind(this);\n    this.state = {isToggledOn: false,\n                  opacity: 1.0};\n      this.modalType = 'AddLayerItem';\n  }\n \n  onClick(e) {\n    let modalContent = \n      <>\n        <div className=\"inputGroup\">\n          <label className=\"textInputLabel\" htmlFor=\"url\">Url:</label>\n          <textarea\n                id='addLayerItemUrl' \n                name='addLayerItemUrl' \n                placeholder='Enter the URL to your map/data.'\n                onBlur={this.onBlur}></textarea>\n            <TooltipIcon tooltipName={Config.tooltips.AddOverlayUrl} />\n      \n        </div>\n\n        <div className=\"radioGroup\">\n          <label className=\"radioGroupLabel\" htmlFor=\"layerType\">Layer Type</label>\n\n          <div className=\"inputGroup\">\n            <input name=\"layerType\" id=\"input-TileLayer\" type=\"radio\" value=\"TileLayer\" />\n            <label htmlFor=\"input-TileLayer\">TileLayer</label>\n            <TooltipIcon tooltipName={Config.tooltips.AddOverlayTileLayer}/>\n                \n          </div>  \n          \n          <div className=\"inputGroup\">\n           <input \n              name=\"overlayType\" \n              id=\"overlay-input-WMSTileLayer\" \n              type=\"radio\" \n              value=\"WMSTileLayer\" />\n            <label htmlFor=\"input-WMSTileLayer\">WMSTileLayer</label>\n          </div>\n          \n          <div className=\"inputGroup\">         \n            <input name=\"layerType\" id=\"input-EsriTiledMapLayer\" type=\"radio\" value=\"EsriTiledMapLayer\" />\n            <label htmlFor=\"input-EsriTiledMapLayer\">EsriTiledMapLayer</label>\n          </div>\n          \n          <div className=\"inputGroup\">\n            <input name=\"layerType\" id=\"input-EsriDynamicMapLayer\" type=\"radio\" value=\"EsriDynamicMapLayer\" />\n            <label htmlFor=\"input-EsriDynamicMapLayer\">EsriDynamicMapLayer</label>\n          </div>\n\n          <div className=\"inputGroup\">\n            <input name=\"layerType\" id=\"input-EsriFeatureLayer\" type=\"radio\" value=\"EsriFeatureLayer\" />\n            <label htmlFor=\"input-EsriFeatureLayer\">EsriFeatureLayer</label>\n            <TooltipIcon tooltipName={Config.tooltips.AddOverlayEsriFeatureLayer} />\n          </div>\n\n        </div>\n        \n        <div className=\"inputGroup\">\n          <label className=\"textInputLabel\" htmlFor=\"input-displayName\">Display Name: </label>\n          <input name=\"displayName\" id=\"input-displayName\" type=\"text\" />\n        </div>\n      </>;\n\n      this.props.openModal(\"AddLayerItem\", modalContent);\n\n   \n  }\n\n  render() {\n    return (\n      <button className='add-layer item background-black' \n          onClick={this.onClick}\n          title=\"Add Layer\"\n          name=\"Add Layer\"\n          id='add-layer'>\n        <div className=\"icon-label\">\n          <span className=\"fa-layers fa-fw fa-5x\">\n            <FontAwesomeIcon icon=\"map\"/>\n            <FontAwesomeIcon icon=\"plus\" transform=\"shrink-5\" color=\"white\" />\n          </span>\n        </div>\n      </button>\n    );\n  }\n}\n\nexport default AddLayerItem;\n","import React, { Component } from 'react';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAngleLeft, faAngleRight } from '@fortawesome/free-solid-svg-icons';\nimport './ScrollButton.css';\n\nlibrary.add(faAngleLeft);\nlibrary.add(faAngleRight);\n\nclass ScrollButton extends Component {\n\n  constructor(props) {\n    super(props);\n    this.onClick = this.onClick.bind(this);\n  }\n \n  onClick(e) {\n    this.props.onClick(this.props.direction);\n  }\n\n  render() {\n    let arrow = this.props.direction === \"left\" ? \"angle-left\" : \"angle-right\";\n    return (\n      <div className={'ScrollButton ' + this.props.direction}\n           onClick={this.onClick}>  \n          <button><FontAwesomeIcon icon={arrow} size=\"lg\"/></button>\n      </div>\n    );\n  }\n}\n\nexport default ScrollButton;\n\n","import React, { Component } from 'react';\nimport { cloneDeep } from 'lodash';\nimport shortid from 'shortid';\nimport Item from './Item';\nimport AddLayerItem from './AddLayerItem';\nimport ScrollButton from './ScrollButton';\nimport LayersInfo from './LayersInfo';\nimport './ViewBar.css';\n\nclass ViewBar extends Component {\n\n  constructor(props) {\n    super(props);\n    this.handleItemClick = this.handleItemClick.bind(this);\n    this.handleScrollButtonClick = this.handleScrollButtonClick.bind(this);\n    //this.addLayer = this.addLayer.bind(this);\n    this.scrollTo = this.scrollTo.bind(this);\n    this.onWheel = this.onWheel.bind(this);\n    this.easeInOutQuad = this.easeInOutQuad.bind(this);\n  }\n\n  handleItemClick(data) {\n    let id = data.id;\n    let newState = cloneDeep(this.state);\n\n    newState.layers.forEach( (lyr,index) => {\n      if (lyr.id === id) {\n        newState.layers[index] = data;\n      }\n    });\n\n    this.setState(newState);   \n    this.props.onItemClick(data);\n  }\n\n  handleScrollButtonClick(scrollDirection) {\n    this.scrollTo(scrollDirection, 350);\n  }\n\n\n\n  componentWillUpdate(){\n\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    if (this.props.newLayer){\n\n      if (prevProps.newLayer && (prevProps.newLayer.id === this.props.newLayer.id)) {\n        return\n      }\n\n      let newLayer = this.props.newLayer;\n      let layers = this.state.layers;\n    \n      layers.push(newLayer);\n\n      this.setState({\"layers\": layers});\n    }\n  }\n\n  componentWillMount(prevProps, prevState){\n    //for the initial app load, set state using LayersInfo\n    let layers = LayersInfo.map(item => ({...item, isToggledOn: false, id: shortid.generate()}));\n    layers = layers.sort( (a, b) => {\n      return b.sortVal - a.sortVal \n    })\n    this.setState({\"layers\": layers});\n  }\n\n  onWheel(e){\n    let elem  = document.getElementById(\"viewbarItems\"),\n        scrollUnit = 50,\n\n        // deltaMode indicates if the deltaY value is pixels or lines (0 for pixels, 1 for lines, 2 for page)\n        deltaMode = e.deltaMode,\n\n        //if the deltamode is anything but pixels (0), use scroll unit to calculate scroll amount\n        scrollSize = deltaMode === (1 || 2) ? e.deltaY * scrollUnit: e.deltaY;\n\n    //e.preventDefault();\n    \n    elem.scrollLeft = elem.scrollLeft + scrollSize;\n    //this.setState({\"scrollLeft\": elem.scrollLeft});\n  }\n\n  scrollTo(direction, duration) {\n    let elem  = document.getElementById(\"viewbarItems\"),\n        start = elem.scrollLeft,\n        clientWidth = document.documentElement.clientWidth,\n        moveSize = Math.max(clientWidth/2, 300),\n        change = direction === \"left\" ? -moveSize : +moveSize,\n        currentTime = 0,\n        increment = 20,\n        that = this;\n        \n    let animateScroll = function(){        \n        currentTime += increment;\n        let val = that.easeInOutQuad(currentTime, start, change, duration);\n        elem.scrollLeft = val;\n        if(currentTime < duration) {\n            setTimeout(animateScroll, increment);\n        }\n    };\n    animateScroll();\n  }\n\n  //t = current time\n  //b = start value\n  //c = change in value\n  //d = duration\n  easeInOutQuad(t, b, c, d) {\n    t /= d/2;\n    if (t < 1) return c/2*t*t + b;\n    t--;\n    return -c/2 * (t*(t-2) - 1) + b;\n  }\n\n  render() {\n    const items = this.state.layers;\n    \n    return (\n      <footer className='ViewBar-container bottom'>\n        <ScrollButton direction=\"left\" onClick={this.handleScrollButtonClick}/>\n\n         <div onWheel={this.onWheel} onScroll={this.onScroll} scrollleft={this.state.scrollLeft} className='flip-move' id=\"viewbarItems\">\n           {items.map(item => <Item \n                numberOfLayersOn={this.props.numberOfLayersOn}\n                key={item.id} \n                onItemClick={this.handleItemClick}\n                {...item}\n              />)}\n\n            <AddLayerItem \n              numberOfLayersOn={this.props.numberOfLayersOn} \n              openModal={this.props.openModal}\n              closeModal={this.props.closeModal}\n              addLayer={this.addLayer} \n              />\n          </div>\n        <ScrollButton direction=\"right\" onClick={this.handleScrollButtonClick}/>\n      </footer>\n    );\n  }\n}\n\nexport default ViewBar;\n","import React, { Component } from 'react';\nimport ReactModal from 'react-modal';\nimport './Modal.css';\n\nReactModal.setAppElement('#root');\n\nclass Modal extends Component {\n  constructor(props) {\n    super(props);\n    this.formatContent = this.formatContent.bind(this);\n    this.afterOpenModal = this.afterOpenModal.bind(this);\n    this.gatherValues = this.gatherValues.bind(this);\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.ref = React.createRef(null);\n    this.state={};\n  }\n\nformatContent(modalType, modalContent) {\n    let content = <div className=\"modalContent\">\n                    {modalContent}\n                  </div>;\n    return content;\n  }\n\n  afterOpenModal() {\n    // references are now sync'd and can be accessed.\n    this.props.rebuildTooltip(true);\n\n  }\n\n  gatherValues(modalType){\n    var data = {};\n    switch (modalType) {\n\n      case \"AddLayerItem\":\n        data.type = document.querySelectorAll(\"input:checked[name='layerType']\")[0].value;\n        data.url =  document.getElementById(\"addLayerItemUrl\");\n        if (data.url === null){\n          return null\n        } \n        data.display_name = document.querySelectorAll(\"input[name='displayName']\")[0].value;\n        return data;\n\n      case \"AddOverlay\":\n        data.type = document.querySelectorAll(\"input:checked[name='overlayType']\");\n        data.type = data.type.length > 0 ? data.type[0].value : null;\n        data.url =  document.getElementById(\"addOverlayUrl\");\n        if (data.url === null){\n          return null\n        } \n        data.display_name = document.querySelectorAll(\"input[name='overlayDisplayName']\");\n        data.display_name = data.display_name.length > 0 ? data.display_name[0].value: null;\n        return data;\n        \n      default:\n        return\n    }\n  }\n\n  handleCloseModal() {\n    let modal = this.ref.current.node.children[0].children[0];\n    console.log(modal);\n    this.props.closeModal();\n  } \n\n  handleSubmit() {\n    let modalType = this.props.modalType;\n    let data = this.gatherValues(modalType);\n    \n    if (data.type === null) {\n      alert(\"Type is required.\");\n      return;\n    }\n    \n    if (data.url === null) {\n      alert(\"Url is required\");\n      return;\n    }\n\n    this.props.modalSubmit(modalType, data);\n    this.props.closeModal();\n\n  }\n\n  render() {\n  \tlet content = this.formatContent(this.props.modalType, this.props.modalContent);\n  \treturn <ReactModal\n          ref={this.ref}\n          closeTimeoutMS={500}\n          className=\"Modal-Content\"\n          key={\"modal\"}\n          isOpen={this.props.isOpen}\n          onAfterOpen={this.afterOpenModal}\n          onRequestClose={this.handleCloseModal}\n          contentLabel=\"Example Modal\">\n    \t{content}\n      <br/>\n      <button onClick={this.handleCloseModal}>Cancel</button>  \n      <button onClick={this.handleSubmit}>OK</button>  \n    </ReactModal>\n    \n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport './Tooltip.css';\n\nclass Tooltip extends Component {\n\n  constructor(props) {\n    super(props);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  resetRebuildTooltip() {\n    this.props.resetRebuildTooltip(false);\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    if (this.props.rebuildTooltip === true) {\n      ReactTooltip.rebuild();\n      this.resetRebuildTooltip();\n    }\n  }\n\n  onChange() {\n  }\n\n  render() {\n    return (\n      <>\n          <ReactTooltip \n              className=\"superHighZIndex\" \n              effect=\"solid\" \n              id=\"modal\" \n              place=\"right\"\n              multiline={true}\n              globalEventOff='click'/>\n          <ReactTooltip effect=\"solid\" id=\"home\" />\n      </>\n    );\n  }\n}\n\nexport default Tooltip;\n","import PropTypes from 'prop-types';\nimport {GridLayer, withLeaflet} from 'react-leaflet';\nimport {tiledMapLayer} from 'esri-leaflet';\n\n class EsriTiledMapLayer extends GridLayer {\n  static propTypes = {\n    url: PropTypes.string.isRequired\n  };\n\n  createLeafletElement(props) {\n    return tiledMapLayer(props); \n  }\n}\n\nexport default withLeaflet(EsriTiledMapLayer);","import {MapLayer, withLeaflet} from 'react-leaflet';\nimport {dynamicMapLayer} from 'esri-leaflet';\n\ntype Props = {\n  url: string \n} & MapLayerProps\n\nclass EsriDynamicMapLayer extends MapLayer<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n  \tlet options = {...props, \"f\": \"image\"};\n    const el = dynamicMapLayer(\n      options\n    )\n    this.contextValue = { ...props.leaflet, popupContainer: el }\n    return el\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.url !== fromProps.url) {\n      this.leafletElement.setUrl(toProps.url)\n    }\n  }\n}\n\nexport default withLeaflet(EsriDynamicMapLayer)\n","import {MapLayer, withLeaflet} from 'react-leaflet';\nimport {featureLayer} from 'esri-leaflet';\n\ntype Props = {\n  url: string \n} & MapLayerProps\n\nclass EsriFeatureLayer extends MapLayer<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n  \tlet options = {...props};\n    const el = featureLayer(\n      options\n    )\n    this.contextValue = { ...props.leaflet, popupContainer: el }\n    return el\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.url !== fromProps.url) {\n      this.leafletElement.setUrl(toProps.url)\n    }\n  }\n}\n\nexport default withLeaflet(EsriFeatureLayer)\n","import React, { Component } from 'react';\nimport {Map, TileLayer, WMSTileLayer, Marker} from 'react-leaflet';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faGripVertical } from '@fortawesome/free-solid-svg-icons';\nimport EsriTiledMapLayer from './EsriTiledMapLayer';\nimport EsriDynamicMapLayer from './EsriDynamicMapLayer';\nimport EsriFeatureLayer from './EsriFeatureLayer';\nimport {mapboxToken, \n        labelLayerUrl, \n        mapMinZoom, \n        mapDefaultZoom, \n        mapDefaultCenter} from './Config';\nimport 'leaflet.sync';\nimport './MapWrapper.css'\nimport './Handle.css';\n\nlibrary.add(faGripVertical);\n\nclass Handle extends React.Component {\n  render() {\n    const { provided, display_name } = this.props;\n    return (\n      <div className={display_name.length >= 10 ? \"Handle map-title long-title\" : \"Handle map-title\"}>\n         <span className=\"Handle-span\" {...provided.dragHandleProps}>\n          <FontAwesomeIcon className=\"Handle-drag-icon\" icon=\"grip-vertical\" size=\"1x\"/>\n        </span>\n         &nbsp;{display_name}\n      </div>\n    );\n  }\n}\n\n\nclass MapWrapper extends Component {\n  \n  constructor(props, context) {\n    super(props)\n    this.mapboxToken = mapboxToken;\n    this.labelLayerUrl = labelLayerUrl + this.mapboxToken;\n\n    const DEFAULT_VIEWPORT = {\n      center: mapDefaultCenter,\n      zoom: mapDefaultZoom\n    }\n    this.viewport = DEFAULT_VIEWPORT;\n    //this.props.mapCenter(this.viewport.center);\n    this.invalidateMapSizes = this.invalidateMapSizes.bind(this);\n    this.syncMaps = this.syncMaps.bind(this);\n    this.unsyncMaps = this.unsyncMaps.bind(this);\n    this.moveend = this.moveend.bind(this);\n    this.onViewportChanged = this.onViewportChanged.bind(this);\n    this.passUpRef = this.passUpRef.bind(this);\n    this.onResize = this.onResize.bind(this);\n    this.onGeocodeClick = this.onGeocodeClick.bind(this);\n    this.bboxStringToLatLngBoundsArray = this.bboxStringToLatLngBoundsArray.bind(this);\n    this.checkLayerBounds = this.checkLayerBounds.bind(this);\n  }\n\n  componentWillUnmount(){\n    this.passUpRef(this.props.layer.id, this.props.mapRef, true);\n  }\n\n  componentDidMount(prevProps, prevState){\n    this.passUpRef(this.props.layer.id, this.props.mapRef);\n  }\n  \n  onResize(e) {\n  }\n\n  moveend(e) {\n\n  }\n  \n  invalidateMapSizes() {\n    this.props.invalidateMapSizes();\n  }\n  \n\n  unsyncMaps(ref_id) {\n     this.props.unsyncMaps(ref_id);\n  }\n\n  syncMaps() {\n    this.props.syncMaps();\n  }\n\n  passUpRef(id, ref, deleteRef=false) {\n    this.props.passUpRef(id, ref, deleteRef);\n  }\n\n  bboxStringToLatLngBoundsArray(){\n      var a = this.props.layer.startBounds.split(\",\");\n      return [[a[1],a[0]], [a[3],a[2]]];\n  }; \n\n  checkLayerBounds(){\n    let layer = this.props.layer;\n    \n    if (layer.startBounds) {\n      return this.bboxStringToLatLngBoundsArray()\n    }\n\n    return null;\n  }\n\n  clearGeocode() {\n    this.props.clearGeocode();\n  }\n\n  onGeocodeClick() {\n    this.clearGeocode();\n  }\n\n  onViewportChanged(viewport) { \n    //putting viewport into state results in (near) infinite loop of componentdidupdates\n    //probably because L.sync is not react-ified\n    //so just use good ole generic this.viewport instead\n    this.viewport = viewport;\n  }\n\n  render() {\n    const layer_components = {\n      \"EsriFeatureLayer\": EsriFeatureLayer,\n      \"EsriTiledMapLayer\": EsriTiledMapLayer,\n      \"EsriDynamicMapLayer\": EsriDynamicMapLayer,\n      \"WMSTileLayer\": WMSTileLayer,\n      \"TileLayer\": TileLayer\n    }\n\n    const overlays = this.props.overlays;\n    const Overlays = () => {return (\n      <>\n        {overlays.map(layer => {\n          let Overlay = layer_components[layer.type];\n          return  (\n            <Overlay  \n                url={layer.url}\n                key={layer.id} \n                zIndex={100000}\n                pane=\"overlayPane\"\n                {...layer}\n                />\n          )\n        })}\n      </>)\n    };\n    const layer = this.props.layer;\n    let that = this;\n    let Layer = layer_components[layer.type];\n    const { provided } = this.props;\n  \n\n    // Use ids from layers array to create list of urls\n    return (<div \n              {...provided.draggableProps}\n              ref={provided.innerRef}>\n              <Handle provided={provided} display_name={layer.display_name} />\n              <Map ref={this.props.mapRef}\n                 minZoom={mapMinZoom}\n                 bounds={this.checkLayerBounds()}\n                 onResize={this.onResize}\n                 maxZoom={layer.maxZoom}\n                 onViewportChanged={that.onViewportChanged}\n                 className ={'map'+ this.props.numberLayers + (this.props.isDragging ? \"dragging\": \"nope\")}  \n                 id={layer.id}\n                 key={layer.id} \n                 viewport={that.viewport}\n                 zoomControl={layer.visibleIndex === 0 ? true : false}\n                >\n\n                {this.props.geocodeResult &&\n                  <Marker position={this.props.geocodeResult}\n                          onClick={this.onGeocodeClick}/>\n                }\n\n                {this.props.labelLayerOn &&\n                  <TileLayer \n                    key={\"labels-\" + layer.id}\n                    url={this.labelLayerUrl}\n                    pane=\"shadowPane\"\n                    zIndex={1000000} />\n                }\n                  \n                {this.props.overlays.length > 0 && <Overlays />}\n\n                <Layer \n                  key={layer.id} \n                  {...layer}\n                />\n\n            </Map>\n          </div>\n    )\n  }\n}  \n\n\nexport default React.forwardRef((props, ref) => <MapWrapper mapRef={ref} {...props} />);\n\n","import React from 'react';\nimport { Draggable } from 'react-beautiful-dnd';\nimport MapWrapper from './MapWrapper';\nimport \"./RowContainer.css\";\n\nclass RowContainer extends React.Component {\n\n  render() {\n    const { provided, layers } = this.props;\n\n  \tlet maps = layers.map((layer, index) => (\n\t\t<Draggable draggableId={\"draggable-\"+layer.id} \n\t\t\t\t   key={\"draggable-\"+layer.id} \n\t\t\t\t   index={index}>\n\t\t \t{(provided, snapshot) => (\n\t\t  \t<MapWrapper\n\t\t        layer={layer}\n\t\t        overlays={this.props.overlays}\n\t\t        numberLayers={layers.length}\n\t\t        innerRef={provided.innerRef}\n\t\t        key={layer.id}\n\t\t        layerIndex={index}\n\t\t        provided={provided}\n\t\t        isDragging={snapshot.isDragging}\n\t\t        passUpRef={this.props.passUpRef}\n\t\t        mapRef={this.props.mapRef}\n\t\t        syncMaps={this.props.syncMaps}\n\t\t        geocodeResult={this.props.geocodeResult}\n\t\t        clearGeocode={this.props.clearGeocode}\n\t\t        unsyncMaps={this.props.unsyncMaps}\n\t\t        labelLayerOn={this.props.labelLayerOn}\n\t\t        invalidateMapSizes={this.props.invalidateMapSizes}\n\t\t        />\n\t\t \t)}\n\t  </Draggable>\n    ));\n\n\n    return (\n    \t//<div><h1>poop</h1></div>\n      <div className={this.props.className} \n      \t   ref={provided.innerRef}\n      \t   {...provided.droppableProps}>\n      \t{maps}\n        {provided.placeholder}\n      </div>\n    );\n  }\n}\n\nexport default React.forwardRef((props, ref) => <RowContainer mapRef={ref} {...props} />);;\n//export default RowContainer;","import React, { Component } from 'react';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport RowContainer from './RowContainer';\nimport { moveWithinArray, compareArrays } from './Util';\n\nclass MapsContainer extends Component {\n\n  constructor(props) {\n    super(props);\n    this.onDragEnd = this.onDragEnd.bind(this);\n    this.setMapRef = this.setMapRef.bind(this);\n    this.syncMaps = this.syncMaps.bind(this);\n    this.unsyncMaps = this.unsyncMaps.bind(this);\n    this.invalidateMapSizes = this.invalidateMapSizes.bind(this);\n    this.handleGeocode = this.handleGeocode.bind(this);\n    this.clearGeocode = this.clearGeocode.bind(this);\n    this.state = {\"mapRefs\": {}}\n    this.passUpRef = this.passUpRef.bind(this);\n  }\n\n  passUpRef(id, ref, deleteRef) {\n    let mapRefs = {\"mapRefs\": this.state.mapRefs};\n\n    if (deleteRef) {\n      this.unsyncMaps(id);\n      delete(mapRefs.mapRefs[id]);\n      this.setState(mapRefs);\n    }\n    else {\n      this.syncMaps();\n    }\n    this.invalidateMapSizes();\n  }\n\n setMapRef(DOMNode) {\n    let mapRefs = {\"mapRefs\": this.state.mapRefs};\n\n    if (DOMNode) {\n      mapRefs.mapRefs[DOMNode.container.id] = DOMNode;\n      this.setState(mapRefs);\n    }\n  }\n\n onDragEnd(draggedLayer) {\n\n    if (draggedLayer.destination === null) {\n      return;\n    }\n\n    let allLayers = this.props.layers;\n    let currentRow = draggedLayer.source.droppableId;  \n    let destRow = draggedLayer.destination.droppableId; \n    let currentLayerIndex, destinationIndex;\n    \n    if (currentRow === \"row2\") {\n      currentLayerIndex = allLayers.filter(i => i.row === \"row1\").length + draggedLayer.source.index;\n    }\n    else {\n      currentLayerIndex = draggedLayer.source.index;\n    }\n\n    \n    if (destRow === \"row2\") {\n      destinationIndex = allLayers.filter(i => i.row === \"row1\").length + draggedLayer.destination.index;\n    }\n    else {\n      destinationIndex = draggedLayer.destination.index;\n    }\n\n    let allTurnedOnLayers = allLayers.filter(i => i.isToggledOn);\n    moveWithinArray(allTurnedOnLayers, currentLayerIndex, destinationIndex);\n \tthis.props.updateLayerDisplayIndexesAndRows(allTurnedOnLayers);\n  }\n\n  invalidateMapSizes() {\n    let mapRefs = this.state.mapRefs;\n    for (let i in mapRefs){ \n      mapRefs[i].leafletElement.invalidateSize();\n    }\n  }\n\n  unsyncMaps(ref_id) {\n    let mapRefs = this.state.mapRefs;\n    for (var i in mapRefs){\n      if (i !== ref_id && mapRefs[ref_id]){\n          mapRefs[ref_id].leafletElement.unsync(mapRefs[i].leafletElement);\n          mapRefs[i].leafletElement.unsync(mapRefs[ref_id].leafletElement);\n      }\n    }\n  }\n\n  syncMaps() {\n    let mapRefs = this.state.mapRefs;\n    for (var i in mapRefs){\n      for (var j in mapRefs){\n        if (i !== j && !mapRefs[i].leafletElement.isSynced(mapRefs[j].leafletElement)){\n          mapRefs[i].leafletElement.sync(\n            mapRefs[j].leafletElement, {syncCursor: true}\n          );           \n        }\n      }\n    }\n  }\n\n  clearGeocode() {\n  \tthis.setState({\"geocodeResult\": false});\n  }\n\n  handleGeocode(geocodeResult){\n  \t//maybe move this to mapwrapper? other than setting state w/ center that is\n  \tlet randomMap = Object.entries(this.state.mapRefs)[0][1];\n    let bbox = this.props.geocodeResult.geocode.bbox;\n    let center = this.props.geocodeResult.geocode.center;\n\n    if (bbox._northEast.lat !== bbox._southWest.lat){\n      randomMap.leafletElement.fitBounds(bbox);\n    }\n\n    else {\n      randomMap.leafletElement.setView(center, 15);\n    }\n    this.setState({\"geocodeResult\": center});\n    setTimeout(this.clearGeocode, 2000);\n\n  }\n\n  componentDidUpdate(prevProps, prevState){\n\n    if (prevProps.layers.filter(i => i.isToggledOn).length !== \n         this.props.layers.filter(i => i.isToggledOn).length) \n    {\n      this.invalidateMapSizes();\n    }\n\n    else if (!compareArrays(prevProps.layers, this.props.layers))\n    {\n      setTimeout(this.invalidateMapSizes, 400);\n    }\n\n    if (prevProps.geocodeResult !== this.props.geocodeResult) {\n      this.handleGeocode(this.props.geocodeResult);\n    }\n  }\n\n  render() {\n  \tlet layers = this.props.layers.filter(lyr => lyr.isToggledOn);\n  \tlet numberRows = [];\n    layers.forEach(lyr => {\n    \tnumberRows.push(lyr.row);\n    });\n    numberRows = new Set(numberRows);\n    numberRows = [...numberRows];\n\n    let row1Layers = layers.filter(i => i.row === \"row1\");\n    row1Layers.sort((a, b) => a.visibleIndex - b.visibleIndex);\n    let row2Layers = layers.filter(i => i.row === \"row2\");\n    row2Layers.sort((a, b) => a.visibleIndex - b.visibleIndex);\n    \n\n    let rows = numberRows.map( (val, index) => { \n      return (\n        <Droppable droppableId={val} key={val} direction=\"horizontal\">\n          {(provided, snapshot) => (\n            <RowContainer className={\"Row \" + val + (numberRows.length === 2 ? \" two-rows\" : \"\" )} \n                  provided={provided}\n                  snapshot={snapshot}\n                  passUpRef={this.passUpRef}\n\t\t\t\t          geocodeResult={this.state.geocodeResult}\n\t\t\t\t          clearGeocode={this.clearGeocode}\n                  mapRef={this.setMapRef} \n                  innerRef={provided.innerRef}\n                  syncMaps={this.syncMaps}\n                  labelLayerOn={this.props.labelLayerOn}\n                  unsyncMaps={this.unsyncMaps}\n                  invalidateMapSizes={this.invalidateMapSizes}\n                  overlays={this.props.overlays}\n                  layers={val === \"row1\" ? row1Layers : row2Layers}>\n            </RowContainer>\n          )}  \n        </Droppable>\n      )\n    });\n\n    return (\n      <div id='maps'>\n            <DragDropContext onDragEnd={this.onDragEnd}>\n              {rows}\n            </DragDropContext>\n      </div>\n    );\n  }\n}\n\nexport default React.forwardRef((props, ref) => <MapsContainer mapRef={ref} {...props} />);;\n","import React, { Component } from 'react';\nimport Vex from 'vex-js';\nimport plugin from 'vex-dialog';\nimport Fullscreen from 'react-fullscreen-crossbrowser';\nimport { cloneDeep } from 'lodash';\nimport shortid from 'shortid';\nimport { findWithAttr, moveWithinArray } from './Util';\nimport UtilityBar from './UtilityBar';\nimport ViewBar from './ViewBar';\nimport Modal from './Modal';\nimport Tooltip from './Tooltip';\nimport MapsContainer from './MapsContainer';\nimport Config, { welcomeText, siteTitle } from './Config';\nimport './App.css';\n\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.handleItemClick = this.handleItemClick.bind(this);\n    this.transmitGeocode = this.transmitGeocode.bind(this);\n    this.toggleFullscreen = this.toggleFullscreen.bind(this);\n    this.toggleLabels = this.toggleLabels.bind(this);\n    this.toggleModal = this.toggleModal.bind(this);\n    this.toggleSpinner = this.toggleSpinner.bind(this);\n    this.rebuildTooltip = this.rebuildTooltip.bind(this);\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n    this.modalSubmit = this.modalSubmit.bind(this);\n    this.calculateDisplayIndexes = this.calculateDisplayIndexes.bind(this);\n    this.calculateRowLayers = this.calculateRowLayers.bind(this);\n    this.updateLayerDisplayIndexesAndRows = this.updateLayerDisplayIndexesAndRows.bind(this);\n    this.addOverlay = this.addOverlay.bind(this);\n    this.addLayer = this.addLayer.bind(this);\n    this.state = {\"layers\":[],\n                  \"overlays\": Config.defaultOverlays || [],\n                  \"numberOfLayersOn\": 0, \n                  \"geocodeResult\": {},\n                  \"labelLayerOn\": true,\n                  \"showSpinner\": false,\n                  \"rebuildTooltip\": false,\n                  \"modalIsOpen\": false,\n                  \"modalContent\": \"\"};\n\n    //alert alert hack ahead\n    window.vex = Vex;\n    window.vex.registerPlugin(plugin);\n    window.vex.defaultOptions.className = 'vex-theme-os';\n  }\n\n  transmitGeocode(geocode) {\n    this.setState({\"geocode\": geocode});\n  }\n\n  toggleFullscreen() {\n    let current_val = this.state.isFullscreenEnabled;\n    this.setState({isFullscreenEnabled: !current_val});\n  }\n\n  toggleLabels() {\n    console.log(\"toggleLabels\");\n    let curr = this.state.labelLayerOn;\n    this.setState({\"labelLayerOn\": !curr});\n  }\n\n  toggleSpinner(bool) {\n    this.setState({\"showSpinner\": bool});\n  }\n\n  toggleModal(bool) {\n    this.setState({\"modalIsOpen\": bool});\n  }\n\n  modalSubmit(modalType, data){\n    console.log(modalType);\n    console.log(data);\n    switch (modalType){\n      case \"AddLayerItem\":\n        this.addLayer(data);\n        break;\n      case \"AddOverlay\":\n        this.addOverlay(data);\n        break;\n    }\n\n  }\n\n  openModal(modalType, modalContent){\n    \n    this.setState({\n      modalType: modalType,\n      modalContent: modalContent\n    });\n    this.toggleModal(true);\n\n  }\n  \n  closeModal() {\n    this.toggleModal(false);\n  }\n\n  rebuildTooltip(bool) {\n    console.log(\"rebuildTooltip\", bool);\n    this.setState({\"rebuildTooltip\": bool});\n  }\n\n  addOverlay(data) {\n    console.log(\"------ ADD OVERLAY ------\");\n    let overlays = cloneDeep(this.state.overlays);\n      \n    var new_layer = data;\n    new_layer.isOverlay = true;\n    new_layer.id = shortid.generate();\n    overlays.push(new_layer);\n    this.setState({\"overlays\":overlays});\n  }\n\n  addLayer(data) {\n    let new_layer = data,\n      id = new_layer.display_name + \"_new\", //lazy id baby\n      maxZoom = 20;\n\n    new_layer.id = id;\n    new_layer.maxZoom = maxZoom;\n    \n    \n    this.setState({\"newLayer\": new_layer});\n  }\n\n  handleItemClick(data) {\n    let found = false;\n    let foundIdx;\n    let newStateLayers = cloneDeep(this.state.layers);  \n\n    newStateLayers.forEach((lyr, index) => {\n      if (data.id === lyr.id){\n        found = true;\n        foundIdx = index;\n      }\n    });\n\n    if (!found){\n      newStateLayers = newStateLayers.concat([data]);\n    }\n\n    else {\n\n      newStateLayers[foundIdx].isToggledOn = !this.state.layers[foundIdx].isToggledOn;\n\n      //rearrange the layers array so display order matches clicked order\n      moveWithinArray(newStateLayers, foundIdx, newStateLayers.length - 1);\n    }\n\n    newStateLayers = this.calculateDisplayIndexes(newStateLayers);\n    newStateLayers = this.calculateRowLayers(newStateLayers);\n\n    let newNumberOfLayersOn = newStateLayers.filter(i => i.isToggledOn).length;\n\n    let newState = {\"layers\": newStateLayers,\n                  \"numberOfLayersOn\": newNumberOfLayersOn};\n\n    this.setState(newState);\n  }\n\n updateLayerDisplayIndexesAndRows(layers) {\n  let newLayers = cloneDeep(this.state.layers);\n  layers.forEach((lyr, index) => {\n    var lyrIndex = findWithAttr(newLayers, \"id\", lyr.id);\n    newLayers[lyrIndex].visibleIndex = index;\n  });\n  newLayers = this.calculateRowLayers(newLayers);\n\n  this.setState({\"layers\": newLayers});\n }\n\n calculateDisplayIndexes(layers) {\n    var visibleIndex = 0;\n    let newLayers = layers.map(function(lyr){\n      if (lyr.isToggledOn) {\n        lyr.visibleIndex = visibleIndex;\n        visibleIndex ++;\n      }\n\n      return lyr;\n    });\n    return newLayers;\n  }\n  \ncalculateRowLayers(layers) {\n  let visibleLayers = layers.filter(i => i.isToggledOn);\n  let numberOfLayersOn = visibleLayers.length;\n  visibleLayers.sort(function(a,b){\n    return a.visibleIndex - b.visibleIndex;\n  })\n\n  switch(numberOfLayersOn){\n    case 1:\n    case 2:\n    case 3:\n      visibleLayers.forEach(i => i.row = \"row1\");\n      break;\n    case 4:\n      visibleLayers.slice(0,2).forEach(i => i.row = \"row1\");\n      visibleLayers.slice(2).forEach(i => i.row = \"row2\");\n      break;\n    case 5:\n    case 6:\n      visibleLayers.slice(0,3).forEach(i => i.row = \"row1\");\n      visibleLayers.slice(3).forEach(i => i.row = \"row2\");\n      break;\n    case 7:\n    case 8:\n      visibleLayers.slice(0,4).forEach(i => i.row = \"row1\");\n      visibleLayers.slice(4).forEach(i => i.row = \"row2\");\n      break;\n    default:\n      break;\n  }\n  return visibleLayers;\n}\n\n  render() {\n\n    return (\n\n      <Fullscreen\n          enabled={this.state.isFullscreenEnabled}\n          onChange={isFullscreenEnabled => this.setState({isFullscreenEnabled})}>\n\n        <div className=\"App\">\n        \n          <header className=\"App-header\">\n            {siteTitle}\n          </header>\n\n          <Modal isOpen={this.state.modalIsOpen} \n              toggleSpinner={this.toggleSpinner} \n              openModal={this.openModal}\n              closeModal={this.closeModal}\n              modalSubmit={this.modalSubmit}\n              modalContent={this.state.modalContent}\n              modalType={this.state.modalType}\n              rebuildTooltip={this.rebuildTooltip}\n              />\n\n          <Tooltip rebuildTooltip={this.state.rebuildTooltip}\n                   resetRebuildTooltip={this.rebuildTooltip} />\n         \n          {this.state.numberOfLayersOn === 0 && \n            <div className='no-maps'>\n              <p>\n                {welcomeText}\n              </p>\n            </div>\n          }\n\n          {this.state.numberOfLayersOn > 0 && \n            <MapsContainer layers={this.state.layers} \n                           overlays={this.state.overlays}\n                           mapCenter={this.mapCenter}\n                           geocodeResult={this.state.geocode}\n                           labelLayerOn={this.state.labelLayerOn}\n                           numberOfLayersOn={this.state.numberOfLayersOn}\n                           updateLayerDisplayIndexesAndRows={this.updateLayerDisplayIndexesAndRows}\n                           >\n        \n            </MapsContainer>\n          }\n\n          {this.state.numberOfLayersOn > 0 && \n            <UtilityBar transmitGeocode={this.transmitGeocode} \n                        toggleFullscreen={this.toggleFullscreen}\n                        toggleLabels={this.toggleLabels}\n                        labelLayerOn={this.state.labelLayerOn}\n                        isFullscreenEnabled={this.state.isFullscreenEnabled}\n                        overlays={this.state.overlays}\n                        addOverlay={this.addOverlay}\n                        openModal={this.openModal}\n                        closeModal={this.closeModal}\n                         />\n          }\n\n          <ViewBar onItemClick={this.handleItemClick}\n                   numberOfLayersOn={this.state.numberOfLayersOn}\n                   toggleModal={this.toggleModal}\n                   openModal={this.openModal}\n                   closeModal={this.closeModal}\n                   newLayer={this.state.newLayer} />\n\n        </div>\n      </Fullscreen>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'react-app-polyfill/ie9';\nimport 'react-app-polyfill/stable';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './theme.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\nimport cssVars from 'css-vars-ponyfill';\ncssVars({\n  // Options...\n});\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}